import{M as w,V as Y,R as c,i as v,r as R,a as y,x as l,n as W,h as ie,K as ae,e as p,t as P,H as ne,o as _,f as K,O as N,C as D,A as H,S,D as T,T as se,$ as re,d as ce,c as le}from"./index-C4QAg8YX.js";import{c as f,n as u,r as d,o as j,U as de}from"./if-defined-BYYrXBY0.js";import"./index-jJzQQPyG.js";import"./index-BRbX2CYq.js";import"./index-DQcN5B-F.js";import"./index-BomhzTZl.js";import"./index-BTa2w2R5.js";import"./index-Dc8ntwLA.js";import"./index-yDWDF4Y8.js";const X={isUnsupportedChainView(){return c.state.view==="UnsupportedChain"||c.state.view==="SwitchNetwork"&&c.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){w.shake();return}if(await Y.isSIWXCloseDisabled()){w.shake();return}w.close()}},ue=v`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var pe=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};let L=class extends y{render(){return l`<slot></slot>`}};L.styles=[R,ue];L=pe([f("wui-card")],L);const he=v`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var A=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};let k=class extends y{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,l`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){W.close()}};k.styles=[R,he];A([u()],k.prototype,"message",void 0);A([u()],k.prototype,"backgroundColor",void 0);A([u()],k.prototype,"iconColor",void 0);A([u()],k.prototype,"icon",void 0);k=A([f("wui-alertbar")],k);const we=v`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var q=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};const me={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let E=class extends y{constructor(){super(),this.unsubscribe=[],this.open=W.state.open,this.onOpen(!0),this.unsubscribe.push(W.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=W.state,i=me[t];return l`
      <wui-alertbar
        message=${e}
        backgroundColor=${i?.backgroundColor}
        iconColor=${i?.iconColor}
        icon=${i?.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};E.styles=we;q([d()],E.prototype,"open",void 0);E=q([f("w3m-alertbar")],E);const fe=v`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var G=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};let O=class extends y{constructor(){super(...arguments),this.imageSrc=""}render(){return l`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?l`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:l`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};O.styles=[R,ie,ae,fe];G([u()],O.prototype,"imageSrc",void 0);O=G([f("wui-select")],O);const ge=v`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var g=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};const be=["SmartSessionList"];function B(){const s=c.state.data?.connector?.name,e=c.state.data?.wallet?.name,t=c.state.data?.network?.name,i=e??s,a=D.getConnectors();return{Connect:`Connect ${a.length===1&&a[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:i??"Connect Wallet",ConnectingWalletConnect:i??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:i?`Get ${i}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:t??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:H.state.socialProvider?H.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}let h=class extends y{constructor(){super(),this.unsubscribe=[],this.heading=B()[c.state.view],this.network=p.state.activeCaipNetwork,this.networkImage=P.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=c.state.view,this.viewDirection="",this.headerText=B()[c.state.view],this.unsubscribe.push(ne.subscribeNetworkImages(()=>{this.networkImage=P.getNetworkImage(this.network)}),c.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=B()[e]},_.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),p.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=P.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return l`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){K.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),c.push("WhatIsAWallet")}async onClose(){await X.safeClose()}rightHeaderTemplate(){const e=N?.state?.features?.smartSessions;return c.state.view!=="Account"||!e?this.closeButtonTemplate():l`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>c.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return l`
      <wui-icon-link
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=be.includes(this.view);return l`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?l`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=c.state,t=e==="Connect",i=N.state.enableEmbedded,a=e==="ApproveTransaction",o=e==="ConnectingSiwe",n=e==="Account",r=N.state.enableNetworkSwitch,U=a||o||t&&i;return n&&r?l`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${j(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${j(this.networkImage)}
      ></wui-select>`:this.showBack&&!U?l`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:l`<wui-icon-link
      data-hidden=${!t}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(K.sendEvent({type:"track",event:"CLICK_NETWORKS"}),c.push("Networks"))}isAllowedNetworkSwitch(){const e=p.getAllRequestedCaipNetworks(),t=e?e.length>1:!1,i=e?.find(({id:a})=>a===this.network?.id);return t||!i}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=c.state;let t=_.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=_.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){const{history:e}=c.state,t=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&t?(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){c.goBack()}};h.styles=ge;g([d()],h.prototype,"heading",void 0);g([d()],h.prototype,"network",void 0);g([d()],h.prototype,"networkImage",void 0);g([d()],h.prototype,"showBack",void 0);g([d()],h.prototype,"prevHistoryLength",void 0);g([d()],h.prototype,"view",void 0);g([d()],h.prototype,"viewDirection",void 0);g([d()],h.prototype,"headerText",void 0);h=g([f("w3m-header")],h);const ve=v`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var x=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};let m=class extends y{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return l`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?l`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?l`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:l`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};m.styles=[R,ve];x([u()],m.prototype,"backgroundColor",void 0);x([u()],m.prototype,"iconColor",void 0);x([u()],m.prototype,"icon",void 0);x([u()],m.prototype,"message",void 0);x([u()],m.prototype,"loading",void 0);x([u()],m.prototype,"iconType",void 0);m=x([f("wui-snackbar")],m);const ye=v`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var F=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};const Ce={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let I=class extends y{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=S.state.open,this.unsubscribe.push(S.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t,svg:i}=S.state,a=Ce[t],{icon:o,iconColor:n}=i??a??{};return l`
      <wui-snackbar
        message=${e}
        backgroundColor=${a?.backgroundColor}
        iconColor=${n}
        icon=${o}
        .loading=${t==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),S.state.autoClose&&(this.timeout=setTimeout(()=>S.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};I.styles=ye;F([d()],I.prototype,"open",void 0);I=F([f("w3m-snackbar")],I);const ke=v`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var C=function(s,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var r=s.length-1;r>=0;r--)(n=s[r])&&(o=(a<3?n(o):a>3?n(e,t,o):n(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o};const z="scroll-lock";class b extends y{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=N.state.enableEmbedded,this.open=w.state.open,this.caipAddress=p.state.activeCaipAddress,this.caipNetwork=p.state.activeCaipNetwork,this.shake=w.state.shake,this.filterByNamespace=D.state.filterByNamespace,this.initializeTheming(),T.prefetchAnalyticsConfig(),this.unsubscribe.push(w.subscribeKey("open",e=>e?this.onOpen():this.onClose()),w.subscribeKey("shake",e=>this.shake=e),p.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),p.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),N.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),D.subscribeKey("filterByNamespace",e=>{this.filterByNamespace!==e&&!p.getAccountData(e)?.caipAddress&&(T.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){w.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?l`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?l`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return l` <wui-card
      shake="${this.shake}"
      data-embedded="${j(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await X.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:t}=se.state,i=de.getColorTheme(t);re(e,i)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),S.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=z,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${z}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",t=>{if(t.key==="Escape")this.handleClose();else if(t.key==="Tab"){const{tagName:i}=t.target;i&&!i.includes("W3M-")&&!i.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const t=p.state.isSwitchingNamespace,i=ce.getPlainAddress(e);!i&&!t?w.close():t&&i&&c.goBack(),await Y.initializeIfEnabled(),this.caipAddress=e,p.setIsSwitchingNamespace(!1)}onNewNetwork(e){const t=this.caipNetwork,i=t?.caipNetworkId?.toString(),a=t?.chainNamespace,o=e?.caipNetworkId?.toString(),n=e?.chainNamespace,r=i!==o,J=r&&!(a!==n),Q=t?.name===le.UNSUPPORTED_NETWORK_NAME,Z=c.state.view==="ConnectingExternal",ee=!p.getAccountData(e?.chainNamespace)?.caipAddress,te=c.state.view==="UnsupportedChain",oe=w.state.open;let $=!1;oe&&!Z&&(ee?r&&($=!0):(te||J&&!Q)&&($=!0)),$&&c.state.view!=="SIWXSignMessage"&&c.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(T.prefetch(),T.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}b.styles=ke;C([u({type:Boolean})],b.prototype,"enableEmbedded",void 0);C([d()],b.prototype,"open",void 0);C([d()],b.prototype,"caipAddress",void 0);C([d()],b.prototype,"caipNetwork",void 0);C([d()],b.prototype,"shake",void 0);C([d()],b.prototype,"filterByNamespace",void 0);let M=class extends b{};M=C([f("w3m-modal")],M);let V=class extends b{};V=C([f("appkit-modal")],V);export{V as AppKitModal,M as W3mModal,b as W3mModalBase};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidzNtLW1vZGFsLUNXZUhvUXRGLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvTW9kYWxVdGlsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvbmVudHMvd3VpLWNhcmQvc3R5bGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvbmVudHMvd3VpLWNhcmQvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11aS9kaXN0L2VzbS9zcmMvY29tcG9zaXRlcy93dWktYWxlcnRiYXIvc3R5bGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvc2l0ZXMvd3VpLWFsZXJ0YmFyL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL3BhcnRpYWxzL3czbS1hbGVydGJhci9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvcGFydGlhbHMvdzNtLWFsZXJ0YmFyL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvc2l0ZXMvd3VpLXNlbGVjdC9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11aS9kaXN0L2VzbS9zcmMvY29tcG9zaXRlcy93dWktc2VsZWN0L2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL3BhcnRpYWxzL3czbS1oZWFkZXIvc3R5bGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL3BhcnRpYWxzL3czbS1oZWFkZXIvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC11aS9kaXN0L2VzbS9zcmMvY29tcG9zaXRlcy93dWktc25hY2tiYXIvc3R5bGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvc2l0ZXMvd3VpLXNuYWNrYmFyL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL3BhcnRpYWxzL3czbS1zbmFja2Jhci9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvcGFydGlhbHMvdzNtLXNuYWNrYmFyL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL21vZGFsL3czbS1tb2RhbC9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvbW9kYWwvdzNtLW1vZGFsL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGFsQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL01vZGFsQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTSVdYVXRpbCB9IGZyb20gJy4vU0lXWFV0aWwuanMnO1xuZXhwb3J0IGNvbnN0IE1vZGFsVXRpbCA9IHtcbiAgICBpc1Vuc3VwcG9ydGVkQ2hhaW5WaWV3KCkge1xuICAgICAgICByZXR1cm4gKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyA9PT0gJ1Vuc3VwcG9ydGVkQ2hhaW4nIHx8XG4gICAgICAgICAgICAoUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnU3dpdGNoTmV0d29yaycgJiZcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnN0YXRlLmhpc3RvcnkuaW5jbHVkZXMoJ1Vuc3VwcG9ydGVkQ2hhaW4nKSkpO1xuICAgIH0sXG4gICAgYXN5bmMgc2FmZUNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc1Vuc3VwcG9ydGVkQ2hhaW5WaWV3KCkpIHtcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5zaGFrZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU0lXWENsb3NlRGlzYWJsZWQgPSBhd2FpdCBTSVdYVXRpbC5pc1NJV1hDbG9zZURpc2FibGVkKCk7XG4gICAgICAgIGlmIChpc1NJV1hDbG9zZURpc2FibGVkKSB7XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2hha2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kYWxVdGlsLmpzLm1hcCIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBjc3MgYFxuICA6aG9zdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgYm9yZGVyLXJhZGl1czogY2xhbXAoMHB4LCB2YXIoLS13dWktYm9yZGVyLXJhZGl1cy1sKSwgNDRweCk7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMXB4IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwNSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0td3VpLWNvbG9yLW1vZGFsLWJnKTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbiAgOmhvc3QoW2RhdGEtZW1iZWRkZWQ9J3RydWUnXSkge1xuICAgIGJveC1zaGFkb3c6XG4gICAgICAwIDAgMCAxcHggdmFyKC0td3VpLWNvbG9yLWdyYXktZ2xhc3MtMDA1KSxcbiAgICAgIDBweCA0cHggMTJweCA0cHggdmFyKC0tdzNtLWNhcmQtZW1iZWRkZWQtc2hhZG93LWNvbG9yKTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHJlc2V0U3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGhlbWVVdGlsLmpzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscy9XZWJDb21wb25lbnRzVXRpbC5qcyc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmxldCBXdWlDYXJkID0gY2xhc3MgV3VpQ2FyZCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYDxzbG90Pjwvc2xvdD5gO1xuICAgIH1cbn07XG5XdWlDYXJkLnN0eWxlcyA9IFtyZXNldFN0eWxlcywgc3R5bGVzXTtcbld1aUNhcmQgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3dWktY2FyZCcpXG5dLCBXdWlDYXJkKTtcbmV4cG9ydCB7IFd1aUNhcmQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBjc3MgYFxuICA6aG9zdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIHBhZGRpbmc6IHZhcigtLXd1aS1zcGFjaW5nLXMpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLXMpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXd1aS1jb2xvci1kYXJrLWdsYXNzLTEwMCk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13dWktY29sb3ItYmctMzI1KTtcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDE2cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gIH1cblxuICB3dWktZmxleCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICB3dWktdGV4dCB7XG4gICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICBmbGV4OiAxO1xuICB9XG5cbiAgLmNsb3NlIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cblxuICAuaWNvbi1ib3gge1xuICAgIGhlaWdodDogNDBweDtcbiAgICB3aWR0aDogNDBweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS13dWktYm9yZGVyLXJhZGl1cy0zeHMpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxvY2FsLWljb24tYmctdmFsdWUpO1xuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBBbGVydENvbnRyb2xsZXIgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy93dWktaWNvbi9pbmRleC5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvbXBvbmVudHMvd3VpLXRleHQvaW5kZXguanMnO1xuaW1wb3J0ICcuLi8uLi9sYXlvdXQvd3VpLWZsZXgvaW5kZXguanMnO1xuaW1wb3J0IHsgcmVzZXRTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscy9UaGVtZVV0aWwuanMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWxzL1dlYkNvbXBvbmVudHNVdGlsLmpzJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xubGV0IFd1aUFsZXJ0QmFyID0gY2xhc3MgV3VpQWxlcnRCYXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJyc7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ2FjY2VudC0xMDAnO1xuICAgICAgICB0aGlzLmljb25Db2xvciA9ICdhY2NlbnQtMTAwJztcbiAgICAgICAgdGhpcy5pY29uID0gJ2luZm8nO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIC0tbG9jYWwtaWNvbi1iZy12YWx1ZTogdmFyKC0td3VpLWNvbG9yLSR7dGhpcy5iYWNrZ3JvdW5kQ29sb3J9KTtcbiAgIGA7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDx3dWktZmxleCBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICA8d3VpLWZsZXggY29sdW1uR2FwPVwieHNcIiBmbGV4RGlyZWN0aW9uPVwicm93XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgIDx3dWktZmxleFxuICAgICAgICAgICAgZmxleERpcmVjdGlvbj1cInJvd1wiXG4gICAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCJcbiAgICAgICAgICAgIGNsYXNzPVwiaWNvbi1ib3hcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx3dWktaWNvbiBjb2xvcj0ke3RoaXMuaWNvbkNvbG9yfSBzaXplPVwibWRcIiBuYW1lPSR7dGhpcy5pY29ufT48L3d1aS1pY29uPlxuICAgICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgICAgPHd1aS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC01MDBcIiBjb2xvcj1cImJnLTM1MFwiIGRhdGEtdGVzdGlkPVwid3VpLWFsZXJ0YmFyLXRleHRcIlxuICAgICAgICAgICAgPiR7dGhpcy5tZXNzYWdlfTwvd3VpLXRleHRcbiAgICAgICAgICA+XG4gICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgIDx3dWktaWNvblxuICAgICAgICAgIGNsYXNzPVwiY2xvc2VcIlxuICAgICAgICAgIGNvbG9yPVwiYmctMzUwXCJcbiAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgIG5hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5vbkNsb3NlfVxuICAgICAgICA+PC93dWktaWNvbj5cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgYDtcbiAgICB9XG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgQWxlcnRDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfVxufTtcbld1aUFsZXJ0QmFyLnN0eWxlcyA9IFtyZXNldFN0eWxlcywgc3R5bGVzXTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFd1aUFsZXJ0QmFyLnByb3RvdHlwZSwgXCJtZXNzYWdlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlBbGVydEJhci5wcm90b3R5cGUsIFwiYmFja2dyb3VuZENvbG9yXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlBbGVydEJhci5wcm90b3R5cGUsIFwiaWNvbkNvbG9yXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlBbGVydEJhci5wcm90b3R5cGUsIFwiaWNvblwiLCB2b2lkIDApO1xuV3VpQWxlcnRCYXIgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3dWktYWxlcnRiYXInKVxuXSwgV3VpQWxlcnRCYXIpO1xuZXhwb3J0IHsgV3VpQWxlcnRCYXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBjc3MgYFxuICA6aG9zdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogdmFyKC0td3VpLXNwYWNpbmctcyk7XG4gICAgbGVmdDogdmFyKC0td3VpLXNwYWNpbmctbCk7XG4gICAgcmlnaHQ6IHZhcigtLXd1aS1zcGFjaW5nLWwpO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IEFsZXJ0Q29udHJvbGxlciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ0ByZW93bi9hcHBraXQtdWknO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1hbGVydGJhcic7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmV4cG9ydCBjb25zdCBwcmVzZXRzID0ge1xuICAgIGluZm86IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnZmctMzUwJyxcbiAgICAgICAgaWNvbkNvbG9yOiAnZmctMzI1JyxcbiAgICAgICAgaWNvbjogJ2luZm8nXG4gICAgfSxcbiAgICBzdWNjZXNzOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3N1Y2Nlc3MtZ2xhc3MtcmVvd24tMDIwJyxcbiAgICAgICAgaWNvbkNvbG9yOiAnc3VjY2Vzcy0xMjUnLFxuICAgICAgICBpY29uOiAnY2hlY2ttYXJrJ1xuICAgIH0sXG4gICAgd2FybmluZzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3YXJuaW5nLWdsYXNzLXJlb3duLTAyMCcsXG4gICAgICAgIGljb25Db2xvcjogJ3dhcm5pbmctMTAwJyxcbiAgICAgICAgaWNvbjogJ3dhcm5pbmdDaXJjbGUnXG4gICAgfSxcbiAgICBlcnJvcjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdlcnJvci1nbGFzcy1yZW93bi0wMjAnLFxuICAgICAgICBpY29uQ29sb3I6ICdlcnJvci0xMjUnLFxuICAgICAgICBpY29uOiAnZXhjbGFtYXRpb25UcmlhbmdsZSdcbiAgICB9XG59O1xubGV0IFczbUFsZXJ0QmFyID0gY2xhc3MgVzNtQWxlcnRCYXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IFtdO1xuICAgICAgICB0aGlzLm9wZW4gPSBBbGVydENvbnRyb2xsZXIuc3RhdGUub3BlbjtcbiAgICAgICAgdGhpcy5vbk9wZW4odHJ1ZSk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUucHVzaChBbGVydENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdvcGVuJywgdmFsID0+IHtcbiAgICAgICAgICAgIHRoaXMub3BlbiA9IHZhbDtcbiAgICAgICAgICAgIHRoaXMub25PcGVuKGZhbHNlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZS5mb3JFYWNoKHVuc3Vic2NyaWJlID0+IHVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSwgdmFyaWFudCB9ID0gQWxlcnRDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCBwcmVzZXQgPSBwcmVzZXRzW3ZhcmlhbnRdO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWFsZXJ0YmFyXG4gICAgICAgIG1lc3NhZ2U9JHttZXNzYWdlfVxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9JHtwcmVzZXQ/LmJhY2tncm91bmRDb2xvcn1cbiAgICAgICAgaWNvbkNvbG9yPSR7cHJlc2V0Py5pY29uQ29sb3J9XG4gICAgICAgIGljb249JHtwcmVzZXQ/Lmljb259XG4gICAgICA+PC93dWktYWxlcnRiYXI+XG4gICAgYDtcbiAgICB9XG4gICAgb25PcGVuKGlzTW91bnRlZCkge1xuICAgICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUoW1xuICAgICAgICAgICAgICAgIHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC44NSknIH0sXG4gICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfVxuICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAsXG4gICAgICAgICAgICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmNzc1RleHQgPSBgcG9pbnRlci1ldmVudHM6IGF1dG9gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShbXG4gICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfSxcbiAgICAgICAgICAgICAgICB7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDAuODUpJyB9XG4gICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MCxcbiAgICAgICAgICAgICAgICBmaWxsOiAnZm9yd2FyZHMnLFxuICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuY3NzVGV4dCA9IGBwb2ludGVyLWV2ZW50czogbm9uZWA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuVzNtQWxlcnRCYXIuc3R5bGVzID0gc3R5bGVzO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtQWxlcnRCYXIucHJvdG90eXBlLCBcIm9wZW5cIiwgdm9pZCAwKTtcblczbUFsZXJ0QmFyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndzNtLWFsZXJ0YmFyJylcbl0sIFczbUFsZXJ0QmFyKTtcbmV4cG9ydCB7IFczbUFsZXJ0QmFyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgYnV0dG9uIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogdmFyKC0td3VpLXNwYWNpbmcteHhzKTtcbiAgICBnYXA6IHZhcigtLXd1aS1zcGFjaW5nLXh4cyk7XG4gICAgdHJhbnNpdGlvbjogYWxsIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0xKSB2YXIoLS13dWktZHVyYXRpb24tbWQpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLXh4cyk7XG4gIH1cblxuICB3dWktaW1hZ2Uge1xuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gICAgd2lkdGg6IHZhcigtLXd1aS1zcGFjaW5nLXhsKTtcbiAgICBoZWlnaHQ6IHZhcigtLXd1aS1zcGFjaW5nLXhsKTtcbiAgfVxuXG4gIHd1aS1pY29uLWJveCB7XG4gICAgd2lkdGg6IHZhcigtLXd1aS1zcGFjaW5nLXhsKTtcbiAgICBoZWlnaHQ6IHZhcigtLXd1aS1zcGFjaW5nLXhsKTtcbiAgfVxuXG4gIGJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0td3VpLWNvbG9yLWdyYXktZ2xhc3MtMDAyKTtcbiAgfVxuXG4gIGJ1dHRvbjphY3RpdmUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwNSk7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy93dWktaWNvbi9pbmRleC5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvbXBvbmVudHMvd3VpLWltYWdlL2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vY29tcG9zaXRlcy93dWktaWNvbi1ib3gvaW5kZXguanMnO1xuaW1wb3J0IHsgY29sb3JTdHlsZXMsIGVsZW1lbnRTdHlsZXMsIHJlc2V0U3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGhlbWVVdGlsLmpzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscy9XZWJDb21wb25lbnRzVXRpbC5qcyc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmxldCBXdWlTZWxlY3QgPSBjbGFzcyBXdWlTZWxlY3QgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pbWFnZVNyYyA9ICcnO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGA8YnV0dG9uPlxuICAgICAgJHt0aGlzLmltYWdlVGVtcGxhdGUoKX1cbiAgICAgIDx3dWktaWNvbiBzaXplPVwieHNcIiBjb2xvcj1cImZnLTIwMFwiIG5hbWU9XCJjaGV2cm9uQm90dG9tXCI+PC93dWktaWNvbj5cbiAgICA8L2J1dHRvbj5gO1xuICAgIH1cbiAgICBpbWFnZVRlbXBsYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZVNyYykge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaW1hZ2Ugc3JjPSR7dGhpcy5pbWFnZVNyY30gYWx0PVwic2VsZWN0IHZpc3VhbFwiPjwvd3VpLWltYWdlPmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaWNvbi1ib3hcbiAgICAgIHNpemU9XCJ4eHNcIlxuICAgICAgaWNvbkNvbG9yPVwiZmctMjAwXCJcbiAgICAgIGJhY2tncm91bmRDb2xvcj1cImZnLTEwMFwiXG4gICAgICBiYWNrZ3JvdW5kPVwib3BhcXVlXCJcbiAgICAgIGljb249XCJuZXR3b3JrUGxhY2Vob2xkZXJcIlxuICAgID48L3d1aS1pY29uLWJveD5gO1xuICAgIH1cbn07XG5XdWlTZWxlY3Quc3R5bGVzID0gW3Jlc2V0U3R5bGVzLCBlbGVtZW50U3R5bGVzLCBjb2xvclN0eWxlcywgc3R5bGVzXTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFd1aVNlbGVjdC5wcm90b3R5cGUsIFwiaW1hZ2VTcmNcIiwgdm9pZCAwKTtcbld1aVNlbGVjdCA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3d1aS1zZWxlY3QnKVxuXSwgV3VpU2VsZWN0KTtcbmV4cG9ydCB7IFd1aVNlbGVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIDpob3N0IHtcbiAgICBoZWlnaHQ6IDY0cHg7XG4gIH1cblxuICB3dWktdGV4dCB7XG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gIH1cblxuICB3dWktZmxleC53M20taGVhZGVyLXRpdGxlIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuXG4gIHd1aS1mbGV4LnczbS1oZWFkZXItdGl0bGVbdmlldy1kaXJlY3Rpb249J3ByZXYnXSB7XG4gICAgYW5pbWF0aW9uOlxuICAgICAgc2xpZGUtZG93bi1vdXQgMTIwbXMgZm9yd2FyZHMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgc2xpZGUtZG93bi1pbiAxMjBtcyBmb3J3YXJkcyB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMik7XG4gICAgYW5pbWF0aW9uLWRlbGF5OiAwbXMsIDIwMG1zO1xuICB9XG5cbiAgd3VpLWZsZXgudzNtLWhlYWRlci10aXRsZVt2aWV3LWRpcmVjdGlvbj0nbmV4dCddIHtcbiAgICBhbmltYXRpb246XG4gICAgICBzbGlkZS11cC1vdXQgMTIwbXMgZm9yd2FyZHMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpLFxuICAgICAgc2xpZGUtdXAtaW4gMTIwbXMgZm9yd2FyZHMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMG1zLCAyMDBtcztcbiAgfVxuXG4gIHd1aS1pY29uLWxpbmtbZGF0YS1oaWRkZW49J3RydWUnXSB7XG4gICAgb3BhY2l0eTogMCAhaW1wb3J0YW50O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG5cbiAgQGtleWZyYW1lcyBzbGlkZS11cC1vdXQge1xuICAgIGZyb20ge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDBweCk7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgICB0byB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuICB9XG5cbiAgQGtleWZyYW1lcyBzbGlkZS11cC1pbiB7XG4gICAgZnJvbSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTNweCk7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgICB0byB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgfVxuXG4gIEBrZXlmcmFtZXMgc2xpZGUtZG93bi1vdXQge1xuICAgIGZyb20ge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDBweCk7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgICB0byB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTNweCk7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgfVxuXG4gIEBrZXlmcmFtZXMgc2xpZGUtZG93bi1pbiB7XG4gICAgZnJvbSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoM3B4KTtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuICAgIHRvIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgfVxuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzJztcbmltcG9ydCB7IEFjY291bnRDb250cm9sbGVyLCBBc3NldENvbnRyb2xsZXIsIEFzc2V0VXRpbCwgQ2hhaW5Db250cm9sbGVyLCBDb25uZWN0b3JDb250cm9sbGVyLCBFdmVudHNDb250cm9sbGVyLCBNb2RhbFV0aWwsIE9wdGlvbnNDb250cm9sbGVyLCBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1pY29uLWxpbmsnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1zZWxlY3QnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10YWcnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuLi8uLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xuY29uc3QgQkVUQV9TQ1JFRU5TID0gWydTbWFydFNlc3Npb25MaXN0J107XG5mdW5jdGlvbiBoZWFkaW5ncygpIHtcbiAgICBjb25zdCBjb25uZWN0b3JOYW1lID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS5kYXRhPy5jb25uZWN0b3I/Lm5hbWU7XG4gICAgY29uc3Qgd2FsbGV0TmFtZSA9IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuZGF0YT8ud2FsbGV0Py5uYW1lO1xuICAgIGNvbnN0IG5ldHdvcmtOYW1lID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS5kYXRhPy5uZXR3b3JrPy5uYW1lO1xuICAgIGNvbnN0IG5hbWUgPSB3YWxsZXROYW1lID8/IGNvbm5lY3Rvck5hbWU7XG4gICAgY29uc3QgY29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ycygpO1xuICAgIGNvbnN0IGlzRW1haWwgPSBjb25uZWN0b3JzLmxlbmd0aCA9PT0gMSAmJiBjb25uZWN0b3JzWzBdPy5pZCA9PT0gJ3czbS1lbWFpbCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgQ29ubmVjdDogYENvbm5lY3QgJHtpc0VtYWlsID8gJ0VtYWlsJyA6ICcnfSBXYWxsZXRgLFxuICAgICAgICBDcmVhdGU6ICdDcmVhdGUgV2FsbGV0JyxcbiAgICAgICAgQ2hvb3NlQWNjb3VudE5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgQWNjb3VudDogdW5kZWZpbmVkLFxuICAgICAgICBBY2NvdW50U2V0dGluZ3M6IHVuZGVmaW5lZCxcbiAgICAgICAgQWxsV2FsbGV0czogJ0FsbCBXYWxsZXRzJyxcbiAgICAgICAgQXBwcm92ZVRyYW5zYWN0aW9uOiAnQXBwcm92ZSBUcmFuc2FjdGlvbicsXG4gICAgICAgIEJ1eUluUHJvZ3Jlc3M6ICdCdXknLFxuICAgICAgICBDb25uZWN0aW5nRXh0ZXJuYWw6IG5hbWUgPz8gJ0Nvbm5lY3QgV2FsbGV0JyxcbiAgICAgICAgQ29ubmVjdGluZ1dhbGxldENvbm5lY3Q6IG5hbWUgPz8gJ1dhbGxldENvbm5lY3QnLFxuICAgICAgICBDb25uZWN0aW5nV2FsbGV0Q29ubmVjdEJhc2ljOiAnV2FsbGV0Q29ubmVjdCcsXG4gICAgICAgIENvbm5lY3RpbmdTaXdlOiAnU2lnbiBJbicsXG4gICAgICAgIENvbnZlcnQ6ICdDb252ZXJ0JyxcbiAgICAgICAgQ29udmVydFNlbGVjdFRva2VuOiAnU2VsZWN0IHRva2VuJyxcbiAgICAgICAgQ29udmVydFByZXZpZXc6ICdQcmV2aWV3IGNvbnZlcnQnLFxuICAgICAgICBEb3dubG9hZHM6IG5hbWUgPyBgR2V0ICR7bmFtZX1gIDogJ0Rvd25sb2FkcycsXG4gICAgICAgIEVtYWlsTG9naW46ICdFbWFpbCBMb2dpbicsXG4gICAgICAgIEVtYWlsVmVyaWZ5T3RwOiAnQ29uZmlybSBFbWFpbCcsXG4gICAgICAgIEVtYWlsVmVyaWZ5RGV2aWNlOiAnUmVnaXN0ZXIgRGV2aWNlJyxcbiAgICAgICAgR2V0V2FsbGV0OiAnR2V0IGEgd2FsbGV0JyxcbiAgICAgICAgTmV0d29ya3M6ICdDaG9vc2UgTmV0d29yaycsXG4gICAgICAgIE9uUmFtcFByb3ZpZGVyczogJ0Nob29zZSBQcm92aWRlcicsXG4gICAgICAgIE9uUmFtcEFjdGl2aXR5OiAnQWN0aXZpdHknLFxuICAgICAgICBPblJhbXBUb2tlblNlbGVjdDogJ1NlbGVjdCBUb2tlbicsXG4gICAgICAgIE9uUmFtcEZpYXRTZWxlY3Q6ICdTZWxlY3QgQ3VycmVuY3knLFxuICAgICAgICBQYXk6ICdIb3cgeW91IHBheScsXG4gICAgICAgIFByb2ZpbGU6IHVuZGVmaW5lZCxcbiAgICAgICAgU3dpdGNoTmV0d29yazogbmV0d29ya05hbWUgPz8gJ1N3aXRjaCBOZXR3b3JrJyxcbiAgICAgICAgU3dpdGNoQWRkcmVzczogJ1N3aXRjaCBBZGRyZXNzJyxcbiAgICAgICAgVHJhbnNhY3Rpb25zOiAnQWN0aXZpdHknLFxuICAgICAgICBVbnN1cHBvcnRlZENoYWluOiAnU3dpdGNoIE5ldHdvcmsnLFxuICAgICAgICBVcGdyYWRlRW1haWxXYWxsZXQ6ICdVcGdyYWRlIHlvdXIgV2FsbGV0JyxcbiAgICAgICAgVXBkYXRlRW1haWxXYWxsZXQ6ICdFZGl0IEVtYWlsJyxcbiAgICAgICAgVXBkYXRlRW1haWxQcmltYXJ5T3RwOiAnQ29uZmlybSBDdXJyZW50IEVtYWlsJyxcbiAgICAgICAgVXBkYXRlRW1haWxTZWNvbmRhcnlPdHA6ICdDb25maXJtIE5ldyBFbWFpbCcsXG4gICAgICAgIFdoYXRJc0FCdXk6ICdXaGF0IGlzIEJ1eT8nLFxuICAgICAgICBSZWdpc3RlckFjY291bnROYW1lOiAnQ2hvb3NlIG5hbWUnLFxuICAgICAgICBSZWdpc3RlckFjY291bnROYW1lU3VjY2VzczogJycsXG4gICAgICAgIFdhbGxldFJlY2VpdmU6ICdSZWNlaXZlJyxcbiAgICAgICAgV2FsbGV0Q29tcGF0aWJsZU5ldHdvcmtzOiAnQ29tcGF0aWJsZSBOZXR3b3JrcycsXG4gICAgICAgIFN3YXA6ICdTd2FwJyxcbiAgICAgICAgU3dhcFNlbGVjdFRva2VuOiAnU2VsZWN0IHRva2VuJyxcbiAgICAgICAgU3dhcFByZXZpZXc6ICdQcmV2aWV3IHN3YXAnLFxuICAgICAgICBXYWxsZXRTZW5kOiAnU2VuZCcsXG4gICAgICAgIFdhbGxldFNlbmRQcmV2aWV3OiAnUmV2aWV3IHNlbmQnLFxuICAgICAgICBXYWxsZXRTZW5kU2VsZWN0VG9rZW46ICdTZWxlY3QgVG9rZW4nLFxuICAgICAgICBXaGF0SXNBTmV0d29yazogJ1doYXQgaXMgYSBuZXR3b3JrPycsXG4gICAgICAgIFdoYXRJc0FXYWxsZXQ6ICdXaGF0IGlzIGEgd2FsbGV0PycsXG4gICAgICAgIENvbm5lY3RXYWxsZXRzOiAnQ29ubmVjdCB3YWxsZXQnLFxuICAgICAgICBDb25uZWN0U29jaWFsczogJ0FsbCBzb2NpYWxzJyxcbiAgICAgICAgQ29ubmVjdGluZ1NvY2lhbDogQWNjb3VudENvbnRyb2xsZXIuc3RhdGUuc29jaWFsUHJvdmlkZXJcbiAgICAgICAgICAgID8gQWNjb3VudENvbnRyb2xsZXIuc3RhdGUuc29jaWFsUHJvdmlkZXJcbiAgICAgICAgICAgIDogJ0Nvbm5lY3QgU29jaWFsJyxcbiAgICAgICAgQ29ubmVjdGluZ011bHRpQ2hhaW46ICdTZWxlY3QgY2hhaW4nLFxuICAgICAgICBDb25uZWN0aW5nRmFyY2FzdGVyOiAnRmFyY2FzdGVyJyxcbiAgICAgICAgU3dpdGNoQWN0aXZlQ2hhaW46ICdTd2l0Y2ggY2hhaW4nLFxuICAgICAgICBTbWFydFNlc3Npb25DcmVhdGVkOiB1bmRlZmluZWQsXG4gICAgICAgIFNtYXJ0U2Vzc2lvbkxpc3Q6ICdTbWFydCBTZXNzaW9ucycsXG4gICAgICAgIFNJV1hTaWduTWVzc2FnZTogJ1NpZ24gSW4nLFxuICAgICAgICBQYXlMb2FkaW5nOiAnUGF5bWVudCBpbiBwcm9ncmVzcydcbiAgICB9O1xufVxubGV0IFczbUhlYWRlciA9IGNsYXNzIFczbUhlYWRlciBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gW107XG4gICAgICAgIHRoaXMuaGVhZGluZyA9IGhlYWRpbmdzKClbUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3XTtcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICB0aGlzLm5ldHdvcmtJbWFnZSA9IEFzc2V0VXRpbC5nZXROZXR3b3JrSW1hZ2UodGhpcy5uZXR3b3JrKTtcbiAgICAgICAgdGhpcy5zaG93QmFjayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByZXZIaXN0b3J5TGVuZ3RoID0gMTtcbiAgICAgICAgdGhpcy52aWV3ID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3O1xuICAgICAgICB0aGlzLnZpZXdEaXJlY3Rpb24gPSAnJztcbiAgICAgICAgdGhpcy5oZWFkZXJUZXh0ID0gaGVhZGluZ3MoKVtSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXddO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goQXNzZXRDb250cm9sbGVyLnN1YnNjcmliZU5ldHdvcmtJbWFnZXMoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZXR3b3JrSW1hZ2UgPSBBc3NldFV0aWwuZ2V0TmV0d29ya0ltYWdlKHRoaXMubmV0d29yayk7XG4gICAgICAgIH0pLCBSb3V0ZXJDb250cm9sbGVyLnN1YnNjcmliZUtleSgndmlldycsIHZhbCA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcgPSB2YWw7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJUZXh0ID0gaGVhZGluZ3MoKVt2YWxdO1xuICAgICAgICAgICAgfSwgQ29uc3RhbnRzVXRpbC5BTklNQVRJT05fRFVSQVRJT05TLkhlYWRlclRleHQpO1xuICAgICAgICAgICAgdGhpcy5vblZpZXdDaGFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMub25IaXN0b3J5Q2hhbmdlKCk7XG4gICAgICAgIH0pLCBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdhY3RpdmVDYWlwTmV0d29yaycsIHZhbCA9PiB7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmsgPSB2YWw7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtJbWFnZSA9IEFzc2V0VXRpbC5nZXROZXR3b3JrSW1hZ2UodGhpcy5uZXR3b3JrKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0Q2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUuZm9yRWFjaCh1bnN1YnNjcmliZSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWZsZXggLnBhZGRpbmc9JHt0aGlzLmdldFBhZGRpbmcoKX0ganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAke3RoaXMubGVmdEhlYWRlclRlbXBsYXRlKCl9ICR7dGhpcy50aXRsZVRlbXBsYXRlKCl9ICR7dGhpcy5yaWdodEhlYWRlclRlbXBsYXRlKCl9XG4gICAgICA8L3d1aS1mbGV4PlxuICAgIGA7XG4gICAgfVxuICAgIG9uV2FsbGV0SGVscCgpIHtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoeyB0eXBlOiAndHJhY2snLCBldmVudDogJ0NMSUNLX1dBTExFVF9IRUxQJyB9KTtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdXaGF0SXNBV2FsbGV0Jyk7XG4gICAgfVxuICAgIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgICAgIGF3YWl0IE1vZGFsVXRpbC5zYWZlQ2xvc2UoKTtcbiAgICB9XG4gICAgcmlnaHRIZWFkZXJUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgaXNTbWFydFNlc3Npb25zRW5hYmxlZCA9IE9wdGlvbnNDb250cm9sbGVyPy5zdGF0ZT8uZmVhdHVyZXM/LnNtYXJ0U2Vzc2lvbnM7XG4gICAgICAgIGlmIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgIT09ICdBY2NvdW50JyB8fCAhaXNTbWFydFNlc3Npb25zRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2VCdXR0b25UZW1wbGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBodG1sIGA8d3VpLWZsZXg+XG4gICAgICA8d3VpLWljb24tbGlua1xuICAgICAgICBpY29uPVwiY2xvY2tcIlxuICAgICAgICBAY2xpY2s9JHsoKSA9PiBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ1NtYXJ0U2Vzc2lvbkxpc3QnKX1cbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJ3M20taGVhZGVyLXNtYXJ0LXNlc3Npb25zXCJcbiAgICAgID48L3d1aS1pY29uLWxpbms+XG4gICAgICAke3RoaXMuY2xvc2VCdXR0b25UZW1wbGF0ZSgpfVxuICAgIDwvd3VpLWZsZXg+IGA7XG4gICAgfVxuICAgIGNsb3NlQnV0dG9uVGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDx3dWktaWNvbi1saW5rXG4gICAgICAgIGljb249XCJjbG9zZVwiXG4gICAgICAgIEBjbGljaz0ke3RoaXMub25DbG9zZS5iaW5kKHRoaXMpfVxuICAgICAgICBkYXRhLXRlc3RpZD1cInczbS1oZWFkZXItY2xvc2VcIlxuICAgICAgPjwvd3VpLWljb24tbGluaz5cbiAgICBgO1xuICAgIH1cbiAgICB0aXRsZVRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCBpc0JldGEgPSBCRVRBX1NDUkVFTlMuaW5jbHVkZXModGhpcy52aWV3KTtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHd1aS1mbGV4XG4gICAgICAgIHZpZXctZGlyZWN0aW9uPVwiJHt0aGlzLnZpZXdEaXJlY3Rpb259XCJcbiAgICAgICAgY2xhc3M9XCJ3M20taGVhZGVyLXRpdGxlXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIGdhcD1cInhzXCJcbiAgICAgID5cbiAgICAgICAgPHd1aS10ZXh0IHZhcmlhbnQ9XCJwYXJhZ3JhcGgtNzAwXCIgY29sb3I9XCJmZy0xMDBcIiBkYXRhLXRlc3RpZD1cInczbS1oZWFkZXItdGV4dFwiXG4gICAgICAgICAgPiR7dGhpcy5oZWFkZXJUZXh0fTwvd3VpLXRleHRcbiAgICAgICAgPlxuICAgICAgICAke2lzQmV0YSA/IGh0bWwgYDx3dWktdGFnIHZhcmlhbnQ9XCJtYWluXCI+QmV0YTwvd3VpLXRhZz5gIDogbnVsbH1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgYDtcbiAgICB9XG4gICAgbGVmdEhlYWRlclRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCB7IHZpZXcgfSA9IFJvdXRlckNvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdEhlbHAgPSB2aWV3ID09PSAnQ29ubmVjdCc7XG4gICAgICAgIGNvbnN0IGlzRW1iZWRkZWRFbmFibGUgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVFbWJlZGRlZDtcbiAgICAgICAgY29uc3QgaXNBcHByb3ZlVHJhbnNhY3Rpb24gPSB2aWV3ID09PSAnQXBwcm92ZVRyYW5zYWN0aW9uJztcbiAgICAgICAgY29uc3QgaXNDb25uZWN0aW5nU0lXRVZpZXcgPSB2aWV3ID09PSAnQ29ubmVjdGluZ1Npd2UnO1xuICAgICAgICBjb25zdCBpc0FjY291bnRWaWV3ID0gdmlldyA9PT0gJ0FjY291bnQnO1xuICAgICAgICBjb25zdCBlbmFibGVOZXR3b3JrU3dpdGNoID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZW5hYmxlTmV0d29ya1N3aXRjaDtcbiAgICAgICAgY29uc3Qgc2hvdWxkSGlkZUJhY2sgPSBpc0FwcHJvdmVUcmFuc2FjdGlvbiB8fCBpc0Nvbm5lY3RpbmdTSVdFVmlldyB8fCAoaXNDb25uZWN0SGVscCAmJiBpc0VtYmVkZGVkRW5hYmxlKTtcbiAgICAgICAgaWYgKGlzQWNjb3VudFZpZXcgJiYgZW5hYmxlTmV0d29ya1N3aXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktc2VsZWN0XG4gICAgICAgIGlkPVwiZHluYW1pY1wiXG4gICAgICAgIGRhdGEtdGVzdGlkPVwidzNtLWFjY291bnQtc2VsZWN0LW5ldHdvcmtcIlxuICAgICAgICBhY3RpdmUtbmV0d29yaz0ke2lmRGVmaW5lZCh0aGlzLm5ldHdvcms/Lm5hbWUpfVxuICAgICAgICBAY2xpY2s9JHt0aGlzLm9uTmV0d29ya3MuYmluZCh0aGlzKX1cbiAgICAgICAgaW1hZ2VTcmM9JHtpZkRlZmluZWQodGhpcy5uZXR3b3JrSW1hZ2UpfVxuICAgICAgPjwvd3VpLXNlbGVjdD5gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNob3dCYWNrICYmICFzaG91bGRIaWRlQmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaWNvbi1saW5rXG4gICAgICAgIGRhdGEtdGVzdGlkPVwiaGVhZGVyLWJhY2tcIlxuICAgICAgICBpZD1cImR5bmFtaWNcIlxuICAgICAgICBpY29uPVwiY2hldnJvbkxlZnRcIlxuICAgICAgICBAY2xpY2s9JHt0aGlzLm9uR29CYWNrLmJpbmQodGhpcyl9XG4gICAgICA+PC93dWktaWNvbi1saW5rPmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaWNvbi1saW5rXG4gICAgICBkYXRhLWhpZGRlbj0keyFpc0Nvbm5lY3RIZWxwfVxuICAgICAgaWQ9XCJkeW5hbWljXCJcbiAgICAgIGljb249XCJoZWxwQ2lyY2xlXCJcbiAgICAgIEBjbGljaz0ke3RoaXMub25XYWxsZXRIZWxwLmJpbmQodGhpcyl9XG4gICAgPjwvd3VpLWljb24tbGluaz5gO1xuICAgIH1cbiAgICBvbk5ldHdvcmtzKCkge1xuICAgICAgICBpZiAodGhpcy5pc0FsbG93ZWROZXR3b3JrU3dpdGNoKCkpIHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHsgdHlwZTogJ3RyYWNrJywgZXZlbnQ6ICdDTElDS19ORVRXT1JLUycgfSk7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ05ldHdvcmtzJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNBbGxvd2VkTmV0d29ya1N3aXRjaCgpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBpc011bHRpTmV0d29yayA9IHJlcXVlc3RlZENhaXBOZXR3b3JrcyA/IHJlcXVlc3RlZENhaXBOZXR3b3Jrcy5sZW5ndGggPiAxIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IGlzVmFsaWROZXR3b3JrID0gcmVxdWVzdGVkQ2FpcE5ldHdvcmtzPy5maW5kKCh7IGlkIH0pID0+IGlkID09PSB0aGlzLm5ldHdvcms/LmlkKTtcbiAgICAgICAgcmV0dXJuIGlzTXVsdGlOZXR3b3JrIHx8ICFpc1ZhbGlkTmV0d29yaztcbiAgICB9XG4gICAgZ2V0UGFkZGluZygpIHtcbiAgICAgICAgaWYgKHRoaXMuaGVhZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIFsnbCcsICcybCcsICdsJywgJzJsJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFsnMCcsICcybCcsICcwJywgJzJsJ107XG4gICAgfVxuICAgIG9uVmlld0NoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgeyBoaXN0b3J5IH0gPSBSb3V0ZXJDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBsZXQgZGlyZWN0aW9uID0gQ29uc3RhbnRzVXRpbC5WSUVXX0RJUkVDVElPTi5OZXh0O1xuICAgICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPCB0aGlzLnByZXZIaXN0b3J5TGVuZ3RoKSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBDb25zdGFudHNVdGlsLlZJRVdfRElSRUNUSU9OLlByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmV2SGlzdG9yeUxlbmd0aCA9IGhpc3RvcnkubGVuZ3RoO1xuICAgICAgICB0aGlzLnZpZXdEaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgfVxuICAgIGFzeW5jIG9uSGlzdG9yeUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgeyBoaXN0b3J5IH0gPSBSb3V0ZXJDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCBidXR0b25FbCA9IHRoaXMuc2hhZG93Um9vdD8ucXVlcnlTZWxlY3RvcignI2R5bmFtaWMnKTtcbiAgICAgICAgaWYgKGhpc3RvcnkubGVuZ3RoID4gMSAmJiAhdGhpcy5zaG93QmFjayAmJiBidXR0b25FbCkge1xuICAgICAgICAgICAgYXdhaXQgYnV0dG9uRWwuYW5pbWF0ZShbeyBvcGFjaXR5OiAxIH0sIHsgb3BhY2l0eTogMCB9XSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgICAgICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlJ1xuICAgICAgICAgICAgfSkuZmluaXNoZWQ7XG4gICAgICAgICAgICB0aGlzLnNob3dCYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIGJ1dHRvbkVsLmFuaW1hdGUoW3sgb3BhY2l0eTogMCB9LCB7IG9wYWNpdHk6IDEgfV0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICAgICAgICAgIGZpbGw6ICdmb3J3YXJkcycsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhpc3RvcnkubGVuZ3RoIDw9IDEgJiYgdGhpcy5zaG93QmFjayAmJiBidXR0b25FbCkge1xuICAgICAgICAgICAgYXdhaXQgYnV0dG9uRWwuYW5pbWF0ZShbeyBvcGFjaXR5OiAxIH0sIHsgb3BhY2l0eTogMCB9XSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgICAgICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlJ1xuICAgICAgICAgICAgfSkuZmluaXNoZWQ7XG4gICAgICAgICAgICB0aGlzLnNob3dCYWNrID0gZmFsc2U7XG4gICAgICAgICAgICBidXR0b25FbC5hbmltYXRlKFt7IG9wYWNpdHk6IDAgfSwgeyBvcGFjaXR5OiAxIH1dLCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgICAgICAgICBmaWxsOiAnZm9yd2FyZHMnLFxuICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkdvQmFjaygpIHtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5nb0JhY2soKTtcbiAgICB9XG59O1xuVzNtSGVhZGVyLnN0eWxlcyA9IHN0eWxlcztcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbUhlYWRlci5wcm90b3R5cGUsIFwiaGVhZGluZ1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtSGVhZGVyLnByb3RvdHlwZSwgXCJuZXR3b3JrXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21IZWFkZXIucHJvdG90eXBlLCBcIm5ldHdvcmtJbWFnZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtSGVhZGVyLnByb3RvdHlwZSwgXCJzaG93QmFja1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtSGVhZGVyLnByb3RvdHlwZSwgXCJwcmV2SGlzdG9yeUxlbmd0aFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtSGVhZGVyLnByb3RvdHlwZSwgXCJ2aWV3XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21IZWFkZXIucHJvdG90eXBlLCBcInZpZXdEaXJlY3Rpb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbUhlYWRlci5wcm90b3R5cGUsIFwiaGVhZGVyVGV4dFwiLCB2b2lkIDApO1xuVzNtSGVhZGVyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndzNtLWhlYWRlcicpXG5dLCBXM21IZWFkZXIpO1xuZXhwb3J0IHsgVzNtSGVhZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3Qge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgY29sdW1uLWdhcDogdmFyKC0td3VpLXNwYWNpbmctcyk7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiB2YXIoLS13dWktc3BhY2luZy14cykgdmFyKC0td3VpLXNwYWNpbmctbSkgdmFyKC0td3VpLXNwYWNpbmcteHMpIHZhcigtLXd1aS1zcGFjaW5nLXhzKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS13dWktYm9yZGVyLXJhZGl1cy1zKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDUpO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0td3VpLWNvbG9yLWJnLTE3NSk7XG4gICAgYm94LXNoYWRvdzpcbiAgICAgIDBweCAxNHB4IDY0cHggLTRweCByZ2JhKDAsIDAsIDAsIDAuMTUpLFxuICAgICAgMHB4IDhweCAyMnB4IC02cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcblxuICAgIG1heC13aWR0aDogMzAwcHg7XG4gIH1cblxuICA6aG9zdCB3dWktbG9hZGluZy1zcGlubmVyIHtcbiAgICBtYXJnaW4tbGVmdDogdmFyKC0td3VpLXNwYWNpbmctM3hzKTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0ICcuLi8uLi9jb21wb25lbnRzL3d1aS1pY29uL2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy93dWktbG9hZGluZy1zcGlubmVyL2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy93dWktdGV4dC9pbmRleC5qcyc7XG5pbXBvcnQgeyByZXNldFN0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzL1RoZW1lVXRpbC5qcyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvV2ViQ29tcG9uZW50c1V0aWwuanMnO1xuaW1wb3J0ICcuLi93dWktaWNvbi1ib3gvaW5kZXguanMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5sZXQgV3VpU25hY2tiYXIgPSBjbGFzcyBXdWlTbmFja2JhciBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICdhY2NlbnQtMTAwJztcbiAgICAgICAgdGhpcy5pY29uQ29sb3IgPSAnYWNjZW50LTEwMCc7XG4gICAgICAgIHRoaXMuaWNvbiA9ICdjaGVja21hcmsnO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaWNvblR5cGUgPSAnZGVmYXVsdCc7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgJHt0aGlzLnRlbXBsYXRlSWNvbigpfVxuICAgICAgPHd1aS10ZXh0IHZhcmlhbnQ9XCJwYXJhZ3JhcGgtNTAwXCIgY29sb3I9XCJmZy0xMDBcIiBkYXRhLXRlc3RpZD1cInd1aS1zbmFja2Jhci1tZXNzYWdlXCJcbiAgICAgICAgPiR7dGhpcy5tZXNzYWdlfTwvd3VpLXRleHRcbiAgICAgID5cbiAgICBgO1xuICAgIH1cbiAgICB0ZW1wbGF0ZUljb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sIGA8d3VpLWxvYWRpbmctc3Bpbm5lciBzaXplPVwibWRcIiBjb2xvcj1cImFjY2VudC0xMDBcIj48L3d1aS1sb2FkaW5nLXNwaW5uZXI+YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pY29uVHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1pY29uIHNpemU9XCJ4bFwiIGNvbG9yPSR7dGhpcy5pY29uQ29sb3J9IG5hbWU9JHt0aGlzLmljb259Pjwvd3VpLWljb24+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1pY29uLWJveFxuICAgICAgc2l6ZT1cInNtXCJcbiAgICAgIGljb25TaXplPVwieHNcIlxuICAgICAgaWNvbkNvbG9yPSR7dGhpcy5pY29uQ29sb3J9XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9JHt0aGlzLmJhY2tncm91bmRDb2xvcn1cbiAgICAgIGljb249JHt0aGlzLmljb259XG4gICAgICBiYWNrZ3JvdW5kPVwib3BhcXVlXCJcbiAgICA+PC93dWktaWNvbi1ib3g+YDtcbiAgICB9XG59O1xuV3VpU25hY2tiYXIuc3R5bGVzID0gW3Jlc2V0U3R5bGVzLCBzdHlsZXNdO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgV3VpU25hY2tiYXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgV3VpU25hY2tiYXIucHJvdG90eXBlLCBcImljb25Db2xvclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgV3VpU25hY2tiYXIucHJvdG90eXBlLCBcImljb25cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFd1aVNuYWNrYmFyLnByb3RvdHlwZSwgXCJtZXNzYWdlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlTbmFja2Jhci5wcm90b3R5cGUsIFwibG9hZGluZ1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgV3VpU25hY2tiYXIucHJvdG90eXBlLCBcImljb25UeXBlXCIsIHZvaWQgMCk7XG5XdWlTbmFja2JhciA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3d1aS1zbmFja2JhcicpXG5dLCBXdWlTbmFja2Jhcik7XG5leHBvcnQgeyBXdWlTbmFja2JhciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgb3BhY2l0eTogMDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB0b3A6IDExcHg7XG4gICAgbGVmdDogNTAlO1xuICAgIHdpZHRoOiBtYXgtY29udGVudDtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHN0YXRlIH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXNuYWNrYmFyJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xuY29uc3QgcHJlc2V0cyA9IHtcbiAgICBsb2FkaW5nOiB1bmRlZmluZWQsXG4gICAgc3VjY2Vzczoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdzdWNjZXNzLTEwMCcsXG4gICAgICAgIGljb25Db2xvcjogJ3N1Y2Nlc3MtMTAwJyxcbiAgICAgICAgaWNvbjogJ2NoZWNrbWFyaydcbiAgICB9LFxuICAgIGVycm9yOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2Vycm9yLTEwMCcsXG4gICAgICAgIGljb25Db2xvcjogJ2Vycm9yLTEwMCcsXG4gICAgICAgIGljb246ICdjbG9zZSdcbiAgICB9XG59O1xubGV0IFczbVNuYWNrQmFyID0gY2xhc3MgVzNtU25hY2tCYXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IFtdO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3BlbiA9IFNuYWNrQ29udHJvbGxlci5zdGF0ZS5vcGVuO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goU25hY2tDb250cm9sbGVyLnN1YnNjcmliZUtleSgnb3BlbicsIHZhbCA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wZW4gPSB2YWw7XG4gICAgICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZS5mb3JFYWNoKHVuc3Vic2NyaWJlID0+IHVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSwgdmFyaWFudCwgc3ZnIH0gPSBTbmFja0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IHByZXNldCA9IHByZXNldHNbdmFyaWFudF07XG4gICAgICAgIGNvbnN0IHsgaWNvbiwgaWNvbkNvbG9yIH0gPSBzdmcgPz8gcHJlc2V0ID8/IHt9O1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLXNuYWNrYmFyXG4gICAgICAgIG1lc3NhZ2U9JHttZXNzYWdlfVxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9JHtwcmVzZXQ/LmJhY2tncm91bmRDb2xvcn1cbiAgICAgICAgaWNvbkNvbG9yPSR7aWNvbkNvbG9yfVxuICAgICAgICBpY29uPSR7aWNvbn1cbiAgICAgICAgLmxvYWRpbmc9JHt2YXJpYW50ID09PSAnbG9hZGluZyd9XG4gICAgICA+PC93dWktc25hY2tiYXI+XG4gICAgYDtcbiAgICB9XG4gICAgb25PcGVuKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlKFtcbiAgICAgICAgICAgICAgICB7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoMC44NSknIH0sXG4gICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDEpJyB9XG4gICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MCxcbiAgICAgICAgICAgICAgICBmaWxsOiAnZm9yd2FyZHMnLFxuICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTbmFja0NvbnRyb2xsZXIuc3RhdGUuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBTbmFja0NvbnRyb2xsZXIuaGlkZSgpLCAyNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZShbXG4gICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDEpJyB9LFxuICAgICAgICAgICAgICAgIHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKSBzY2FsZSgwLjg1KScgfVxuICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAsXG4gICAgICAgICAgICAgICAgZmlsbDogJ2ZvcndhcmRzJyxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuVzNtU25hY2tCYXIuc3R5bGVzID0gc3R5bGVzO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtU25hY2tCYXIucHJvdG90eXBlLCBcIm9wZW5cIiwgdm9pZCAwKTtcblczbVNuYWNrQmFyID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndzNtLXNuYWNrYmFyJylcbl0sIFczbVNuYWNrQmFyKTtcbmV4cG9ydCB7IFczbVNuYWNrQmFyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3Qge1xuICAgIHotaW5kZXg6IHZhcigtLXczbS16LWluZGV4KTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgd2lsbC1jaGFuZ2U6IG9wYWNpdHk7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBvcGFjaXR5OiAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXd1aS1jb3Zlcik7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0yKTtcbiAgICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgfVxuXG4gIDpob3N0KC5vcGVuKSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuXG4gIDpob3N0KC5hcHBraXQtbW9kYWwpIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgcG9pbnRlci1ldmVudHM6IHVuc2V0O1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuXG4gIHd1aS1jYXJkIHtcbiAgICBtYXgtd2lkdGg6IHZhcigtLXczbS1tb2RhbC13aWR0aCk7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGFuaW1hdGlvbjogem9vbS1pbiAwLjJzIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0yKTtcbiAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBiYWNrd2FyZHM7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICB0cmFuc2l0aW9uOlxuICAgICAgYm9yZGVyLXJhZGl1cyB2YXIoLS13dWktZHVyYXRpb24tbGcpIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0xKSxcbiAgICAgIGJhY2tncm91bmQtY29sb3IgdmFyKC0td3VpLWR1cmF0aW9uLWxnKSB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMSk7XG4gICAgd2lsbC1jaGFuZ2U6IGJvcmRlci1yYWRpdXMsIGJhY2tncm91bmQtY29sb3I7XG4gIH1cblxuICA6aG9zdCguYXBwa2l0LW1vZGFsKSB3dWktY2FyZCB7XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgfVxuXG4gIHd1aS1jYXJkW3NoYWtlPSd0cnVlJ10ge1xuICAgIGFuaW1hdGlvbjpcbiAgICAgIHpvb20taW4gMC4ycyB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMiksXG4gICAgICB3M20tc2hha2UgMC41cyB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMik7XG4gIH1cblxuICB3dWktZmxleCB7XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIEBtZWRpYSAobWF4LWhlaWdodDogNzAwcHgpIGFuZCAobWluLXdpZHRoOiA0MzFweCkge1xuICAgIHd1aS1mbGV4IHtcbiAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIH1cblxuICAgIHd1aS1jYXJkIHtcbiAgICAgIG1hcmdpbjogdmFyKC0td3VpLXNwYWNpbmcteHhsKSAwcHg7XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDQzMHB4KSB7XG4gICAgd3VpLWZsZXgge1xuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgIH1cblxuICAgIHd1aS1jYXJkIHtcbiAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IHZhcigtLWxvY2FsLWJvcmRlci1ib3R0b20tbW9iaWxlLXJhZGl1cyk7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogdmFyKC0tbG9jYWwtYm9yZGVyLWJvdHRvbS1tb2JpbGUtcmFkaXVzKTtcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gICAgICBhbmltYXRpb246IHNsaWRlLWluIDAuMnMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpO1xuICAgIH1cblxuICAgIHd1aS1jYXJkW3NoYWtlPSd0cnVlJ10ge1xuICAgICAgYW5pbWF0aW9uOlxuICAgICAgICBzbGlkZS1pbiAwLjJzIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0yKSxcbiAgICAgICAgdzNtLXNoYWtlIDAuNXMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpO1xuICAgIH1cbiAgfVxuXG4gIEBrZXlmcmFtZXMgem9vbS1pbiB7XG4gICAgMCUge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KSB0cmFuc2xhdGVZKDApO1xuICAgIH1cbiAgICAxMDAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgdHJhbnNsYXRlWSgwKTtcbiAgICB9XG4gIH1cblxuICBAa2V5ZnJhbWVzIHNsaWRlLWluIHtcbiAgICAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHRyYW5zbGF0ZVkoNTBweCk7XG4gICAgfVxuICAgIDEwMCUge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKSB0cmFuc2xhdGVZKDApO1xuICAgIH1cbiAgfVxuXG4gIEBrZXlmcmFtZXMgdzNtLXNoYWtlIHtcbiAgICAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgwZGVnKTtcbiAgICB9XG4gICAgMjAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKC0xZGVnKTtcbiAgICB9XG4gICAgNDAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDEuNWRlZyk7XG4gICAgfVxuICAgIDYwJSB7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgtMS41ZGVnKTtcbiAgICB9XG4gICAgODAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDFkZWcpO1xuICAgIH1cbiAgICAxMDAlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDBkZWcpO1xuICAgIH1cbiAgfVxuXG4gIEBrZXlmcmFtZXMgdzNtLXZpZXctaGVpZ2h0IHtcbiAgICBmcm9tIHtcbiAgICAgIGhlaWdodDogdmFyKC0tcHJldi1oZWlnaHQpO1xuICAgIH1cbiAgICB0byB7XG4gICAgICBoZWlnaHQ6IHZhcigtLW5ldy1oZWlnaHQpO1xuICAgIH1cbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciwgQ2hhaW5Db250cm9sbGVyLCBDb25uZWN0b3JDb250cm9sbGVyLCBDb3JlSGVscGVyVXRpbCwgTW9kYWxDb250cm9sbGVyLCBNb2RhbFV0aWwsIE9wdGlvbnNDb250cm9sbGVyLCBSb3V0ZXJDb250cm9sbGVyLCBTSVdYVXRpbCwgU25hY2tDb250cm9sbGVyLCBUaGVtZUNvbnRyb2xsZXIgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IFVpSGVscGVyVXRpbCwgY3VzdG9tRWxlbWVudCwgaW5pdGlhbGl6ZVRoZW1pbmcgfSBmcm9tICdAcmVvd24vYXBwa2l0LXVpJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktY2FyZCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICcuLi8uLi9wYXJ0aWFscy93M20tYWxlcnRiYXIvaW5kZXguanMnO1xuaW1wb3J0ICcuLi8uLi9wYXJ0aWFscy93M20taGVhZGVyL2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vcGFydGlhbHMvdzNtLXNuYWNrYmFyL2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vcGFydGlhbHMvdzNtLXRvb2x0aXAvaW5kZXguanMnO1xuaW1wb3J0ICcuLi93M20tcm91dGVyL2luZGV4LmpzJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xuY29uc3QgU0NST0xMX0xPQ0sgPSAnc2Nyb2xsLWxvY2snO1xuZXhwb3J0IGNsYXNzIFczbU1vZGFsQmFzZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gW107XG4gICAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhc1ByZWZldGNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmFibGVFbWJlZGRlZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZUVtYmVkZGVkO1xuICAgICAgICB0aGlzLm9wZW4gPSBNb2RhbENvbnRyb2xsZXIuc3RhdGUub3BlbjtcbiAgICAgICAgdGhpcy5jYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgdGhpcy5jYWlwTmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgdGhpcy5zaGFrZSA9IE1vZGFsQ29udHJvbGxlci5zdGF0ZS5zaGFrZTtcbiAgICAgICAgdGhpcy5maWx0ZXJCeU5hbWVzcGFjZSA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2U7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVRoZW1pbmcoKTtcbiAgICAgICAgQXBpQ29udHJvbGxlci5wcmVmZXRjaEFuYWx5dGljc0NvbmZpZygpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goLi4uW1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLnN1YnNjcmliZUtleSgnb3BlbicsIHZhbCA9PiAodmFsID8gdGhpcy5vbk9wZW4oKSA6IHRoaXMub25DbG9zZSgpKSksXG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdzaGFrZScsIHZhbCA9PiAodGhpcy5zaGFrZSA9IHZhbCkpLFxuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcE5ldHdvcmsnLCB2YWwgPT4gdGhpcy5vbk5ld05ldHdvcmsodmFsKSksXG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdhY3RpdmVDYWlwQWRkcmVzcycsIHZhbCA9PiB0aGlzLm9uTmV3QWRkcmVzcyh2YWwpKSxcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN1YnNjcmliZUtleSgnZW5hYmxlRW1iZWRkZWQnLCB2YWwgPT4gKHRoaXMuZW5hYmxlRW1iZWRkZWQgPSB2YWwpKSxcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdmaWx0ZXJCeU5hbWVzcGFjZScsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyQnlOYW1lc3BhY2UgIT09IHZhbCAmJiAhQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKHZhbCk/LmNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuZmV0Y2hSZWNvbW1lbmRlZFdhbGxldHMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJCeU5hbWVzcGFjZSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgZmlyc3RVcGRhdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5jYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlRW1iZWRkZWQpIHtcbiAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZWZldGNoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbk5ld0FkZHJlc3ModGhpcy5jYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbmFibGVFbWJlZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5wcmVmZXRjaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLmZvckVhY2godW5zdWJzY3JpYmUgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIHRoaXMub25SZW1vdmVLZXlib2FyZExpc3RlbmVyKCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgLS1sb2NhbC1ib3JkZXItYm90dG9tLW1vYmlsZS1yYWRpdXM6ICR7dGhpcy5lbmFibGVFbWJlZGRlZCA/ICdjbGFtcCgwcHgsIHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLWwpLCA0NHB4KScgOiAnMHB4J307XG4gICAgYDtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlRW1iZWRkZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sIGAke3RoaXMuY29udGVudFRlbXBsYXRlKCl9XG4gICAgICAgIDx3M20tdG9vbHRpcD48L3czbS10b29sdGlwPiBgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5cbiAgICAgICAgICAgID8gaHRtbCBgXG4gICAgICAgICAgPHd1aS1mbGV4IEBjbGljaz0ke3RoaXMub25PdmVybGF5Q2xpY2suYmluZCh0aGlzKX0gZGF0YS10ZXN0aWQ9XCJ3M20tbW9kYWwtb3ZlcmxheVwiPlxuICAgICAgICAgICAgJHt0aGlzLmNvbnRlbnRUZW1wbGF0ZSgpfVxuICAgICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgICAgPHczbS10b29sdGlwPjwvdzNtLXRvb2x0aXA+XG4gICAgICAgIGBcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgY29udGVudFRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgIDx3dWktY2FyZFxuICAgICAgc2hha2U9XCIke3RoaXMuc2hha2V9XCJcbiAgICAgIGRhdGEtZW1iZWRkZWQ9XCIke2lmRGVmaW5lZCh0aGlzLmVuYWJsZUVtYmVkZGVkKX1cIlxuICAgICAgcm9sZT1cImFsZXJ0ZGlhbG9nXCJcbiAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcbiAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICBkYXRhLXRlc3RpZD1cInczbS1tb2RhbC1jYXJkXCJcbiAgICA+XG4gICAgICA8dzNtLWhlYWRlcj48L3czbS1oZWFkZXI+XG4gICAgICA8dzNtLXJvdXRlcj48L3czbS1yb3V0ZXI+XG4gICAgICA8dzNtLXNuYWNrYmFyPjwvdzNtLXNuYWNrYmFyPlxuICAgICAgPHczbS1hbGVydGJhcj48L3czbS1hbGVydGJhcj5cbiAgICA8L3d1aS1jYXJkPmA7XG4gICAgfVxuICAgIGFzeW5jIG9uT3ZlcmxheUNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDbG9zZSgpIHtcbiAgICAgICAgYXdhaXQgTW9kYWxVdGlsLnNhZmVDbG9zZSgpO1xuICAgIH1cbiAgICBpbml0aWFsaXplVGhlbWluZygpIHtcbiAgICAgICAgY29uc3QgeyB0aGVtZVZhcmlhYmxlcywgdGhlbWVNb2RlIH0gPSBUaGVtZUNvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRUaGVtZU1vZGUgPSBVaUhlbHBlclV0aWwuZ2V0Q29sb3JUaGVtZSh0aGVtZU1vZGUpO1xuICAgICAgICBpbml0aWFsaXplVGhlbWluZyh0aGVtZVZhcmlhYmxlcywgZGVmYXVsdFRoZW1lTW9kZSk7XG4gICAgfVxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgdGhpcy5vblNjcm9sbFVubG9jaygpO1xuICAgICAgICBTbmFja0NvbnRyb2xsZXIuaGlkZSgpO1xuICAgICAgICB0aGlzLm9uUmVtb3ZlS2V5Ym9hcmRMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICB0aGlzLm9uU2Nyb2xsTG9jaygpO1xuICAgICAgICB0aGlzLm9uQWRkS2V5Ym9hcmRMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBvblNjcm9sbExvY2soKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGVUYWcuZGF0YXNldFsndzNtJ10gPSBTQ1JPTExfTE9DSztcbiAgICAgICAgc3R5bGVUYWcudGV4dENvbnRlbnQgPSBgXG4gICAgICBib2R5IHtcbiAgICAgICAgdG91Y2gtYWN0aW9uOiBub25lO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBvdmVyc2Nyb2xsLWJlaGF2aW9yOiBjb250YWluO1xuICAgICAgfVxuICAgICAgdzNtLW1vZGFsIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgICB9XG4gICAgYDtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVRhZyk7XG4gICAgfVxuICAgIG9uU2Nyb2xsVW5sb2NrKCkge1xuICAgICAgICBjb25zdCBzdHlsZVRhZyA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3Rvcihgc3R5bGVbZGF0YS13M209XCIke1NDUk9MTF9MT0NLfVwiXWApO1xuICAgICAgICBpZiAoc3R5bGVUYWcpIHtcbiAgICAgICAgICAgIHN0eWxlVGFnLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWRkS2V5Ym9hcmRMaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLnNoYWRvd1Jvb3Q/LnF1ZXJ5U2VsZWN0b3IoJ3d1aS1jYXJkJyk7XG4gICAgICAgIGNhcmQ/LmZvY3VzKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT09ICdUYWInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0YWdOYW1lIH0gPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ05hbWUgJiYgIXRhZ05hbWUuaW5jbHVkZXMoJ1czTS0nKSAmJiAhdGFnTmFtZS5pbmNsdWRlcygnV1VJLScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcmQ/LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmFib3J0Q29udHJvbGxlcik7XG4gICAgfVxuICAgIG9uUmVtb3ZlS2V5Ym9hcmRMaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBvbk5ld0FkZHJlc3MoY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgaXNTd2l0Y2hpbmdOYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuaXNTd2l0Y2hpbmdOYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IG5leHRDb25uZWN0ZWQgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MoY2FpcEFkZHJlc3MpO1xuICAgICAgICBjb25zdCBpc0Rpc2Nvbm5lY3RlZEluU2FtZU5hbWVzcGFjZSA9ICFuZXh0Q29ubmVjdGVkICYmICFpc1N3aXRjaGluZ05hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgaXNTd2l0Y2hpbmdOYW1lc3BhY2VBbmRDb25uZWN0ZWQgPSBpc1N3aXRjaGluZ05hbWVzcGFjZSAmJiBuZXh0Q29ubmVjdGVkO1xuICAgICAgICBpZiAoaXNEaXNjb25uZWN0ZWRJblNhbWVOYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3dpdGNoaW5nTmFtZXNwYWNlQW5kQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFNJV1hVdGlsLmluaXRpYWxpemVJZkVuYWJsZWQoKTtcbiAgICAgICAgdGhpcy5jYWlwQWRkcmVzcyA9IGNhaXBBZGRyZXNzO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0SXNTd2l0Y2hpbmdOYW1lc3BhY2UoZmFsc2UpO1xuICAgIH1cbiAgICBvbk5ld05ldHdvcmsobmV4dENhaXBOZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IHByZXZDYWlwTmV0d29yayA9IHRoaXMuY2FpcE5ldHdvcms7XG4gICAgICAgIGNvbnN0IHByZXZDYWlwTmV0d29ya0lkID0gcHJldkNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkPy50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBwcmV2Q2hhaW5OYW1lc3BhY2UgPSBwcmV2Q2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBuZXh0TmV0d29ya0lkID0gbmV4dENhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkPy50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBuZXh0Q2hhaW5OYW1lc3BhY2UgPSBuZXh0Q2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBuZXR3b3JrSWRDaGFuZ2VkID0gcHJldkNhaXBOZXR3b3JrSWQgIT09IG5leHROZXR3b3JrSWQ7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZUNoYW5nZWQgPSBwcmV2Q2hhaW5OYW1lc3BhY2UgIT09IG5leHRDaGFpbk5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgaXNOZXR3b3JrQ2hhbmdlZEluU2FtZU5hbWVzcGFjZSA9IG5ldHdvcmtJZENoYW5nZWQgJiYgIW5hbWVzcGFjZUNoYW5nZWQ7XG4gICAgICAgIGNvbnN0IHdhc1Vuc3VwcG9ydGVkTmV0d29yayA9IHByZXZDYWlwTmV0d29yaz8ubmFtZSA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5VTlNVUFBPUlRFRF9ORVRXT1JLX05BTUU7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGluZ0V4dGVybmFsID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnQ29ubmVjdGluZ0V4dGVybmFsJztcbiAgICAgICAgY29uc3QgaXNOb3RDb25uZWN0ZWQgPSAhQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5leHRDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UpXG4gICAgICAgICAgICA/LmNhaXBBZGRyZXNzO1xuICAgICAgICBjb25zdCBpc1Vuc3VwcG9ydGVkTmV0d29ya1NjcmVlbiA9IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyA9PT0gJ1Vuc3VwcG9ydGVkQ2hhaW4nO1xuICAgICAgICBjb25zdCBpc01vZGFsT3BlbiA9IE1vZGFsQ29udHJvbGxlci5zdGF0ZS5vcGVuO1xuICAgICAgICBsZXQgc2hvdWxkR29CYWNrID0gZmFsc2U7XG4gICAgICAgIGlmIChpc01vZGFsT3BlbiAmJiAhaXNDb25uZWN0aW5nRXh0ZXJuYWwpIHtcbiAgICAgICAgICAgIGlmIChpc05vdENvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChuZXR3b3JrSWRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZEdvQmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNVbnN1cHBvcnRlZE5ldHdvcmtTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBzaG91bGRHb0JhY2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOZXR3b3JrQ2hhbmdlZEluU2FtZU5hbWVzcGFjZSAmJiAhd2FzVW5zdXBwb3J0ZWROZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkR29CYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkR29CYWNrICYmIFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyAhPT0gJ1NJV1hTaWduTWVzc2FnZScpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWlwTmV0d29yayA9IG5leHRDYWlwTmV0d29yaztcbiAgICB9XG4gICAgcHJlZmV0Y2goKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNQcmVmZXRjaGVkKSB7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLnByZWZldGNoKCk7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLmZldGNoV2FsbGV0c0J5UGFnZSh7IHBhZ2U6IDEgfSk7XG4gICAgICAgICAgICB0aGlzLmhhc1ByZWZldGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuVzNtTW9kYWxCYXNlLnN0eWxlcyA9IHN0eWxlcztcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgVzNtTW9kYWxCYXNlLnByb3RvdHlwZSwgXCJlbmFibGVFbWJlZGRlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtTW9kYWxCYXNlLnByb3RvdHlwZSwgXCJvcGVuXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21Nb2RhbEJhc2UucHJvdG90eXBlLCBcImNhaXBBZGRyZXNzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21Nb2RhbEJhc2UucHJvdG90eXBlLCBcImNhaXBOZXR3b3JrXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21Nb2RhbEJhc2UucHJvdG90eXBlLCBcInNoYWtlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21Nb2RhbEJhc2UucHJvdG90eXBlLCBcImZpbHRlckJ5TmFtZXNwYWNlXCIsIHZvaWQgMCk7XG5sZXQgVzNtTW9kYWwgPSBjbGFzcyBXM21Nb2RhbCBleHRlbmRzIFczbU1vZGFsQmFzZSB7XG59O1xuVzNtTW9kYWwgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3M20tbW9kYWwnKVxuXSwgVzNtTW9kYWwpO1xuZXhwb3J0IHsgVzNtTW9kYWwgfTtcbmxldCBBcHBLaXRNb2RhbCA9IGNsYXNzIEFwcEtpdE1vZGFsIGV4dGVuZHMgVzNtTW9kYWxCYXNlIHtcbn07XG5BcHBLaXRNb2RhbCA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ2FwcGtpdC1tb2RhbCcpXG5dLCBBcHBLaXRNb2RhbCk7XG5leHBvcnQgeyBBcHBLaXRNb2RhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIk1vZGFsVXRpbCIsIlJvdXRlckNvbnRyb2xsZXIiLCJNb2RhbENvbnRyb2xsZXIiLCJTSVdYVXRpbCIsInN0eWxlcyQ3IiwiY3NzIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiYyIsInIiLCJkIiwiaSIsIld1aUNhcmQiLCJMaXRFbGVtZW50IiwiaHRtbCIsInJlc2V0U3R5bGVzIiwic3R5bGVzIiwiY3VzdG9tRWxlbWVudCIsInN0eWxlcyQ2IiwiV3VpQWxlcnRCYXIiLCJBbGVydENvbnRyb2xsZXIiLCJwcm9wZXJ0eSIsInN0eWxlcyQ1IiwicHJlc2V0cyIsIlczbUFsZXJ0QmFyIiwidmFsIiwidW5zdWJzY3JpYmUiLCJtZXNzYWdlIiwidmFyaWFudCIsInByZXNldCIsImlzTW91bnRlZCIsInN0YXRlIiwic3R5bGVzJDQiLCJXdWlTZWxlY3QiLCJlbGVtZW50U3R5bGVzIiwiY29sb3JTdHlsZXMiLCJzdHlsZXMkMyIsIkJFVEFfU0NSRUVOUyIsImhlYWRpbmdzIiwiY29ubmVjdG9yTmFtZSIsIndhbGxldE5hbWUiLCJuZXR3b3JrTmFtZSIsIm5hbWUiLCJjb25uZWN0b3JzIiwiQ29ubmVjdG9yQ29udHJvbGxlciIsIkFjY291bnRDb250cm9sbGVyIiwiVzNtSGVhZGVyIiwiQ2hhaW5Db250cm9sbGVyIiwiQXNzZXRVdGlsIiwiQXNzZXRDb250cm9sbGVyIiwiQ29uc3RhbnRzVXRpbCIsIkV2ZW50c0NvbnRyb2xsZXIiLCJpc1NtYXJ0U2Vzc2lvbnNFbmFibGVkIiwiT3B0aW9uc0NvbnRyb2xsZXIiLCJpc0JldGEiLCJ2aWV3IiwiaXNDb25uZWN0SGVscCIsImlzRW1iZWRkZWRFbmFibGUiLCJpc0FwcHJvdmVUcmFuc2FjdGlvbiIsImlzQ29ubmVjdGluZ1NJV0VWaWV3IiwiaXNBY2NvdW50VmlldyIsImVuYWJsZU5ldHdvcmtTd2l0Y2giLCJzaG91bGRIaWRlQmFjayIsImlmRGVmaW5lZCIsInJlcXVlc3RlZENhaXBOZXR3b3JrcyIsImlzTXVsdGlOZXR3b3JrIiwiaXNWYWxpZE5ldHdvcmsiLCJpZCIsImhpc3RvcnkiLCJkaXJlY3Rpb24iLCJidXR0b25FbCIsInN0eWxlcyQyIiwiV3VpU25hY2tiYXIiLCJzdHlsZXMkMSIsIlczbVNuYWNrQmFyIiwiU25hY2tDb250cm9sbGVyIiwic3ZnIiwiaWNvbiIsImljb25Db2xvciIsIlNDUk9MTF9MT0NLIiwiVzNtTW9kYWxCYXNlIiwiQXBpQ29udHJvbGxlciIsImV2ZW50IiwidGhlbWVWYXJpYWJsZXMiLCJ0aGVtZU1vZGUiLCJUaGVtZUNvbnRyb2xsZXIiLCJkZWZhdWx0VGhlbWVNb2RlIiwiVWlIZWxwZXJVdGlsIiwiaW5pdGlhbGl6ZVRoZW1pbmciLCJzdHlsZVRhZyIsImNhcmQiLCJ0YWdOYW1lIiwiY2FpcEFkZHJlc3MiLCJpc1N3aXRjaGluZ05hbWVzcGFjZSIsIm5leHRDb25uZWN0ZWQiLCJDb3JlSGVscGVyVXRpbCIsIm5leHRDYWlwTmV0d29yayIsInByZXZDYWlwTmV0d29yayIsInByZXZDYWlwTmV0d29ya0lkIiwicHJldkNoYWluTmFtZXNwYWNlIiwibmV4dE5ldHdvcmtJZCIsIm5leHRDaGFpbk5hbWVzcGFjZSIsIm5ldHdvcmtJZENoYW5nZWQiLCJpc05ldHdvcmtDaGFuZ2VkSW5TYW1lTmFtZXNwYWNlIiwid2FzVW5zdXBwb3J0ZWROZXR3b3JrIiwiQ29tbW9uQ29uc3RhbnRzVXRpbCIsImlzQ29ubmVjdGluZ0V4dGVybmFsIiwiaXNOb3RDb25uZWN0ZWQiLCJpc1Vuc3VwcG9ydGVkTmV0d29ya1NjcmVlbiIsImlzTW9kYWxPcGVuIiwic2hvdWxkR29CYWNrIiwiVzNtTW9kYWwiLCJBcHBLaXRNb2RhbCJdLCJtYXBwaW5ncyI6InlkQUdPLE1BQU1BLEVBQVksQ0FDckIsd0JBQXlCLENBQ3JCLE9BQVFDLEVBQWlCLE1BQU0sT0FBUyxvQkFDbkNBLEVBQWlCLE1BQU0sT0FBUyxpQkFDN0JBLEVBQWlCLE1BQU0sUUFBUSxTQUFTLGtCQUFrQixDQUNyRSxFQUNELE1BQU0sV0FBWSxDQUNkLEdBQUksS0FBSyx5QkFBMEIsQ0FDL0JDLEVBQWdCLE1BQU8sRUFDdkIsTUFDWixDQUVRLEdBRDRCLE1BQU1DLEVBQVMsb0JBQXFCLEVBQ3ZDLENBQ3JCRCxFQUFnQixNQUFPLEVBQ3ZCLE1BQ1osQ0FDUUEsRUFBZ0IsTUFBTyxDQUMvQixDQUNBLEVDcEJBRSxHQUFlQztBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxFQ0RmLElBQUlDLEdBQTBDLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEVBQU0sQ0FDbkYsSUFBSUMsRUFBSSxVQUFVLE9BQVFDLEVBQUlELEVBQUksRUFBSUgsRUFBU0UsSUFBUyxLQUFPQSxFQUFPLE9BQU8seUJBQXlCRixFQUFRQyxDQUFHLEVBQUlDLEVBQU1HLEVBQzNILEdBQUksT0FBTyxTQUFZLFVBQVksT0FBTyxRQUFRLFVBQWEsV0FBWUQsRUFBSSxRQUFRLFNBQVNMLEVBQVlDLEVBQVFDLEVBQUtDLENBQUksTUFDeEgsU0FBU0ksRUFBSVAsRUFBVyxPQUFTLEVBQUdPLEdBQUssRUFBR0EsS0FBU0QsRUFBSU4sRUFBV08sQ0FBQyxLQUFHRixHQUFLRCxFQUFJLEVBQUlFLEVBQUVELENBQUMsRUFBSUQsRUFBSSxFQUFJRSxFQUFFTCxFQUFRQyxFQUFLRyxDQUFDLEVBQUlDLEVBQUVMLEVBQVFDLENBQUcsSUFBTUcsR0FDaEosT0FBT0QsRUFBSSxHQUFLQyxHQUFLLE9BQU8sZUFB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O0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBLEVDRGYsSUFBSUMsRUFBMEMsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsRUFBTSxDQUNuRixJQUFJQyxFQUFJLFVB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LEVBQWlCLE9BQVEsRUFFN0IsS0FBSyxZQUFja0csQ0FDM0IsQ0FDSSxVQUFXLENBQ0YsS0FBSyxnQkFDTmYsRUFBYyxTQUFVLEVBQ3hCQSxFQUFjLG1CQUFtQixDQUFFLEtBQU0sQ0FBQyxDQUFFLEVBQzVDLEtBQUssY0FBZ0IsR0FFakMsQ0FDQSxDQUNBRCxFQUFhLE9BQVNoRSxHQUN0QmIsRUFBVyxDQUNQa0IsRUFBUyxDQUFFLEtBQU0sT0FBUyxDQUFBLENBQzlCLEVBQUcyRCxFQUFhLFVBQVcsaUJBQWtCLE1BQU0sRUFDbkQ3RSxFQUFXLENBQ1A0QixFQUFLLENBQ1QsRUFBR2lELEVBQWEsVUFBVyxPQUFRLE1BQU0sRUFDekM3RSxFQUFXLENBQ1A0QixFQUFLLENBQ1QsRUFBR2lELEVBQWEsVUFBVyxjQUFlLE1BQU0sRUFDaEQ3RSxFQUFXLENBQ1A0QixFQUFLLENBQ1QsRUFBR2lELEVBQWEsVUFBVyxjQUFlLE1BQU0sRUFDaEQ3RSxFQUFXLENBQ1A0QixFQUFLLENBQ1QsRUFBR2lELEVBQWEsVUFBVyxRQUFTLE1BQU0sRUFDMUM3RSxFQUFXLENBQ1A0QixFQUFLLENBQ1QsRUFBR2lELEVBQWEsVUFBVyxvQkFBcUIsTUFBTSxFQUNuRCxJQUFDK0IsRUFBVyxjQUF1Qi9CLENBQWEsQ0FDbkQsRUFDQStCLEVBQVc1RyxFQUFXLENBQ2xCYyxFQUFjLFdBQVcsQ0FDN0IsRUFBRzhGLENBQVEsRUFFUixJQUFDQyxFQUFjLGNBQTBCaEMsQ0FBYSxDQUN6RCxFQUNBZ0MsRUFBYzdHLEVBQVcsQ0FDckJjLEVBQWMsY0FBYyxDQUNoQyxFQUFHK0YsQ0FBVyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2XX0=
