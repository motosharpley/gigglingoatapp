/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const v="ion-focused",L="ion-focusable",m=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],h=n=>{let i=[],r=!0;const e=n?n.shadowRoot:document,E=n||document.body,o=t=>{i.forEach(s=>s.classList.remove(v)),t.forEach(s=>s.classList.add(v)),i=t},c=()=>{r=!1,o([])},d=t=>{r=m.includes(t.key),r||o([])},u=t=>{if(r&&t.composedPath!==void 0){const s=t.composedPath().filter(f=>f.classList?f.classList.contains(L):!1);o(s)}},a=()=>{e.activeElement===E&&o([])};return e.addEventListener("keydown",d),e.addEventListener("focusin",u),e.addEventListener("focusout",a),e.addEventListener("touchstart",c,{passive:!0}),e.addEventListener("mousedown",c),{destroy:()=>{e.removeEventListener("keydown",d),e.removeEventListener("focusin",u),e.removeEventListener("focusout",a),e.removeEventListener("touchstart",c),e.removeEventListener("mousedown",c)},setFocus:o}};export{h as startFocusVisible};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9jdXMtdmlzaWJsZS1zdXB1WFhNSS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2NvbXBvbmVudHMvZm9jdXMtdmlzaWJsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuY29uc3QgSU9OX0ZPQ1VTRUQgPSAnaW9uLWZvY3VzZWQnO1xuY29uc3QgSU9OX0ZPQ1VTQUJMRSA9ICdpb24tZm9jdXNhYmxlJztcbmNvbnN0IEZPQ1VTX0tFWVMgPSBbXG4gICAgJ1RhYicsXG4gICAgJ0Fycm93RG93bicsXG4gICAgJ1NwYWNlJyxcbiAgICAnRXNjYXBlJyxcbiAgICAnICcsXG4gICAgJ1NoaWZ0JyxcbiAgICAnRW50ZXInLFxuICAgICdBcnJvd0xlZnQnLFxuICAgICdBcnJvd1JpZ2h0JyxcbiAgICAnQXJyb3dVcCcsXG4gICAgJ0hvbWUnLFxuICAgICdFbmQnLFxuXTtcbmNvbnN0IHN0YXJ0Rm9jdXNWaXNpYmxlID0gKHJvb3RFbCkgPT4ge1xuICAgIGxldCBjdXJyZW50Rm9jdXMgPSBbXTtcbiAgICBsZXQga2V5Ym9hcmRNb2RlID0gdHJ1ZTtcbiAgICBjb25zdCByZWYgPSByb290RWwgPyByb290RWwuc2hhZG93Um9vdCA6IGRvY3VtZW50O1xuICAgIGNvbnN0IHJvb3QgPSByb290RWwgPyByb290RWwgOiBkb2N1bWVudC5ib2R5O1xuICAgIGNvbnN0IHNldEZvY3VzID0gKGVsZW1lbnRzKSA9PiB7XG4gICAgICAgIGN1cnJlbnRGb2N1cy5mb3JFYWNoKChlbCkgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZShJT05fRk9DVVNFRCkpO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gZWwuY2xhc3NMaXN0LmFkZChJT05fRk9DVVNFRCkpO1xuICAgICAgICBjdXJyZW50Rm9jdXMgPSBlbGVtZW50cztcbiAgICB9O1xuICAgIGNvbnN0IHBvaW50ZXJEb3duID0gKCkgPT4ge1xuICAgICAgICBrZXlib2FyZE1vZGUgPSBmYWxzZTtcbiAgICAgICAgc2V0Rm9jdXMoW10pO1xuICAgIH07XG4gICAgY29uc3Qgb25LZXlkb3duID0gKGV2KSA9PiB7XG4gICAgICAgIGtleWJvYXJkTW9kZSA9IEZPQ1VTX0tFWVMuaW5jbHVkZXMoZXYua2V5KTtcbiAgICAgICAgaWYgKCFrZXlib2FyZE1vZGUpIHtcbiAgICAgICAgICAgIHNldEZvY3VzKFtdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25Gb2N1c2luID0gKGV2KSA9PiB7XG4gICAgICAgIGlmIChrZXlib2FyZE1vZGUgJiYgZXYuY29tcG9zZWRQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvRm9jdXMgPSBldi5jb21wb3NlZFBhdGgoKS5maWx0ZXIoKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhGVy0yODMyKTogdHlwZVxuICAgICAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhJT05fRk9DVVNBQkxFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRGb2N1cyh0b0ZvY3VzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb25Gb2N1c291dCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlZi5hY3RpdmVFbGVtZW50ID09PSByb290KSB7XG4gICAgICAgICAgICBzZXRGb2N1cyhbXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlkb3duKTtcbiAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIG9uRm9jdXNpbik7XG4gICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0Jywgb25Gb2N1c291dCk7XG4gICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwb2ludGVyRG93biwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBwb2ludGVyRG93bik7XG4gICAgY29uc3QgZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgcmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleWRvd24pO1xuICAgICAgICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIG9uRm9jdXNpbik7XG4gICAgICAgIHJlZi5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uRm9jdXNvdXQpO1xuICAgICAgICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBvaW50ZXJEb3duKTtcbiAgICAgICAgcmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHBvaW50ZXJEb3duKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3ksXG4gICAgICAgIHNldEZvY3VzLFxuICAgIH07XG59O1xuXG5leHBvcnQgeyBzdGFydEZvY3VzVmlzaWJsZSB9O1xuIl0sIm5hbWVzIjpbIklPTl9GT0NVU0VEIiwiSU9OX0ZPQ1VTQUJMRSIsIkZPQ1VTX0tFWVMiLCJzdGFydEZvY3VzVmlzaWJsZSIsInJvb3RFbCIsImN1cnJlbnRGb2N1cyIsImtleWJvYXJkTW9kZSIsInJlZiIsInJvb3QiLCJzZXRGb2N1cyIsImVsZW1lbnRzIiwiZWwiLCJwb2ludGVyRG93biIsIm9uS2V5ZG93biIsImV2Iiwib25Gb2N1c2luIiwidG9Gb2N1cyIsIm9uRm9jdXNvdXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxHQUdBLE1BQU1BLEVBQWMsY0FDZEMsRUFBZ0IsZ0JBQ2hCQyxFQUFhLENBQ2YsTUFDQSxZQUNBLFFBQ0EsU0FDQSxJQUNBLFFBQ0EsUUFDQSxZQUNBLGFBQ0EsVUFDQSxPQUNBLEtBQ0osRUFDTUMsRUFBcUJDLEdBQVcsQ0FDbEMsSUFBSUMsRUFBZSxDQUFFLEVBQ2pCQyxFQUFlLEdBQ25CLE1BQU1DLEVBQU1ILEVBQVNBLEVBQU8sV0FBYSxTQUNuQ0ksRUFBT0osR0FBa0IsU0FBUyxLQUNsQ0ssRUFBWUMsR0FBYSxDQUMzQkwsRUFBYSxRQUFTTSxHQUFPQSxFQUFHLFVBQVUsT0FBT1gsQ0FBVyxDQUFDLEVBQzdEVSxFQUFTLFFBQVNDLEdBQU9BLEVBQUcsVUFBVSxJQUFJWCxDQUFXLENBQUMsRUFDdERLLEVBQWVLLENBQ2xCLEVBQ0tFLEVBQWMsSUFBTSxDQUN0Qk4sRUFBZSxHQUNmRyxFQUFTLENBQUEsQ0FBRSxDQUNkLEVBQ0tJLEVBQWFDLEdBQU8sQ0FDdEJSLEVBQWVKLEVBQVcsU0FBU1ksRUFBRyxHQUFHLEVBQ3BDUixHQUNERyxFQUFTLENBQUEsQ0FBRSxDQUVsQixFQUNLTSxFQUFhRCxHQUFPLENBQ3RCLEdBQUlSLEdBQWdCUSxFQUFHLGVBQWlCLE9BQVcsQ0FDL0MsTUFBTUUsRUFBVUYsRUFBRyxhQUFjLEVBQUMsT0FBUUgsR0FFbENBLEVBQUcsVUFDSUEsRUFBRyxVQUFVLFNBQVNWLENBQWEsRUFFdkMsRUFDVixFQUNEUSxFQUFTTyxDQUFPLENBQzVCLENBQ0ssRUFDS0MsRUFBYSxJQUFNLENBQ2pCVixFQUFJLGdCQUFrQkMsR0FDdEJDLEVBQVMsQ0FBQSxDQUFFLENBRWxCLEVBQ0QsT0FBQUYsRUFBSSxpQkFBaUIsVUFBV00sQ0FBUyxFQUN6Q04sRUFBSSxpQkFBaUIsVUFBV1EsQ0FBUyxFQUN6Q1IsRUFBSSxpQkFBaUIsV0FBWVUsQ0FBVSxFQUMzQ1YsRUFBSSxpQkFBaUIsYUFBY0ssRUFBYSxDQUFFLFFBQVMsR0FBTSxFQUNqRUwsRUFBSSxpQkFBaUIsWUFBYUssQ0FBVyxFQVF0QyxDQUNILFFBUlksSUFBTSxDQUNsQkwsRUFBSSxvQkFBb0IsVUFBV00sQ0FBUyxFQUM1Q04sRUFBSSxvQkFBb0IsVUFBV1EsQ0FBUyxFQUM1Q1IsRUFBSSxvQkFBb0IsV0FBWVUsQ0FBVSxFQUM5Q1YsRUFBSSxvQkFBb0IsYUFBY0ssQ0FBVyxFQUNqREwsRUFBSSxvQkFBb0IsWUFBYUssQ0FBVyxDQUNuRCxFQUdHLFNBQUFILENBQ0gsQ0FDTCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=
