import{i as x,a as f,M as R,x as l,C as U,T as E,g as W,b as A,r as M,c as $,E as c,A as h,d as I,e as j,f as y,W as S,S as D,R as P}from"./index-C4QAg8YX.js";import{r as p,c as g,n as w,o as z}from"./if-defined-BYYrXBY0.js";import{N as k}from"./index-CNBdnCpA.js";import{e as H,n as V}from"./ref-DqiK23uq.js";import"./index-BTa2w2R5.js";import"./index-BH2MqK48.js";import"./index-jJzQQPyG.js";import"./index-BomhzTZl.js";import"./index-9f6LuDk9.js";import"./index-DQcN5B-F.js";import"./index-DX2qWijH.js";import"./index-BRbX2CYq.js";const F=x`
  div {
    width: 100%;
  }

  [data-ready='false'] {
    transform: scale(1.05);
  }

  @media (max-width: 430px) {
    [data-ready='false'] {
      transform: translateY(-50px);
    }
  }
`;var O=function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i};const T=600,N=360,B=64;let v=class extends f{constructor(){super(),this.bodyObserver=void 0,this.unsubscribe=[],this.iframe=document.getElementById("w3m-iframe"),this.ready=!1,this.unsubscribe.push(R.subscribeKey("open",e=>{e||this.onHideIframe()}),R.subscribeKey("shake",e=>{e?this.iframe.style.animation="w3m-shake 500ms var(--wui-ease-out-power-2)":this.iframe.style.animation="none"}))}disconnectedCallback(){this.onHideIframe(),this.unsubscribe.forEach(e=>e()),this.bodyObserver?.unobserve(window.document.body)}async firstUpdated(){await this.syncTheme(),this.iframe.style.display="block";const e=this?.renderRoot?.querySelector("div");this.bodyObserver=new ResizeObserver(t=>{const s=t?.[0]?.contentBoxSize?.[0]?.inlineSize;this.iframe.style.height=`${T}px`,e.style.height=`${T}px`,s&&s<=430?(this.iframe.style.width="100%",this.iframe.style.left="0px",this.iframe.style.bottom="0px",this.iframe.style.top="unset"):(this.iframe.style.width=`${N}px`,this.iframe.style.left=`calc(50% - ${N/2}px)`,this.iframe.style.top=`calc(50% - ${T/2}px + ${B/2}px)`,this.iframe.style.bottom="unset"),this.ready=!0,this.onShowIframe()}),this.bodyObserver.observe(window.document.body)}render(){return l`<div data-ready=${this.ready} id="w3m-frame-container"></div>`}onShowIframe(){const e=window.innerWidth<=430;this.iframe.style.animation=e?"w3m-iframe-zoom-in-mobile 200ms var(--wui-ease-out-power-2)":"w3m-iframe-zoom-in 200ms var(--wui-ease-out-power-2)"}onHideIframe(){this.iframe.style.display="none",this.iframe.style.animation="w3m-iframe-fade-out 200ms var(--wui-ease-out-power-2)"}async syncTheme(){const e=U.getAuthConnector();if(e){const t=E.getSnapshot().themeMode,n=E.getSnapshot().themeVariables;await e.provider.syncTheme({themeVariables:n,w3mThemeVariables:W(n,t)})}}};v.styles=F;O([p()],v.prototype,"ready",void 0);v=O([g("w3m-approve-transaction-view")],v);var G=function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i};let _=class extends f{render(){return l`
      <wui-flex flexDirection="column" alignItems="center" gap="xl" padding="xl">
        <wui-text variant="paragraph-400" color="fg-100">Follow the instructions on</wui-text>
        <wui-chip
          icon="externalLink"
          variant="fill"
          href=${A.SECURE_SITE_DASHBOARD}
          imageSrc=${A.SECURE_SITE_FAVICON}
          data-testid="w3m-secure-website-button"
        >
        </wui-chip>
        <wui-text variant="small-400" color="fg-200">
          You will have to reconnect for security reasons
        </wui-text>
      </wui-flex>
    `}};_=G([g("w3m-upgrade-wallet-view")],_);const Y=x`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  .error {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }

  .base-name {
    position: absolute;
    right: 45px;
    top: 15px;
    text-align: right;
  }
`;var b=function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i};let d=class extends f{constructor(){super(...arguments),this.disabled=!1,this.loading=!1}render(){return l`
      <wui-input-text
        value=${z(this.value)}
        ?disabled=${this.disabled}
        .value=${this.value||""}
        data-testid="wui-ens-input"
        inputRightPadding="5xl"
      >
        ${this.baseNameTemplate()} ${this.errorTemplate()}${this.loadingTemplate()}
      </wui-input-text>
    `}baseNameTemplate(){return l`<wui-text variant="paragraph-400" color="fg-200" class="base-name">
      ${$.WC_NAME_SUFFIX}
    </wui-text>`}loadingTemplate(){return this.loading?l`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}errorTemplate(){return this.errorMessage?l`<wui-text variant="tiny-500" color="error-100" class="error"
        >${this.errorMessage}</wui-text
      >`:null}};d.styles=[M,Y];b([w()],d.prototype,"errorMessage",void 0);b([w({type:Boolean})],d.prototype,"disabled",void 0);b([w()],d.prototype,"value",void 0);b([w({type:Boolean})],d.prototype,"loading",void 0);d=b([g("wui-ens-input")],d);const L=x`
  wui-flex {
    width: 100%;
  }

  .suggestion {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  .suggestion:hover {
    background-color: var(--wui-color-gray-glass-005);
    cursor: pointer;
  }

  .suggested-name {
    max-width: 75%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  form {
    width: 100%;
  }

  wui-icon-link {
    position: absolute;
    right: 20px;
    transform: translateY(11px);
  }
`;var m=function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i};let u=class extends f{constructor(){super(),this.formRef=H(),this.usubscribe=[],this.name="",this.error="",this.loading=c.state.loading,this.suggestions=c.state.suggestions,this.registered=!1,this.profileName=h.state.profileName,this.onDebouncedNameInputChange=I.debounce(e=>{c.validateName(e)?(this.error="",this.name=e,c.getSuggestions(e),c.isNameRegistered(e).then(t=>{this.registered=t})):e.length<4?this.error="Name must be at least 4 characters long":this.error="Can only contain letters, numbers and - characters"}),this.usubscribe.push(c.subscribe(e=>{this.suggestions=e.suggestions,this.loading=e.loading}),h.subscribeKey("profileName",e=>{this.profileName=e,e&&(this.error="You already own a name")}))}firstUpdated(){this.formRef.value?.addEventListener("keydown",this.onEnterKey.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.usubscribe.forEach(e=>e()),this.formRef.value?.removeEventListener("keydown",this.onEnterKey.bind(this))}render(){return l`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="m"
        .padding=${["0","s","m","s"]}
      >
        <form ${V(this.formRef)} @submit=${this.onSubmitName.bind(this)}>
          <wui-ens-input
            @inputChange=${this.onNameInputChange.bind(this)}
            .errorMessage=${this.error}
            .value=${this.name}
          >
          </wui-ens-input>
          ${this.submitButtonTemplate()}
          <input type="submit" hidden />
        </form>
        ${this.templateSuggestions()}
      </wui-flex>
    `}submitButtonTemplate(){return this.isAllowedToSubmit()?l`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitName.bind(this)}
          >
          </wui-icon-link>
        `:null}onSelectSuggestion(e){return()=>{this.name=e,this.registered=!1,this.requestUpdate()}}onNameInputChange(e){this.onDebouncedNameInputChange(e.detail)}nameSuggestionTagTemplate(){return this.loading?l`<wui-loading-spinner size="lg" color="fg-100"></wui-loading-spinner>`:this.registered?l`<wui-tag variant="shade" size="lg">Registered</wui-tag>`:l`<wui-tag variant="success" size="lg">Available</wui-tag>`}templateSuggestions(){if(!this.name||this.name.length<4||this.error)return null;const e=this.registered?this.suggestions.filter(t=>t.name!==this.name):[];return l`<wui-flex flexDirection="column" gap="xxs" alignItems="center">
      <wui-flex
        data-testid="account-name-suggestion"
        .padding=${["m","m","m","m"]}
        justifyContent="space-between"
        class="suggestion"
        @click=${this.onSubmitName.bind(this)}
      >
        <wui-text color="fg-100" variant="paragraph-400" class="suggested-name">
          ${this.name}</wui-text
        >${this.nameSuggestionTagTemplate()}
      </wui-flex>
      ${e.map(t=>this.availableNameTemplate(t.name))}
    </wui-flex>`}availableNameTemplate(e){return l` <wui-flex
      data-testid="account-name-suggestion"
      .padding=${["m","m","m","m"]}
      justifyContent="space-between"
      class="suggestion"
      @click=${this.onSelectSuggestion(e)}
    >
      <wui-text color="fg-100" variant="paragraph-400" class="suggested-name">
        ${e}
      </wui-text>
      <wui-tag variant="success" size="lg">Available</wui-tag>
    </wui-flex>`}isAllowedToSubmit(){return!this.loading&&!this.registered&&!this.error&&!this.profileName&&c.validateName(this.name)}async onSubmitName(){const e=j.state.activeChain;try{if(!this.isAllowedToSubmit())return;const t=`${this.name}${$.WC_NAME_SUFFIX}`;y.sendEvent({type:"track",event:"REGISTER_NAME_INITIATED",properties:{isSmartAccount:h.state.preferredAccountTypes?.[e]===S.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:t}}),await c.registerName(t),y.sendEvent({type:"track",event:"REGISTER_NAME_SUCCESS",properties:{isSmartAccount:h.state.preferredAccountTypes?.[e]===S.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:t}})}catch(t){D.showError(t.message),y.sendEvent({type:"track",event:"REGISTER_NAME_ERROR",properties:{isSmartAccount:h.state.preferredAccountTypes?.[e]===S.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:`${this.name}${$.WC_NAME_SUFFIX}`,error:t?.message||"Unknown error"}})}}onEnterKey(e){e.key==="Enter"&&this.isAllowedToSubmit()&&this.onSubmitName()}};u.styles=L;m([w()],u.prototype,"errorMessage",void 0);m([p()],u.prototype,"name",void 0);m([p()],u.prototype,"error",void 0);m([p()],u.prototype,"loading",void 0);m([p()],u.prototype,"suggestions",void 0);m([p()],u.prototype,"registered",void 0);m([p()],u.prototype,"profileName",void 0);u=m([g("w3m-register-account-name-view")],u);const K=x`
  .continue-button-container {
    width: 100%;
  }
`;var q=function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i};let C=class extends f{render(){return l`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{I.openHref(k.URLS.FAQ,"_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return l` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-icon-box
          size="xl"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Account name chosen successfully
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          You can now fund your account and trade crypto
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return l`<wui-flex
      .padding=${["0","2l","0","2l"]}
      gap="s"
      class="continue-button-container"
    >
      <wui-button fullWidth size="lg" borderRadius="xs" @click=${this.redirectToAccount.bind(this)}
        >Let's Go!
      </wui-button>
    </wui-flex>`}redirectToAccount(){P.replace("Account")}};C.styles=K;C=q([g("w3m-register-account-name-success-view")],C);export{v as W3mApproveTransactionView,C as W3mRegisterAccountNameSuccess,u as W3mRegisterAccountNameView,_ as W3mUpgradeWalletView};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW1iZWRkZWQtd2FsbGV0LURNc0JkdmpvLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLWFwcHJvdmUtdHJhbnNhY3Rpb24tdmlldy9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLWFwcHJvdmUtdHJhbnNhY3Rpb24tdmlldy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tdXBncmFkZS13YWxsZXQtdmlldy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy9jb21wb3NpdGVzL3d1aS1lbnMtaW5wdXQvc3R5bGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvc2l0ZXMvd3VpLWVucy1pbnB1dC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tcmVnaXN0ZXItYWNjb3VudC1uYW1lLXZpZXcvc3R5bGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL3ZpZXdzL3czbS1yZWdpc3Rlci1hY2NvdW50LW5hbWUtdmlldy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tcmVnaXN0ZXItYWNjb3VudC1uYW1lLXN1Y2Nlc3Mtdmlldy9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLXJlZ2lzdGVyLWFjY291bnQtbmFtZS1zdWNjZXNzLXZpZXcvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIGRpdiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBbZGF0YS1yZWFkeT0nZmFsc2UnXSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgfVxuXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA0MzBweCkge1xuICAgIFtkYXRhLXJlYWR5PSdmYWxzZSddIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTBweCk7XG4gICAgfVxuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBnZXRXM21UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIsIE1vZGFsQ29udHJvbGxlciwgVGhlbWVDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmNvbnN0IFBBR0VfSEVJR0hUID0gNjAwO1xuY29uc3QgUEFHRV9XSURUSCA9IDM2MDtcbmNvbnN0IEhFQURFUl9IRUlHSFQgPSA2NDtcbmxldCBXM21BcHByb3ZlVHJhbnNhY3Rpb25WaWV3ID0gY2xhc3MgVzNtQXBwcm92ZVRyYW5zYWN0aW9uVmlldyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJvZHlPYnNlcnZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IFtdO1xuICAgICAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3M20taWZyYW1lJyk7XG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZS5wdXNoKC4uLltcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ29wZW4nLCBpc09wZW4gPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25IaWRlSWZyYW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdzaGFrZScsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5hbmltYXRpb24gPSBgdzNtLXNoYWtlIDUwMG1zIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0yKWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5hbmltYXRpb24gPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLm9uSGlkZUlmcmFtZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLmZvckVhY2godW5zdWJzY3JpYmUgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIHRoaXMuYm9keU9ic2VydmVyPy51bm9ic2VydmUod2luZG93LmRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgICBhc3luYyBmaXJzdFVwZGF0ZWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3luY1RoZW1lKCk7XG4gICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzPy5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICAgICAgdGhpcy5ib2R5T2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50Qm94U2l6ZSA9IGVudHJpZXM/LlswXT8uY29udGVudEJveFNpemU7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGNvbnRlbnRCb3hTaXplPy5bMF0/LmlubGluZVNpemU7XG4gICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSBgJHtQQUdFX0hFSUdIVH1weGA7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7UEFHRV9IRUlHSFR9cHhgO1xuICAgICAgICAgICAgaWYgKHdpZHRoICYmIHdpZHRoIDw9IDQzMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5ib3R0b20gPSAnMHB4JztcbiAgICAgICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS50b3AgPSAndW5zZXQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUud2lkdGggPSBgJHtQQUdFX1dJRFRIfXB4YDtcbiAgICAgICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5sZWZ0ID0gYGNhbGMoNTAlIC0gJHtQQUdFX1dJRFRIIC8gMn1weClgO1xuICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLnRvcCA9IGBjYWxjKDUwJSAtICR7UEFHRV9IRUlHSFQgLyAyfXB4ICsgJHtIRUFERVJfSEVJR0hUIC8gMn1weClgO1xuICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmJvdHRvbSA9ICd1bnNldCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub25TaG93SWZyYW1lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJvZHlPYnNlcnZlci5vYnNlcnZlKHdpbmRvdy5kb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgPGRpdiBkYXRhLXJlYWR5PSR7dGhpcy5yZWFkeX0gaWQ9XCJ3M20tZnJhbWUtY29udGFpbmVyXCI+PC9kaXY+YDtcbiAgICB9XG4gICAgb25TaG93SWZyYW1lKCkge1xuICAgICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDQzMDtcbiAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuYW5pbWF0aW9uID0gaXNNb2JpbGVcbiAgICAgICAgICAgID8gJ3czbS1pZnJhbWUtem9vbS1pbi1tb2JpbGUgMjAwbXMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpJ1xuICAgICAgICAgICAgOiAndzNtLWlmcmFtZS16b29tLWluIDIwMG1zIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0yKSc7XG4gICAgfVxuICAgIG9uSGlkZUlmcmFtZSgpIHtcbiAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuYW5pbWF0aW9uID0gJ3czbS1pZnJhbWUtZmFkZS1vdXQgMjAwbXMgdmFyKC0td3VpLWVhc2Utb3V0LXBvd2VyLTIpJztcbiAgICB9XG4gICAgYXN5bmMgc3luY1RoZW1lKCkge1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgIGlmIChhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCB0aGVtZU1vZGUgPSBUaGVtZUNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZU1vZGU7XG4gICAgICAgICAgICBjb25zdCB0aGVtZVZhcmlhYmxlcyA9IFRoZW1lQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lVmFyaWFibGVzO1xuICAgICAgICAgICAgYXdhaXQgYXV0aENvbm5lY3Rvci5wcm92aWRlci5zeW5jVGhlbWUoe1xuICAgICAgICAgICAgICAgIHRoZW1lVmFyaWFibGVzLFxuICAgICAgICAgICAgICAgIHczbVRoZW1lVmFyaWFibGVzOiBnZXRXM21UaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcywgdGhlbWVNb2RlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuVzNtQXBwcm92ZVRyYW5zYWN0aW9uVmlldy5zdHlsZXMgPSBzdHlsZXM7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21BcHByb3ZlVHJhbnNhY3Rpb25WaWV3LnByb3RvdHlwZSwgXCJyZWFkeVwiLCB2b2lkIDApO1xuVzNtQXBwcm92ZVRyYW5zYWN0aW9uVmlldyA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS1hcHByb3ZlLXRyYW5zYWN0aW9uLXZpZXcnKVxuXSwgVzNtQXBwcm92ZVRyYW5zYWN0aW9uVmlldyk7XG5leHBvcnQgeyBXM21BcHByb3ZlVHJhbnNhY3Rpb25WaWV3IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdAcmVvd24vYXBwa2l0LXVpJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktY2hpcCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmxldCBXM21VcGdyYWRlV2FsbGV0VmlldyA9IGNsYXNzIFczbVVwZ3JhZGVXYWxsZXRWaWV3IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWZsZXggZmxleERpcmVjdGlvbj1cImNvbHVtblwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBnYXA9XCJ4bFwiIHBhZGRpbmc9XCJ4bFwiPlxuICAgICAgICA8d3VpLXRleHQgdmFyaWFudD1cInBhcmFncmFwaC00MDBcIiBjb2xvcj1cImZnLTEwMFwiPkZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb25zIG9uPC93dWktdGV4dD5cbiAgICAgICAgPHd1aS1jaGlwXG4gICAgICAgICAgaWNvbj1cImV4dGVybmFsTGlua1wiXG4gICAgICAgICAgdmFyaWFudD1cImZpbGxcIlxuICAgICAgICAgIGhyZWY9JHtDb25zdGFudHNVdGlsLlNFQ1VSRV9TSVRFX0RBU0hCT0FSRH1cbiAgICAgICAgICBpbWFnZVNyYz0ke0NvbnN0YW50c1V0aWwuU0VDVVJFX1NJVEVfRkFWSUNPTn1cbiAgICAgICAgICBkYXRhLXRlc3RpZD1cInczbS1zZWN1cmUtd2Vic2l0ZS1idXR0b25cIlxuICAgICAgICA+XG4gICAgICAgIDwvd3VpLWNoaXA+XG4gICAgICAgIDx3dWktdGV4dCB2YXJpYW50PVwic21hbGwtNDAwXCIgY29sb3I9XCJmZy0yMDBcIj5cbiAgICAgICAgICBZb3Ugd2lsbCBoYXZlIHRvIHJlY29ubmVjdCBmb3Igc2VjdXJpdHkgcmVhc29uc1xuICAgICAgICA8L3d1aS10ZXh0PlxuICAgICAgPC93dWktZmxleD5cbiAgICBgO1xuICAgIH1cbn07XG5XM21VcGdyYWRlV2FsbGV0VmlldyA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS11cGdyYWRlLXdhbGxldC12aWV3Jylcbl0sIFczbVVwZ3JhZGVXYWxsZXRWaWV3KTtcbmV4cG9ydCB7IFczbVVwZ3JhZGVXYWxsZXRWaWV3IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3Qge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgY29sb3I6IHZhcigtLXd1aS1jb2xvci1mZy0yNzUpO1xuICB9XG5cbiAgLmVycm9yIHtcbiAgICBtYXJnaW46IHZhcigtLXd1aS1zcGFjaW5nLXh4cykgdmFyKC0td3VpLXNwYWNpbmctbSkgdmFyKC0td3VpLXNwYWNpbmctMCkgdmFyKC0td3VpLXNwYWNpbmctbSk7XG4gIH1cblxuICAuYmFzZS1uYW1lIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDQ1cHg7XG4gICAgdG9wOiAxNXB4O1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgJy4uLy4uL2NvbXBvbmVudHMvd3VpLWxvYWRpbmctc3Bpbm5lci9pbmRleC5qcyc7XG5pbXBvcnQgJy4uLy4uL2NvbXBvbmVudHMvd3VpLXRleHQvaW5kZXguanMnO1xuaW1wb3J0IHsgcmVzZXRTdHlsZXMgfSBmcm9tICcuLi8uLi91dGlscy9UaGVtZVV0aWwuanMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWxzL1dlYkNvbXBvbmVudHNVdGlsLmpzJztcbmltcG9ydCAnLi4vd3VpLWlucHV0LXRleHQvaW5kZXguanMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5sZXQgV3VpRW5zSW5wdXQgPSBjbGFzcyBXdWlFbnNJbnB1dCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDx3dWktaW5wdXQtdGV4dFxuICAgICAgICB2YWx1ZT0ke2lmRGVmaW5lZCh0aGlzLnZhbHVlKX1cbiAgICAgICAgP2Rpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH1cbiAgICAgICAgLnZhbHVlPSR7dGhpcy52YWx1ZSB8fCAnJ31cbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJ3dWktZW5zLWlucHV0XCJcbiAgICAgICAgaW5wdXRSaWdodFBhZGRpbmc9XCI1eGxcIlxuICAgICAgPlxuICAgICAgICAke3RoaXMuYmFzZU5hbWVUZW1wbGF0ZSgpfSAke3RoaXMuZXJyb3JUZW1wbGF0ZSgpfSR7dGhpcy5sb2FkaW5nVGVtcGxhdGUoKX1cbiAgICAgIDwvd3VpLWlucHV0LXRleHQ+XG4gICAgYDtcbiAgICB9XG4gICAgYmFzZU5hbWVUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktdGV4dCB2YXJpYW50PVwicGFyYWdyYXBoLTQwMFwiIGNvbG9yPVwiZmctMjAwXCIgY2xhc3M9XCJiYXNlLW5hbWVcIj5cbiAgICAgICR7Q29uc3RhbnRzVXRpbC5XQ19OQU1FX1NVRkZJWH1cbiAgICA8L3d1aS10ZXh0PmA7XG4gICAgfVxuICAgIGxvYWRpbmdUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGluZ1xuICAgICAgICAgICAgPyBodG1sIGA8d3VpLWxvYWRpbmctc3Bpbm5lciBzaXplPVwibWRcIiBjb2xvcj1cImFjY2VudC0xMDBcIj48L3d1aS1sb2FkaW5nLXNwaW5uZXI+YFxuICAgICAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBlcnJvclRlbXBsYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sIGA8d3VpLXRleHQgdmFyaWFudD1cInRpbnktNTAwXCIgY29sb3I9XCJlcnJvci0xMDBcIiBjbGFzcz1cImVycm9yXCJcbiAgICAgICAgPiR7dGhpcy5lcnJvck1lc3NhZ2V9PC93dWktdGV4dFxuICAgICAgPmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcbld1aUVuc0lucHV0LnN0eWxlcyA9IFtyZXNldFN0eWxlcywgc3R5bGVzXTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFd1aUVuc0lucHV0LnByb3RvdHlwZSwgXCJlcnJvck1lc3NhZ2VcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV3VpRW5zSW5wdXQucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlFbnNJbnB1dC5wcm90b3R5cGUsIFwidmFsdWVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV3VpRW5zSW5wdXQucHJvdG90eXBlLCBcImxvYWRpbmdcIiwgdm9pZCAwKTtcbld1aUVuc0lucHV0ID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnd3VpLWVucy1pbnB1dCcpXG5dLCBXdWlFbnNJbnB1dCk7XG5leHBvcnQgeyBXdWlFbnNJbnB1dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIHd1aS1mbGV4IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5zdWdnZXN0aW9uIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLXhzKTtcbiAgfVxuXG4gIC5zdWdnZXN0aW9uOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDUpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5zdWdnZXN0ZWQtbmFtZSB7XG4gICAgbWF4LXdpZHRoOiA3NSU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG5cbiAgZm9ybSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICB3dWktaWNvbi1saW5rIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDIwcHg7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDExcHgpO1xuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgcHJvcGVydHksIHN0YXRlIH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVmLCByZWYgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9yZWYuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEFjY291bnRDb250cm9sbGVyLCBDaGFpbkNvbnRyb2xsZXIsIENvcmVIZWxwZXJVdGlsLCBFbnNDb250cm9sbGVyLCBFdmVudHNDb250cm9sbGVyLCBTbmFja0NvbnRyb2xsZXIgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdAcmVvd24vYXBwa2l0LXVpJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktZW5zLWlucHV0JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktZmxleCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWljb24nO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1pY29uLWxpbmsnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1sb2FkaW5nLXNwaW5uZXInO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10YWcnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5sZXQgVzNtUmVnaXN0ZXJBY2NvdW50TmFtZVZpZXcgPSBjbGFzcyBXM21SZWdpc3RlckFjY291bnROYW1lVmlldyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmZvcm1SZWYgPSBjcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy51c3Vic2NyaWJlID0gW107XG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xuICAgICAgICB0aGlzLmVycm9yID0gJyc7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IEVuc0NvbnRyb2xsZXIuc3RhdGUubG9hZGluZztcbiAgICAgICAgdGhpcy5zdWdnZXN0aW9ucyA9IEVuc0NvbnRyb2xsZXIuc3RhdGUuc3VnZ2VzdGlvbnM7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2ZpbGVOYW1lID0gQWNjb3VudENvbnRyb2xsZXIuc3RhdGUucHJvZmlsZU5hbWU7XG4gICAgICAgIHRoaXMub25EZWJvdW5jZWROYW1lSW5wdXRDaGFuZ2UgPSBDb3JlSGVscGVyVXRpbC5kZWJvdW5jZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChFbnNDb250cm9sbGVyLnZhbGlkYXRlTmFtZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgRW5zQ29udHJvbGxlci5nZXRTdWdnZXN0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgRW5zQ29udHJvbGxlci5pc05hbWVSZWdpc3RlcmVkKHZhbHVlKS50aGVuKHJlZ2lzdGVyZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWQgPSByZWdpc3RlcmVkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAnTmFtZSBtdXN0IGJlIGF0IGxlYXN0IDQgY2hhcmFjdGVycyBsb25nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAnQ2FuIG9ubHkgY29udGFpbiBsZXR0ZXJzLCBudW1iZXJzIGFuZCAtIGNoYXJhY3RlcnMnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51c3Vic2NyaWJlLnB1c2goLi4uW1xuICAgICAgICAgICAgRW5zQ29udHJvbGxlci5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Z2dlc3Rpb25zID0gdmFsLnN1Z2dlc3Rpb25zO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHZhbC5sb2FkaW5nO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBBY2NvdW50Q29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ3Byb2ZpbGVOYW1lJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2ZpbGVOYW1lID0gdmFsO1xuICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9ICdZb3UgYWxyZWFkeSBvd24gYSBuYW1lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgZmlyc3RVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLmZvcm1SZWYudmFsdWU/LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uRW50ZXJLZXkuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLnVzdWJzY3JpYmUuZm9yRWFjaCh1bnN1YiA9PiB1bnN1YigpKTtcbiAgICAgICAgdGhpcy5mb3JtUmVmLnZhbHVlPy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbkVudGVyS2V5LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDx3dWktZmxleFxuICAgICAgICBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIGdhcD1cIm1cIlxuICAgICAgICAucGFkZGluZz0ke1snMCcsICdzJywgJ20nLCAncyddfVxuICAgICAgPlxuICAgICAgICA8Zm9ybSAke3JlZih0aGlzLmZvcm1SZWYpfSBAc3VibWl0PSR7dGhpcy5vblN1Ym1pdE5hbWUuYmluZCh0aGlzKX0+XG4gICAgICAgICAgPHd1aS1lbnMtaW5wdXRcbiAgICAgICAgICAgIEBpbnB1dENoYW5nZT0ke3RoaXMub25OYW1lSW5wdXRDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgIC5lcnJvck1lc3NhZ2U9JHt0aGlzLmVycm9yfVxuICAgICAgICAgICAgLnZhbHVlPSR7dGhpcy5uYW1lfVxuICAgICAgICAgID5cbiAgICAgICAgICA8L3d1aS1lbnMtaW5wdXQ+XG4gICAgICAgICAgJHt0aGlzLnN1Ym1pdEJ1dHRvblRlbXBsYXRlKCl9XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBoaWRkZW4gLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICAke3RoaXMudGVtcGxhdGVTdWdnZXN0aW9ucygpfVxuICAgICAgPC93dWktZmxleD5cbiAgICBgO1xuICAgIH1cbiAgICBzdWJtaXRCdXR0b25UZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3Qgc2hvd1N1Ym1pdCA9IHRoaXMuaXNBbGxvd2VkVG9TdWJtaXQoKTtcbiAgICAgICAgcmV0dXJuIHNob3dTdWJtaXRcbiAgICAgICAgICAgID8gaHRtbCBgXG4gICAgICAgICAgPHd1aS1pY29uLWxpbmtcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBpY29uPVwiY2hldnJvblJpZ2h0XCJcbiAgICAgICAgICAgIGljb25jb2xvcj1cImFjY2VudC0xMDBcIlxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5vblN1Ym1pdE5hbWUuYmluZCh0aGlzKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgPC93dWktaWNvbi1saW5rPlxuICAgICAgICBgXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIG9uU2VsZWN0U3VnZ2VzdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25OYW1lSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5vbkRlYm91bmNlZE5hbWVJbnB1dENoYW5nZShldmVudC5kZXRhaWwpO1xuICAgIH1cbiAgICBuYW1lU3VnZ2VzdGlvblRhZ1RlbXBsYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1sb2FkaW5nLXNwaW5uZXIgc2l6ZT1cImxnXCIgY29sb3I9XCJmZy0xMDBcIj48L3d1aS1sb2FkaW5nLXNwaW5uZXI+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlcmVkXG4gICAgICAgICAgICA/IGh0bWwgYDx3dWktdGFnIHZhcmlhbnQ9XCJzaGFkZVwiIHNpemU9XCJsZ1wiPlJlZ2lzdGVyZWQ8L3d1aS10YWc+YFxuICAgICAgICAgICAgOiBodG1sIGA8d3VpLXRhZyB2YXJpYW50PVwic3VjY2Vzc1wiIHNpemU9XCJsZ1wiPkF2YWlsYWJsZTwvd3VpLXRhZz5gO1xuICAgIH1cbiAgICB0ZW1wbGF0ZVN1Z2dlc3Rpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMubmFtZSB8fCB0aGlzLm5hbWUubGVuZ3RoIDwgNCB8fCB0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IHRoaXMucmVnaXN0ZXJlZCA/IHRoaXMuc3VnZ2VzdGlvbnMuZmlsdGVyKHMgPT4gcy5uYW1lICE9PSB0aGlzLm5hbWUpIDogW107XG4gICAgICAgIHJldHVybiBodG1sIGA8d3VpLWZsZXggZmxleERpcmVjdGlvbj1cImNvbHVtblwiIGdhcD1cInh4c1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgIDx3dWktZmxleFxuICAgICAgICBkYXRhLXRlc3RpZD1cImFjY291bnQtbmFtZS1zdWdnZXN0aW9uXCJcbiAgICAgICAgLnBhZGRpbmc9JHtbJ20nLCAnbScsICdtJywgJ20nXX1cbiAgICAgICAganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCJcbiAgICAgICAgY2xhc3M9XCJzdWdnZXN0aW9uXCJcbiAgICAgICAgQGNsaWNrPSR7dGhpcy5vblN1Ym1pdE5hbWUuYmluZCh0aGlzKX1cbiAgICAgID5cbiAgICAgICAgPHd1aS10ZXh0IGNvbG9yPVwiZmctMTAwXCIgdmFyaWFudD1cInBhcmFncmFwaC00MDBcIiBjbGFzcz1cInN1Z2dlc3RlZC1uYW1lXCI+XG4gICAgICAgICAgJHt0aGlzLm5hbWV9PC93dWktdGV4dFxuICAgICAgICA+JHt0aGlzLm5hbWVTdWdnZXN0aW9uVGFnVGVtcGxhdGUoKX1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAke3N1Z2dlc3Rpb25zLm1hcChzdWdnZXN0aW9uID0+IHRoaXMuYXZhaWxhYmxlTmFtZVRlbXBsYXRlKHN1Z2dlc3Rpb24ubmFtZSkpfVxuICAgIDwvd3VpLWZsZXg+YDtcbiAgICB9XG4gICAgYXZhaWxhYmxlTmFtZVRlbXBsYXRlKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYCA8d3VpLWZsZXhcbiAgICAgIGRhdGEtdGVzdGlkPVwiYWNjb3VudC1uYW1lLXN1Z2dlc3Rpb25cIlxuICAgICAgLnBhZGRpbmc9JHtbJ20nLCAnbScsICdtJywgJ20nXX1cbiAgICAgIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiXG4gICAgICBjbGFzcz1cInN1Z2dlc3Rpb25cIlxuICAgICAgQGNsaWNrPSR7dGhpcy5vblNlbGVjdFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbil9XG4gICAgPlxuICAgICAgPHd1aS10ZXh0IGNvbG9yPVwiZmctMTAwXCIgdmFyaWFudD1cInBhcmFncmFwaC00MDBcIiBjbGFzcz1cInN1Z2dlc3RlZC1uYW1lXCI+XG4gICAgICAgICR7c3VnZ2VzdGlvbn1cbiAgICAgIDwvd3VpLXRleHQ+XG4gICAgICA8d3VpLXRhZyB2YXJpYW50PVwic3VjY2Vzc1wiIHNpemU9XCJsZ1wiPkF2YWlsYWJsZTwvd3VpLXRhZz5cbiAgICA8L3d1aS1mbGV4PmA7XG4gICAgfVxuICAgIGlzQWxsb3dlZFRvU3VibWl0KCkge1xuICAgICAgICByZXR1cm4gKCF0aGlzLmxvYWRpbmcgJiZcbiAgICAgICAgICAgICF0aGlzLnJlZ2lzdGVyZWQgJiZcbiAgICAgICAgICAgICF0aGlzLmVycm9yICYmXG4gICAgICAgICAgICAhdGhpcy5wcm9maWxlTmFtZSAmJlxuICAgICAgICAgICAgRW5zQ29udHJvbGxlci52YWxpZGF0ZU5hbWUodGhpcy5uYW1lKSk7XG4gICAgfVxuICAgIGFzeW5jIG9uU3VibWl0TmFtZSgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW5OYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkVG9TdWJtaXQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuc05hbWUgPSBgJHt0aGlzLm5hbWV9JHtDb25zdGFudHNVdGlsLldDX05BTUVfU1VGRklYfWA7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1JFR0lTVEVSX05BTUVfSU5JVElBVEVEJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBBY2NvdW50Q29udHJvbGxlci5zdGF0ZS5wcmVmZXJyZWRBY2NvdW50VHlwZXM/LlthY3RpdmVDaGFpbk5hbWVzcGFjZV0gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlQsXG4gICAgICAgICAgICAgICAgICAgIGVuc05hbWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IEVuc0NvbnRyb2xsZXIucmVnaXN0ZXJOYW1lKGVuc05hbWUpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdSRUdJU1RFUl9OQU1FX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IEFjY291bnRDb250cm9sbGVyLnN0YXRlLnByZWZlcnJlZEFjY291bnRUeXBlcz8uW2FjdGl2ZUNoYWluTmFtZXNwYWNlXSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgICAgICAgICAgZW5zTmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnUkVHSVNURVJfTkFNRV9FUlJPUicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogQWNjb3VudENvbnRyb2xsZXIuc3RhdGUucHJlZmVycmVkQWNjb3VudFR5cGVzPy5bYWN0aXZlQ2hhaW5OYW1lc3BhY2VdID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgICAgICAgICBlbnNOYW1lOiBgJHt0aGlzLm5hbWV9JHtDb25zdGFudHNVdGlsLldDX05BTUVfU1VGRklYfWAsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkVudGVyS2V5KGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgJiYgdGhpcy5pc0FsbG93ZWRUb1N1Ym1pdCgpKSB7XG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0TmFtZSgpO1xuICAgICAgICB9XG4gICAgfVxufTtcblczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3LnN0eWxlcyA9IHN0eWxlcztcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3LnByb3RvdHlwZSwgXCJlcnJvck1lc3NhZ2VcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21SZWdpc3RlckFjY291bnROYW1lVmlldy5wcm90b3R5cGUsIFwiZXJyb3JcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3LnByb3RvdHlwZSwgXCJsb2FkaW5nXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21SZWdpc3RlckFjY291bnROYW1lVmlldy5wcm90b3R5cGUsIFwic3VnZ2VzdGlvbnNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3LnByb3RvdHlwZSwgXCJyZWdpc3RlcmVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21SZWdpc3RlckFjY291bnROYW1lVmlldy5wcm90b3R5cGUsIFwicHJvZmlsZU5hbWVcIiwgdm9pZCAwKTtcblczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3ID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndzNtLXJlZ2lzdGVyLWFjY291bnQtbmFtZS12aWV3Jylcbl0sIFczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3KTtcbmV4cG9ydCB7IFczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgLmNvbnRpbnVlLWJ1dHRvbi1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgTmF2aWdhdGlvblV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCwgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ0ByZW93bi9hcHBraXQtdWknO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1idXR0b24nO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1mbGV4JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktaWNvbic7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWljb24tYm94JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktbGluayc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXRleHQnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5sZXQgVzNtUmVnaXN0ZXJBY2NvdW50TmFtZVN1Y2Nlc3MgPSBjbGFzcyBXM21SZWdpc3RlckFjY291bnROYW1lU3VjY2VzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHd1aS1mbGV4XG4gICAgICAgIGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIlxuICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgZ2FwPVwieHhsXCJcbiAgICAgICAgLnBhZGRpbmc9JHtbJzAnLCAnMCcsICdsJywgJzAnXX1cbiAgICAgID5cbiAgICAgICAgJHt0aGlzLm9uYm9hcmRpbmdUZW1wbGF0ZSgpfSAke3RoaXMuYnV0dG9uc1RlbXBsYXRlKCl9XG4gICAgICAgIDx3dWktbGlua1xuICAgICAgICAgIEBjbGljaz0keygpID0+IHtcbiAgICAgICAgICAgIENvcmVIZWxwZXJVdGlsLm9wZW5IcmVmKE5hdmlnYXRpb25VdGlsLlVSTFMuRkFRLCAnX2JsYW5rJyk7XG4gICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBMZWFybiBtb3JlXG4gICAgICAgICAgPHd1aS1pY29uIGNvbG9yPVwiaW5oZXJpdFwiIHNsb3Q9XCJpY29uUmlnaHRcIiBuYW1lPVwiZXh0ZXJuYWxMaW5rXCI+PC93dWktaWNvbj5cbiAgICAgICAgPC93dWktbGluaz5cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgYDtcbiAgICB9XG4gICAgb25ib2FyZGluZ1RlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgIDx3dWktZmxleFxuICAgICAgZmxleERpcmVjdGlvbj1cImNvbHVtblwiXG4gICAgICBnYXA9XCJ4eGxcIlxuICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAucGFkZGluZz0ke1snMCcsICd4eGwnLCAnMCcsICd4eGwnXX1cbiAgICA+XG4gICAgICA8d3VpLWZsZXggZ2FwPVwic1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiPlxuICAgICAgICA8d3VpLWljb24tYm94XG4gICAgICAgICAgc2l6ZT1cInhsXCJcbiAgICAgICAgICBpY29uY29sb3I9XCJzdWNjZXNzLTEwMFwiXG4gICAgICAgICAgYmFja2dyb3VuZGNvbG9yPVwic3VjY2Vzcy0xMDBcIlxuICAgICAgICAgIGljb249XCJjaGVja21hcmtcIlxuICAgICAgICAgIGJhY2tncm91bmQ9XCJvcGFxdWVcIlxuICAgICAgICA+PC93dWktaWNvbi1ib3g+XG4gICAgICA8L3d1aS1mbGV4PlxuICAgICAgPHd1aS1mbGV4IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgZ2FwPVwic1wiPlxuICAgICAgICA8d3VpLXRleHQgYWxpZ249XCJjZW50ZXJcIiB2YXJpYW50PVwibWVkaXVtLTYwMFwiIGNvbG9yPVwiZmctMTAwXCI+XG4gICAgICAgICAgQWNjb3VudCBuYW1lIGNob3NlbiBzdWNjZXNzZnVsbHlcbiAgICAgICAgPC93dWktdGV4dD5cbiAgICAgICAgPHd1aS10ZXh0IGFsaWduPVwiY2VudGVyXCIgdmFyaWFudD1cInBhcmFncmFwaC00MDBcIiBjb2xvcj1cImZnLTEwMFwiPlxuICAgICAgICAgIFlvdSBjYW4gbm93IGZ1bmQgeW91ciBhY2NvdW50IGFuZCB0cmFkZSBjcnlwdG9cbiAgICAgICAgPC93dWktdGV4dD5cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgPC93dWktZmxleD5gO1xuICAgIH1cbiAgICBidXR0b25zVGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGA8d3VpLWZsZXhcbiAgICAgIC5wYWRkaW5nPSR7WycwJywgJzJsJywgJzAnLCAnMmwnXX1cbiAgICAgIGdhcD1cInNcIlxuICAgICAgY2xhc3M9XCJjb250aW51ZS1idXR0b24tY29udGFpbmVyXCJcbiAgICA+XG4gICAgICA8d3VpLWJ1dHRvbiBmdWxsV2lkdGggc2l6ZT1cImxnXCIgYm9yZGVyUmFkaXVzPVwieHNcIiBAY2xpY2s9JHt0aGlzLnJlZGlyZWN0VG9BY2NvdW50LmJpbmQodGhpcyl9XG4gICAgICAgID5MZXQncyBHbyFcbiAgICAgIDwvd3VpLWJ1dHRvbj5cbiAgICA8L3d1aS1mbGV4PmA7XG4gICAgfVxuICAgIHJlZGlyZWN0VG9BY2NvdW50KCkge1xuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ0FjY291bnQnKTtcbiAgICB9XG59O1xuVzNtUmVnaXN0ZXJBY2NvdW50TmFtZVN1Y2Nlc3Muc3R5bGVzID0gc3R5bGVzO1xuVzNtUmVnaXN0ZXJBY2NvdW50TmFtZVN1Y2Nlc3MgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3M20tcmVnaXN0ZXItYWNjb3VudC1uYW1lLXN1Y2Nlc3MtdmlldycpXG5dLCBXM21SZWdpc3RlckFjY291bnROYW1lU3VjY2Vzcyk7XG5leHBvcnQgeyBXM21SZWdpc3RlckFjY291bnROYW1lU3VjY2VzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbInN0eWxlcyQzIiwiY3NzIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiYyIsInIiLCJkIiwiaSIsIlBBR0VfSEVJR0hUIiwiUEFHRV9XSURUSCIsIkhFQURFUl9IRUlHSFQiLCJXM21BcHByb3ZlVHJhbnNhY3Rpb25WaWV3IiwiTGl0RWxlbWVudCIsIk1vZGFsQ29udHJvbGxlciIsImlzT3BlbiIsInZhbCIsInVuc3Vic2NyaWJlIiwiY29udGFpbmVyIiwiZW50cmllcyIsIndpZHRoIiwiaHRtbCIsImlzTW9iaWxlIiwiYXV0aENvbm5lY3RvciIsIkNvbm5lY3RvckNvbnRyb2xsZXIiLCJ0aGVtZU1vZGUiLCJUaGVtZUNvbnRyb2xsZXIiLCJ0aGVtZVZhcmlhYmxlcyIsImdldFczbVRoZW1lVmFyaWFibGVzIiwic3R5bGVzIiwic3RhdGUiLCJjdXN0b21FbGVtZW50IiwiVzNtVXBncmFkZVdhbGxldFZpZXciLCJDb25zdGFudHNVdGlsIiwic3R5bGVzJDIiLCJXdWlFbnNJbnB1dCIsImlmRGVmaW5lZCIsInJlc2V0U3R5bGVzIiwicHJvcGVydHkiLCJzdHlsZXMkMSIsIlczbVJlZ2lzdGVyQWNjb3VudE5hbWVWaWV3IiwiY3JlYXRlUmVmIiwiRW5zQ29udHJvbGxlciIsIkFjY291bnRDb250cm9sbGVyIiwiQ29yZUhlbHBlclV0aWwiLCJ2YWx1ZSIsInJlZ2lzdGVyZWQiLCJ1bnN1YiIsInJlZiIsIm5hbWUiLCJldmVudCIsInN1Z2dlc3Rpb25zIiwicyIsInN1Z2dlc3Rpb24iLCJhY3RpdmVDaGFpbk5hbWVzcGFjZSIsIkNoYWluQ29udHJvbGxlciIsImVuc05hbWUiLCJFdmVudHNDb250cm9sbGVyIiwiVzNtRnJhbWVScGNDb25zdGFudHMiLCJlcnJvciIsIlNuYWNrQ29udHJvbGxlciIsIlczbVJlZ2lzdGVyQWNjb3VudE5hbWVTdWNjZXNzIiwiTmF2aWdhdGlvblV0aWwiLCJSb3V0ZXJDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoic2hCQUNBLE1BQUFBLEVBQWVDO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBLEVDRGYsSUFBSUMsRUFBMEMsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsRUFBTSxDQUNuRixJQUFJQyxFQUFJLFVBQVUsT0FBUUMsRUFBSUQsRUFBSSxFQUFJSCxFQUFTRSxJQUFTLEtBQU9BLEVBQU8sT0FBTyx5QkFBeUJGLEVBQVFDLENBQUcsRUFBSUMsRUFBTUcsRUFDM0gsR0FBSSxPQUFPLFNBQVksVUFBWSxPQUFPLFFBQVEsVUFBYSxXQUFZRCxFQUFJLFFBQVEsU0FBU0wsRUFBWUMsRUFBUUMsRUFBS0MsQ0FBSSxNQUN4SCxTQUFTSSxFQUFJUCxFQUFXLE9BQVMsRUFBR08sR0FBSyxFQUFHQSxLQUFTRCxFQUFJTixFQUFXTyxDQUFDLEtBQUdGLEdBQUtELEVBQUksRUFBSUUsRUFBRUQsQ0FBQyxFQUFJRCxFQUFJLEVBQUlFLEVBQUVMLEVBQVFDLEVBQUtHLENBQUMsRUFBSUMsRUFBRUwsRUFBUUMsQ0FBRyxJQUFNRyxHQUNoSixPQUFPRCxFQUFJLEdBQUtDLEdBQUssT0FBTyxlQUFlSixFQUFRQyxFQUFLRyxDQUFDLEVBQUdBLENBQ2hFLEVBT0EsTUFBTUcsRUFBYyxJQUNkQyxFQUFhLElBQ2JDLEVBQWdCLEdBQ25CLElBQUNDLEVBQTRCLGNBQXdDQyxDQUFXLENBQy9FLGFBQWMsQ0FDVixNQUFPLEVBQ1AsS0FBSyxhQUFlLE9BQ3BCLEtBQUssWUFBYyxDQUFFLEVBQ3JCLEtBQUssT0FBUyxTQUFTLGVBQWUsWUFBWSxFQUNsRCxLQUFLLE1BQVEsR0FDYixLQUFLLFlBQVksS0FDYkMsRUFBZ0IsYUFBYSxPQUFRQyxHQUFVLENBQ3RDQSxHQUNELEtBQUssYUFBYyxDQUV2QyxDQUFhLEVBQ0RELEVBQWdCLGFBQWEsUUFBU0UsR0FBTyxDQUNyQ0EsRUFDQSxLQUFLLE9BQU8sTUFBTSxVQUFZLDhDQUc5QixLQUFLLE9BQU8sTUFBTSxVQUFZLE1BRXJDLENBQUEsQ0FDSixDQUNULENBQ0ksc0JBQXVCLENBQ25CLEtBQUssYUFBYyxFQUNuQixLQUFLLFlBQVksUUFBUUMsR0FBZUEsRUFBVyxDQUFFLEVBQ3JELEtBQUssY0FBYyxVQUFVLE9BQU8sU0FBUyxJQUFJLENBQ3pELENBQ0ksTUFBTSxjQUFlLENBQ2pCLE1BQU0sS0FBSyxVQUFXLEVBQ3RCLEtBQUssT0FBTyxNQUFNLFFBQVUsUUFDNUIsTUFBTUMsRUFBWSxNQUFNLFlBQVksY0FBYyxLQUFLLEVBQ3ZELEtBQUssYUFBZSxJQUFJLGVBQWVDLEdBQVcsQ0FFOUMsTUFBTUMsRUFEaUJELElBQVUsQ0FBQyxHQUFHLGlCQUNOLENBQUMsR0FBRyxXQUNuQyxLQUFLLE9BQU8sTUFBTSxPQUFTLEdBQUdWLENBQVcsS0FDekNTLEVBQVUsTUFBTSxPQUFTLEdBQUdULENBQVcsS0FDbkNXLEdBQVNBLEdBQVMsS0FDbEIsS0FBSyxPQUFPLE1BQU0sTUFBUSxPQUMxQixLQUFLLE9BQU8sTUFBTSxLQUFPLE1BQ3pCLEtBQUssT0FBTyxNQUFNLE9BQVMsTUFDM0IsS0FBSyxPQUFPLE1BQU0sSUFBTSxVQUd4QixLQUFLLE9BQU8sTUFBTSxNQUFRLEdBQUdWLENBQVUsS0FDdkMsS0FBSyxPQUFPLE1BQU0sS0FBTyxjQUFjQSxFQUFhLENBQUMsTUFDckQsS0FBSyxPQUFPLE1BQU0sSUFBTSxjQUFjRCxFQUFjLENBQUMsUUFBUUUsRUFBZ0IsQ0FBQyxNQUM5RSxLQUFLLE9BQU8sTUFBTSxPQUFTLFNBRS9CLEtBQUssTUFBUSxHQUNiLEtBQUssYUFBYyxDQUMvQixDQUFTLEVBQ0QsS0FBSyxhQUFhLFFBQVEsT0FBTyxTQUFTLElBQUksQ0FDdEQsQ0FDSSxRQUFTLENBQ0wsT0FBT1Usb0JBQXdCLEtBQUssS0FBSyxrQ0FDakQsQ0FDSSxjQUFlLENBQ1gsTUFBTUMsRUFBVyxPQUFPLFlBQWMsSUFDdEMsS0FBSyxPQUFPLE1BQU0sVUFBWUEsRUFDeEIsOERBQ0Esc0RBQ2QsQ0FDSSxjQUFlLENBQ1gsS0FBSyxPQUFPLE1BQU0sUUFBVSxPQUM1QixLQUFLLE9BQU8sTUFBTSxVQUFZLHVEQUN0QyxDQUNJLE1BQU0sV0FBWSxDQUNkLE1BQU1DLEVBQWdCQyxFQUFvQixpQkFBa0IsRUFDNUQsR0FBSUQsRUFBZSxDQUNmLE1BQU1FLEVBQVlDLEVBQWdCLFlBQVcsRUFBRyxVQUMxQ0MsRUFBaUJELEVBQWdCLFlBQVcsRUFBRyxlQUNyRCxNQUFNSCxFQUFjLFNBQVMsVUFBVSxDQUNuQyxlQUFBSSxFQUNBLGtCQUFtQkMsRUFBcUJELEVBQWdCRixDQUFTLENBQ2pGLENBQWEsQ0FDYixDQUNBLENBQ0EsRUFDQWIsRUFBMEIsT0FBU2lCLEVBQ25DN0IsRUFBVyxDQUNQOEIsRUFBSyxDQUNULEVBQUdsQixFQUEwQixVQUFXLFFBQVMsTUFBTSxFQUN2REEsRUFBNEJaLEVBQVcsQ0FDbkMrQixFQUFjLDhCQUE4QixDQUNoRCxFQUFHbkIsQ0FBeUIsRUNwRzVCLElBQUlaLEVBQTBDLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEVBQU0sQ0FDbkYsSUFBSUMsRUFBSSxVQUFVLE9BQVFDLEVBQUlELEVBQUksRUFBSUgsRUFBU0UsSUFBUyxLQUFPQSxFQUFPLE9BQU8seUJBQXlCRixFQUFRQyxDQUFHLEVBQUlDLEVBQU1HLEVBQzNILEdBQUksT0FBTyxTQUFZLFVBQVksT0FBTyxRQUFRLFVBQWEsV0FBWUQsRUFBSSxRQUFRLFNBQVNMLEVBQVlDLEVBQVFDLEVBQUtDLENBQUksTUFDeEgsU0FBU0ksRUFBSVAsRUFBVyxPQUFTLEVBQUdPLEdBQUssRUFBR0EsS0FBU0QsRUFBSU4sRUFBV08sQ0FBQyxLQUFHRixHQUFLRCxFQUFJLEVBQUlFLEVBQUVELENBQUMsRUFBSUQsRUFBSSxFQUFJRSxFQUFFTCxFQUFRQyxFQUFLRyxDQUFDLEVBQUlDLEVBQUVMLEVBQVFDLENBQUcsSUFBTUcsR0FDaEosT0FBT0QsRUFBSSxHQUFLQyxHQUFLLE9BQU8sZUFBZUosRUFBUUMsRUFBS0csQ0FBQyxFQUFHQSxDQUNoRSxFQU9HLElBQUMwQixFQUF1QixjQUFtQ25CLENBQVcsQ0FDckUsUUFBUyxDQUNMLE9BQU9RO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBLGlCQU1FWSxFQUFjLHFCQUFxQjtBQUFBLHFCQUMvQkEsRUFBYyxtQkFBbUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBU3RELENBQ0EsRUFDQUQsRUFBdUJoQyxFQUFXLENBQzlCK0IsRUFBYyx5QkFBeUIsQ0FDM0MsRUFBR0MsQ0FBb0IsRUNqQ3ZCLE1BQUFFLEVBQWVuQztBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxFQ0RmLElBQUlDLEVBQTBDLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEVBQU0sQ0FDbkYsSUFBSUMsRUFBSSxVQUFVLE9BQVFDLEVBQUlELEVBQUksRUFBSUgsRUFBU0UsSUFBUyxLQUFPQSxFQUFPLE9BQU8seUJBQXlCRixFQUFRQyxDQUFHLEVBQUlDLEVBQU1HLEVBQzNILEdBQUksT0FBTyxTQUFZLFVBQVksT0FBTyxRQUFRLFVBQWEsV0FBWUQsRUFBSSxRQUFRLFNBQVNMLEVBQVlDLEVBQVFDLEVBQUtDLENBQUksTUFDeEgsU0FBU0ksRUFBSVAsRUFBVyxPQUFTLEVBQUdPLEdBQUssRUFBR0EsS0FBU0QsRUFBSU4sRUFBV08sQ0FBQyxLQUFHRixHQUFLRCxFQUFJLEVBQUlFLEVBQUVELENBQUMsRUFBSUQsRUFBSSxFQUFJRSxFQUFFTCxFQUFRQyxFQUFLRyxDQUFDLEVBQUlDLEVBQUVMLEVBQVFDLENBQUcsSUFBTUcsR0FDaEosT0FBT0QsRUFBSSxHQUFLQyxHQUFLLE9BQU8sZUFBZUosRUFBUUMsRUFBS0csQ0FBQyxFQUFHQSxDQUNoRSxFQVdBLElBQUk2QixFQUFjLGNBQTBCdEIsQ0FBVyxDQUNuRCxhQUFjLENBQ1YsTUFBTSxHQUFHLFNBQVMsRUFDbEIsS0FBSyxTQUFXLEdBQ2hCLEtBQUssUUFBVSxFQUN2QixDQUNJLFFBQVMsQ0FDTCxPQUFPUTtBQUFBQTtBQUFBQSxnQkFFQ2UsRUFBVSxLQUFLLEtBQUssQ0FBQztBQUFBLG9CQUNqQixLQUFLLFFBQVE7QUFBQSxpQkFDaEIsS0FBSyxPQUFTLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQUl2QixLQUFLLGlCQUFnQixDQUFFLElBQUksS0FBSyxjQUFlLENBQUEsR0FBRyxLQUFLLGdCQUFpQixDQUFBO0FBQUE7QUFBQSxLQUdsRixDQUNJLGtCQUFtQixDQUNmLE9BQU9mO0FBQUFBLFFBQ1BZLEVBQWMsY0FBYztBQUFBLGdCQUVwQyxDQUNJLGlCQUFrQixDQUNkLE9BQU8sS0FBSyxRQUNOWiw0RUFDQSxJQUNkLENBQ0ksZUFBZ0IsQ0FDWixPQUFJLEtBQUssYUFDRUE7QUFBQUEsV0FDUixLQUFLLFlBQVk7QUFBQSxTQUdiLElBQ2YsQ0FDQSxFQUNBYyxFQUFZLE9BQVMsQ0FBQ0UsRUFBYVIsQ0FBTSxFQUN6QzdCLEVBQVcsQ0FDUHNDLEVBQVEsQ0FDWixFQUFHSCxFQUFZLFVBQVcsZUFBZ0IsTUFBTSxFQUNoRG5DLEVBQVcsQ0FDUHNDLEVBQVMsQ0FBRSxLQUFNLE9BQVMsQ0FBQSxDQUM5QixFQUFHSCxFQUFZLFVBQVcsV0FBWSxNQUFNLEVBQzVDbkMsRUFBVyxDQUNQc0MsRUFBUSxDQUNaLEVBQUdILEVBQVksVUFBVyxRQUFTLE1BQU0sRUFDekNuQyxFQUFXLENBQ1BzQyxFQUFTLENBQUUsS0FBTSxPQUFTLENBQUEsQ0FDOUIsRUFBR0gsRUFBWSxVQUFXLFVBQVcsTUFBTSxFQUMzQ0EsRUFBY25DLEVBQVcsQ0FDckIrQixFQUFjLGVBQWUsQ0FDakMsRUFBR0ksQ0FBVyxFQ3BFZCxNQUFBSSxFQUFleEM7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEsRUNEZixJQUFJQyxFQUEwQyxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxFQUFNLENBQ25GLElBQUlDLEVBQUksVUFBVSxPQUFRQyxFQUFJRCxFQUFJLEVBQUlILEVBQVNFLElBQVMsS0FBT0EsRUFBTyxPQUFPLHlCQUF5QkYsRUFBUUMsQ0FBRyxFQUFJQyxFQUFNRyxFQUMzSCxHQUFJLE9BQU8sU0FBWSxVQUFZLE9BQU8sUUFBUSxVQUFhLFdBQVlELEVBQUksUUFBUSxTQUFTTCxFQUFZQyxFQUFRQyxFQUFLQyxDQUFJLE1BQ3hILFNBQVNJLEVBQUlQLEVBQVcsT0FBUyxFQUFHTyxHQUFLLEVBQUdBLEtBQVNELEVBQUlOLEVBQVdPLENBQUMsS0FBR0YsR0FBS0QsRUFBSSxFQUFJRSxFQUFFRCxDQUFDLEVBQUlELEVBQUksRUFBSUUsRUFBRUwsRUFBUUMsRUFBS0csQ0FBQyxFQUFJQyxFQUFFTCxFQUFRQyxDQUFHLElBQU1HLEdBQ2hKLE9BQU9ELEVBQUksR0FBS0MsR0FBSyxPQUFPLGVBQWVKLEVBQVFDLEVBQUtHLENBQUMsRUFBR0EsQ0FDaEUsRUFnQkcsSUFBQ2tDLEVBQTZCLGNBQXlDM0IsQ0FBVyxDQUNqRixhQUFjLENBQ1YsTUFBTyxFQUNQLEtBQUssUUFBVTRCLEVBQVcsRUFDMUIsS0FBSyxXQUFhLENBQUUsRUFDcEIsS0FBSyxLQUFPLEdBQ1osS0FBSyxNQUFRLEdBQ2IsS0FBSyxRQUFVQyxFQUFjLE1BQU0sUUFDbkMsS0FBSyxZQUFjQSxFQUFjLE1BQU0sWUFDdkMsS0FBSyxXQUFhLEdBQ2xCLEtBQUssWUFBY0MsRUFBa0IsTUFBTSxZQUMzQyxLQUFLLDJCQUE2QkMsRUFBZSxTQUFVQyxHQUFVLENBQzdESCxFQUFjLGFBQWFHLENBQUssR0FDaEMsS0FBSyxNQUFRLEdBQ2IsS0FBSyxLQUFPQSxFQUNaSCxFQUFjLGVBQWVHLENBQUssRUFDbENILEVBQWMsaUJBQWlCRyxDQUFLLEVBQUUsS0FBS0MsR0FBYyxDQUNyRCxLQUFLLFdBQWFBLENBQ3RDLENBQWlCLEdBRUlELEVBQU0sT0FBUyxFQUNwQixLQUFLLE1BQVEsMENBR2IsS0FBSyxNQUFRLG9EQUU3QixDQUFTLEVBQ0QsS0FBSyxXQUFXLEtBQ1pILEVBQWMsVUFBVTFCLEdBQU8sQ0FDM0IsS0FBSyxZQUFjQSxFQUFJLFlBQ3ZCLEtBQUssUUFBVUEsRUFBSSxPQUNuQyxDQUFhLEVBQ0QyQixFQUFrQixhQUFhLGNBQWUzQixHQUFPLENBQ2pELEtBQUssWUFBY0EsRUFDZkEsSUFDQSxLQUFLLE1BQVEseUJBRXBCLENBQUEsQ0FDSixDQUNULENBQ0ksY0FBZSxDQUNYLEtBQUssUUFBUSxPQUFPLGlCQUFpQixVQUFXLEtBQUssV0FBVyxLQUFLLElBQUksQ0FBQyxDQUNsRixDQUNJLHNCQUF1QixDQUNuQixNQUFNLHFCQUFzQixFQUM1QixLQUFLLFdBQVcsUUFBUStCLEdBQVNBLEVBQUssQ0FBRSxFQUN4QyxLQUFLLFFBQVEsT0FBTyxvQkFBb0IsVUFBVyxLQUFLLFdBQVcsS0FBSyxJQUFJLENBQUMsQ0FDckYsQ0FDSSxRQUFTLENBQ0wsT0FBTzFCO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBLG1CQUtJLENBQUMsSUFBSyxJQUFLLElBQUssR0FBRyxDQUFDO0FBQUE7QUFBQSxnQkFFdkIyQixFQUFJLEtBQUssT0FBTyxDQUFDLFlBQVksS0FBSyxhQUFhLEtBQUssSUFBSSxDQUFDO0FBQUE7QUFBQSwyQkFFOUMsS0FBSyxrQkFBa0IsS0FBSyxJQUFJLENBQUM7QUFBQSw0QkFDaEMsS0FBSyxLQUFLO0FBQUEscUJBQ2pCLEtBQUssSUFBSTtBQUFBO0FBQUE7QUFBQSxZQUdsQixLQUFLLHFCQUFzQixDQUFBO0FBQUE7QUFBQTtBQUFBLFVBRzdCLEtBQUssb0JBQXFCLENBQUE7QUFBQTtBQUFBLEtBR3BDLENBQ0ksc0JBQXVCLENBRW5CLE9BRG1CLEtBQUssa0JBQW1CLEVBRXJDM0I7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEscUJBS08sS0FBSyxhQUFhLEtBQUssSUFBSSxDQUFDO0FBQUE7QUFBQTtBQUFBLFVBSW5DLElBQ2QsQ0FDSSxtQkFBbUI0QixFQUFNLENBQ3JCLE1BQU8sSUFBTSxDQUNULEtBQUssS0FBT0EsRUFDWixLQUFLLFdBQWEsR0FDbEIsS0FBSyxjQUFlLENBQ3ZCLENBQ1QsQ0FDSSxrQkFBa0JDLEVBQU8sQ0FDckIsS0FBSywyQkFBMkJBLEVBQU0sTUFBTSxDQUNwRCxDQUNJLDJCQUE0QixDQUN4QixPQUFJLEtBQUssUUFDRTdCLHdFQUVKLEtBQUssV0FDTkEsMkRBQ0FBLDJEQUNkLENBQ0kscUJBQXNCLENBQ2xCLEdBQUksQ0FBQyxLQUFLLE1BQVEsS0FBSyxLQUFLLE9BQVMsR0FBSyxLQUFLLE1BQzNDLE9BQU8sS0FFWCxNQUFNOEIsRUFBYyxLQUFLLFdBQWEsS0FBSyxZQUFZLE9BQU9DLEdBQUtBLEVBQUUsT0FBUyxLQUFLLElBQUksRUFBSSxDQUFFLEVBQzdGLE9BQU8vQjtBQUFBQTtBQUFBQTtBQUFBQSxtQkFHSSxDQUFDLElBQUssSUFBSyxJQUFLLEdBQUcsQ0FBQztBQUFBO0FBQUE7QUFBQSxpQkFHdEIsS0FBSyxhQUFhLEtBQUssSUFBSSxDQUFDO0FBQUE7QUFBQTtBQUFBLFlBR2pDLEtBQUssSUFBSTtBQUFBLFdBQ1YsS0FBSywwQkFBMkIsQ0FBQTtBQUFBO0FBQUEsUUFFbkM4QixFQUFZLElBQUlFLEdBQWMsS0FBSyxzQkFBc0JBLEVBQVcsSUFBSSxDQUFDLENBQUM7QUFBQSxnQkFFbEYsQ0FDSSxzQkFBc0JBLEVBQVksQ0FDOUIsT0FBT2hDO0FBQUFBO0FBQUFBLGlCQUVFLENBQUMsSUFBSyxJQUFLLElBQUssR0FBRyxDQUFDO0FBQUE7QUFBQTtBQUFBLGVBR3RCLEtBQUssbUJBQW1CZ0MsQ0FBVSxDQUFDO0FBQUE7QUFBQTtBQUFBLFVBR3hDQSxDQUFVO0FBQUE7QUFBQTtBQUFBLGdCQUlwQixDQUNJLG1CQUFvQixDQUNoQixNQUFRLENBQUMsS0FBSyxTQUNWLENBQUMsS0FBSyxZQUNOLENBQUMsS0FBSyxPQUNOLENBQUMsS0FBSyxhQUNOWCxFQUFjLGFBQWEsS0FBSyxJQUFJLENBQ2hELENBQ0ksTUFBTSxjQUFlLENBQ2pCLE1BQU1ZLEVBQXVCQyxFQUFnQixNQUFNLFlBQ25ELEdBQUksQ0FDQSxHQUFJLENBQUMsS0FBSyxvQkFDTixPQUVKLE1BQU1DLEVBQVUsR0FBRyxLQUFLLElBQUksR0FBR3ZCLEVBQWMsY0FBYyxHQUMzRHdCLEVBQWlCLFVBQVUsQ0FDdkIsS0FBTSxRQUNOLE1BQU8sMEJBQ1AsV0FBWSxDQUNSLGVBQWdCZCxFQUFrQixNQUFNLHdCQUF3QlcsQ0FBb0IsSUFDaEZJLEVBQXFCLGNBQWMsY0FDdkMsUUFBQUYsQ0FDcEIsQ0FDQSxDQUFhLEVBQ0QsTUFBTWQsRUFBYyxhQUFhYyxDQUFPLEVBQ3hDQyxFQUFpQixVQUFVLENBQ3ZCLEtBQU0sUUFDTixNQUFPLHdCQUNQLFdBQVksQ0FDUixlQUFnQmQsRUFBa0IsTUFBTSx3QkFBd0JXLENBQW9CLElBQ2hGSSxFQUFxQixjQUFjLGNBQ3ZDLFFBQUFGLENBQ3BCLENBQ0EsQ0FBYSxDQUNiLE9BQ2VHLEVBQU8sQ0FDVkMsRUFBZ0IsVUFBVUQsRUFBTSxPQUFPLEVBQ3ZDRixFQUFpQixVQUFVLENBQ3ZCLEtBQU0sUUFDTixNQUFPLHNCQUNQLFdBQVksQ0FDUixlQUFnQmQsRUFBa0IsTUFBTSx3QkFBd0JXLENBQW9CLElBQ2hGSSxFQUFxQixjQUFjLGNBQ3ZDLFFBQVMsR0FBRyxLQUFLLElBQUksR0FBR3pCLEVBQWMsY0FBYyxHQUNwRCxNQUFPMEIsR0FBTyxTQUFXLGVBQzdDLENBQ0EsQ0FBYSxDQUNiLENBQ0EsQ0FDSSxXQUFXVCxFQUFPLENBQ1ZBLEVBQU0sTUFBUSxTQUFXLEtBQUssa0JBQWlCLEdBQy9DLEtBQUssYUFBYyxDQUUvQixDQUNBLEVBQ0FWLEVBQTJCLE9BQVNYLEVBQ3BDN0IsRUFBVyxDQUNQc0MsRUFBUSxDQUNaLEVBQUdFLEVBQTJCLFVBQVcsZUFBZ0IsTUFBTSxFQUMvRHhDLEVBQVcsQ0FDUDhCLEVBQUssQ0FDVCxFQUFHVSxFQUEyQixVQUFXLE9BQVEsTUFBTSxFQUN2RHhDLEVBQVcsQ0FDUDhCLEVBQUssQ0FDVCxFQUFHVSxFQUEyQixVQUFXLFFBQVMsTUFBTSxFQUN4RHhDLEVBQVcsQ0FDUDhCLEVBQUssQ0FDVCxFQUFHVSxFQUEyQixVQUFXLFVBQVcsTUFBTSxFQUMxRHhDLEVBQVcsQ0FDUDhCLEVBQUssQ0FDVCxFQUFHVSxFQUEyQixVQUFXLGNBQWUsTUFBTSxFQUM5RHhDLEVBQVcsQ0FDUDhCLEVBQUssQ0FDVCxFQUFHVSxFQUEyQixVQUFXLGFBQWMsTUFBTSxFQUM3RHhDLEVBQVcsQ0FDUDhCLEVBQUssQ0FDVCxFQUFHVSxFQUEyQixVQUFXLGNBQWUsTUFBTSxFQUM5REEsRUFBNkJ4QyxFQUFXLENBQ3BDK0IsRUFBYyxnQ0FBZ0MsQ0FDbEQsRUFBR1MsQ0FBMEIsRUMxTzdCLE1BQUFYLEVBQWU5QjtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxFQ0RmLElBQUlDLEVBQTBDLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEVBQU0sQ0FDbkYsSUFBSUMsRUFBSSxVQUFVLE9BQVFDLEVBQUlELEVBQUksRUFBSUgsRUFBU0UsSUFBUyxLQUFPQSxFQUFPLE9BQU8seUJBQXlCRixFQUFRQyxDQUFHLEVBQUlDLEVBQU1HLEVBQzNILEdBQUksT0FBTyxTQUFZLFVBQVksT0FBTyxRQUFRLFVBQWEsV0FBWUQsRUFBSSxRQUFRLFNBQVNMLEVBQVlDLEVBQVFDLEVBQUtDLENBQUksTUFDeEgsU0FBU0ksRUFBSVAsRUFBVyxPQUFTLEVBQUdPLEdBQUssRUFBR0EsS0FBU0QsRUFBSU4sRUFBV08sQ0FBQyxLQUFHRixHQUFLRCxFQUFJLEVBQUlFLEVBQUVELENBQUMsRUFBSUQsRUFBSSxFQUFJRSxFQUFFTCxFQUFRQyxFQUFLRyxDQUFDLEVBQUlDLEVBQUVMLEVBQVFDLENBQUcsSUFBTUcsR0FDaEosT0FBT0QsRUFBSSxHQUFLQyxHQUFLLE9BQU8sZUFBZUosRUFBUUMsRUFBS0csQ0FBQyxFQUFHQSxDQUNoRSxFQVlHLElBQUN1RCxFQUFnQyxjQUE0Q2hELENBQVcsQ0FDdkYsUUFBUyxDQUNMLE9BQU9RO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBLG1CQUtJLENBQUMsSUFBSyxJQUFLLElBQUssR0FBRyxDQUFDO0FBQUE7QUFBQSxVQUU3QixLQUFLLG1CQUFrQixDQUFFLElBQUksS0FBSyxnQkFBaUIsQ0FBQTtBQUFBO0FBQUEsbUJBRTFDLElBQU0sQ0FDYnVCLEVBQWUsU0FBU2tCLEVBQWUsS0FBSyxJQUFLLFFBQVEsQ0FDNUQsQ0FBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQU9ULENBQ0ksb0JBQXFCLENBQ2pCLE9BQU96QztBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxpQkFJRSxDQUFDLElBQUssTUFBTyxJQUFLLEtBQUssQ0FBQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQW9CekMsQ0FDSSxpQkFBa0IsQ0FDZCxPQUFPQTtBQUFBQSxpQkFDRSxDQUFDLElBQUssS0FBTSxJQUFLLElBQUksQ0FBQztBQUFBO0FBQUE7QUFBQTtBQUFBLGlFQUkwQixLQUFLLGtCQUFrQixLQUFLLElBQUksQ0FBQztBQUFBO0FBQUE7QUFBQSxnQkFJbEcsQ0FDSSxtQkFBb0IsQ0FDaEIwQyxFQUFpQixRQUFRLFNBQVMsQ0FDMUMsQ0FDQSxFQUNBRixFQUE4QixPQUFTaEMsRUFDdkNnQyxFQUFnQzdELEVBQVcsQ0FDdkMrQixFQUFjLHdDQUF3QyxDQUMxRCxFQUFHOEIsQ0FBNkIiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDhdfQ==
