import{A as d,e as w,f as _,R as f,C as v,S as m,d as c,p as E,c as $,i as y,r as b,a as x,x as h,h as R}from"./index-C4QAg8YX.js";import{n as u,c as C,o as O}from"./if-defined-BYYrXBY0.js";function T(){try{return c.returnOpenHref(`${$.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes")}catch{throw new Error("Could not open social popup")}}async function U(){f.push("ConnectingFarcaster");const e=v.getAuthConnector();if(e&&!d.state.farcasterUrl)try{const{url:t}=await e.provider.getFarcasterUri();d.setFarcasterUrl(t,w.state.activeChain)}catch(t){f.goBack(),m.showError(t)}}async function j(e){f.push("ConnectingSocial");const t=v.getAuthConnector();let o=null;try{const i=setTimeout(()=>{throw new Error("Social login timed out. Please try again.")},45e3);if(t&&e){if(c.isTelegram()||(o=T()),o)d.setSocialWindow(o,w.state.activeChain);else if(!c.isTelegram())throw new Error("Could not create social popup");const{uri:n}=await t.provider.getSocialRedirectUri({provider:e});if(!n)throw o?.close(),new Error("Could not fetch the social redirect uri");if(o&&(o.location.href=n),c.isTelegram()){E.setTelegramSocialProvider(e);const r=c.formatTelegramSocialLoginUrl(n);c.openHref(r,"_top")}clearTimeout(i)}}catch(i){o?.close(),m.showError(i?.message)}}async function P(e){d.setSocialProvider(e,w.state.activeChain),_.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"?await U():await j(e)}const L=y`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var S=function(e,t,o,i){var n=arguments.length,r=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,o):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,o,r):a(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};let g=class extends x{constructor(){super(...arguments),this.logo="google"}render(){return h`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};g.styles=[b,L];S([u()],g.prototype,"logo",void 0);g=S([C("wui-logo")],g);const W=y`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    justify-content: flex-start;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-text[data-align='left'] {
    display: flex;
    flex: 1;
  }

  wui-text[data-align='center'] {
    display: flex;
    flex: 1;
    justify-content: center;
  }

  .invisible {
    opacity: 0;
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var p=function(e,t,o,i){var n=arguments.length,r=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,o):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,o,r):a(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};let l=class extends x{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.align="left",this.disabled=!1}render(){return h`
      <button ?disabled=${this.disabled} tabindex=${O(this.tabIdx)}>
        <wui-logo logo=${this.logo}></wui-logo>
        <wui-text
          data-align=${this.align}
          variant="paragraph-500"
          color="inherit"
          align=${this.align}
          >${this.name}</wui-text
        >
        ${this.templatePlacement()}
      </button>
    `}templatePlacement(){return this.align==="center"?h` <wui-logo class="invisible" logo=${this.logo}></wui-logo>`:null}};l.styles=[b,R,W];p([u()],l.prototype,"logo",void 0);p([u()],l.prototype,"name",void 0);p([u()],l.prototype,"align",void 0);p([u()],l.prototype,"tabIdx",void 0);p([u({type:Boolean})],l.prototype,"disabled",void 0);l=p([C("wui-list-social")],l);export{P as e};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtRG1OOHA2Wm8uanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Tb2NpYWxzVXRpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy9jb21wb3NpdGVzL3d1aS1sb2dvL3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy9jb21wb3NpdGVzL3d1aS1sb2dvL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtdWkvZGlzdC9lc20vc3JjL2NvbXBvc2l0ZXMvd3VpLWxpc3Qtc29jaWFsL3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXVpL2Rpc3QvZXNtL3NyYy9jb21wb3NpdGVzL3d1aS1saXN0LXNvY2lhbC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQWNjb3VudENvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9BY2NvdW50Q29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvU25hY2tDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4vU3RvcmFnZVV0aWwuanMnO1xuZnVuY3Rpb24gZ2V0UG9wdXBXaW5kb3coKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIENvcmVIZWxwZXJVdGlsLnJldHVybk9wZW5IcmVmKGAke0NvbnN0YW50c1V0aWwuU0VDVVJFX1NJVEVfU0RLX09SSUdJTn0vbG9hZGluZ2AsICdwb3B1cFdpbmRvdycsICd3aWR0aD02MDAsaGVpZ2h0PTgwMCxzY3JvbGxiYXJzPXllcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3Qgb3BlbiBzb2NpYWwgcG9wdXAnKTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdEZhcmNhc3RlcigpIHtcbiAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ0Nvbm5lY3RpbmdGYXJjYXN0ZXInKTtcbiAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgaWYgKGF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgaWYgKCFBY2NvdW50Q29udHJvbGxlci5zdGF0ZS5mYXJjYXN0ZXJVcmwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB1cmwgfSA9IGF3YWl0IGF1dGhDb25uZWN0b3IucHJvdmlkZXIuZ2V0RmFyY2FzdGVyVXJpKCk7XG4gICAgICAgICAgICAgICAgQWNjb3VudENvbnRyb2xsZXIuc2V0RmFyY2FzdGVyVXJsKHVybCwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFNvY2lhbChzb2NpYWxQcm92aWRlcikge1xuICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdGluZ1NvY2lhbCcpO1xuICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICBsZXQgcG9wdXBXaW5kb3cgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU29jaWFsIGxvZ2luIHRpbWVkIG91dC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgfSwgNDVfMDAwKTtcbiAgICAgICAgaWYgKGF1dGhDb25uZWN0b3IgJiYgc29jaWFsUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGlmICghQ29yZUhlbHBlclV0aWwuaXNUZWxlZ3JhbSgpKSB7XG4gICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cgPSBnZXRQb3B1cFdpbmRvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcHVwV2luZG93KSB7XG4gICAgICAgICAgICAgICAgQWNjb3VudENvbnRyb2xsZXIuc2V0U29jaWFsV2luZG93KHBvcHVwV2luZG93LCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIUNvcmVIZWxwZXJVdGlsLmlzVGVsZWdyYW0oKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGNyZWF0ZSBzb2NpYWwgcG9wdXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdXJpIH0gPSBhd2FpdCBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLmdldFNvY2lhbFJlZGlyZWN0VXJpKHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogc29jaWFsUHJvdmlkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCF1cmkpIHtcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdz8uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmZXRjaCB0aGUgc29jaWFsIHJlZGlyZWN0IHVyaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcHVwV2luZG93KSB7XG4gICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cubG9jYXRpb24uaHJlZiA9IHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc1RlbGVncmFtKCkpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRUZWxlZ3JhbVNvY2lhbFByb3ZpZGVyKHNvY2lhbFByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRVcmkgPSBDb3JlSGVscGVyVXRpbC5mb3JtYXRUZWxlZ3JhbVNvY2lhbExvZ2luVXJsKHVyaSk7XG4gICAgICAgICAgICAgICAgQ29yZUhlbHBlclV0aWwub3BlbkhyZWYocGFyc2VkVXJpLCAnX3RvcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBwb3B1cFdpbmRvdz8uY2xvc2UoKTtcbiAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcihlcnJvcj8ubWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVTb2NpYWxMb2dpbihzb2NpYWxQcm92aWRlcikge1xuICAgIEFjY291bnRDb250cm9sbGVyLnNldFNvY2lhbFByb3ZpZGVyKHNvY2lhbFByb3ZpZGVyLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgZXZlbnQ6ICdTT0NJQUxfTE9HSU5fU1RBUlRFRCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHsgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyIH1cbiAgICB9KTtcbiAgICBpZiAoc29jaWFsUHJvdmlkZXIgPT09ICdmYXJjYXN0ZXInKSB7XG4gICAgICAgIGF3YWl0IGNvbm5lY3RGYXJjYXN0ZXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGF3YWl0IGNvbm5lY3RTb2NpYWwoc29jaWFsUHJvdmlkZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvY2lhbHNVdGlsLmpzLm1hcCIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBjc3MgYFxuICA6aG9zdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHdpZHRoOiA0MHB4O1xuICAgIGhlaWdodDogNDBweDtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS13dWktYm9yZGVyLXJhZGl1cy0zeGwpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwNSk7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIHd1aS1pY29uIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy93dWktaWNvbi9pbmRleC5qcyc7XG5pbXBvcnQgeyByZXNldFN0eWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzL1RoZW1lVXRpbC5qcyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvV2ViQ29tcG9uZW50c1V0aWwuanMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5sZXQgV3VpTG9nbyA9IGNsYXNzIFd1aUxvZ28gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5sb2dvID0gJ2dvb2dsZSc7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaWNvbiBjb2xvcj1cImluaGVyaXRcIiBzaXplPVwiaW5oZXJpdFwiIG5hbWU9JHt0aGlzLmxvZ299Pjwvd3VpLWljb24+IGA7XG4gICAgfVxufTtcbld1aUxvZ28uc3R5bGVzID0gW3Jlc2V0U3R5bGVzLCBzdHlsZXNdO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgV3VpTG9nby5wcm90b3R5cGUsIFwibG9nb1wiLCB2b2lkIDApO1xuV3VpTG9nbyA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3d1aS1sb2dvJylcbl0sIFd1aUxvZ28pO1xuZXhwb3J0IHsgV3VpTG9nbyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIGJ1dHRvbiB7XG4gICAgY29sdW1uLWdhcDogdmFyKC0td3VpLXNwYWNpbmctcyk7XG4gICAgcGFkZGluZzogN3B4IHZhcigtLXd1aS1zcGFjaW5nLWwpIDdweCB2YXIoLS13dWktc3BhY2luZy14cyk7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwMik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0td3VpLWJvcmRlci1yYWRpdXMteHMpO1xuICAgIGNvbG9yOiB2YXIoLS13dWktY29sb3ItZmctMTAwKTtcbiAgfVxuXG4gIHd1aS10ZXh0IHtcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgfVxuXG4gIHd1aS10ZXh0W2RhdGEtYWxpZ249J2xlZnQnXSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4OiAxO1xuICB9XG5cbiAgd3VpLXRleHRbZGF0YS1hbGlnbj0nY2VudGVyJ10ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleDogMTtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIC5pbnZpc2libGUge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cblxuICBidXR0b246ZGlzYWJsZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAxNSk7XG4gICAgY29sb3I6IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAxNSk7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0ICcuLi8uLi9jb21wb25lbnRzL3d1aS10ZXh0L2luZGV4LmpzJztcbmltcG9ydCB7IGVsZW1lbnRTdHlsZXMsIHJlc2V0U3R5bGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGhlbWVVdGlsLmpzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscy9XZWJDb21wb25lbnRzVXRpbC5qcyc7XG5pbXBvcnQgJy4uL3d1aS1sb2dvL2luZGV4LmpzJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xubGV0IFd1aUxpc3RTb2NpYWwgPSBjbGFzcyBXdWlMaXN0U29jaWFsIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubG9nbyA9ICdnb29nbGUnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ29udGludWUgd2l0aCBnb29nbGUnO1xuICAgICAgICB0aGlzLmFsaWduID0gJ2xlZnQnO1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPGJ1dHRvbiA/ZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfSB0YWJpbmRleD0ke2lmRGVmaW5lZCh0aGlzLnRhYklkeCl9PlxuICAgICAgICA8d3VpLWxvZ28gbG9nbz0ke3RoaXMubG9nb30+PC93dWktbG9nbz5cbiAgICAgICAgPHd1aS10ZXh0XG4gICAgICAgICAgZGF0YS1hbGlnbj0ke3RoaXMuYWxpZ259XG4gICAgICAgICAgdmFyaWFudD1cInBhcmFncmFwaC01MDBcIlxuICAgICAgICAgIGNvbG9yPVwiaW5oZXJpdFwiXG4gICAgICAgICAgYWxpZ249JHt0aGlzLmFsaWdufVxuICAgICAgICAgID4ke3RoaXMubmFtZX08L3d1aS10ZXh0XG4gICAgICAgID5cbiAgICAgICAgJHt0aGlzLnRlbXBsYXRlUGxhY2VtZW50KCl9XG4gICAgICA8L2J1dHRvbj5cbiAgICBgO1xuICAgIH1cbiAgICB0ZW1wbGF0ZVBsYWNlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbCBgIDx3dWktbG9nbyBjbGFzcz1cImludmlzaWJsZVwiIGxvZ289JHt0aGlzLmxvZ299Pjwvd3VpLWxvZ28+YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuV3VpTGlzdFNvY2lhbC5zdHlsZXMgPSBbcmVzZXRTdHlsZXMsIGVsZW1lbnRTdHlsZXMsIHN0eWxlc107XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlMaXN0U29jaWFsLnByb3RvdHlwZSwgXCJsb2dvXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlMaXN0U29jaWFsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXdWlMaXN0U29jaWFsLnByb3RvdHlwZSwgXCJhbGlnblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgV3VpTGlzdFNvY2lhbC5wcm90b3R5cGUsIFwidGFiSWR4XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFd1aUxpc3RTb2NpYWwucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG5XdWlMaXN0U29jaWFsID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgnd3VpLWxpc3Qtc29jaWFsJylcbl0sIFd1aUxpc3RTb2NpYWwpO1xuZXhwb3J0IHsgV3VpTGlzdFNvY2lhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbImdldFBvcHVwV2luZG93IiwiQ29yZUhlbHBlclV0aWwiLCJDb25zdGFudHNVdGlsIiwiY29ubmVjdEZhcmNhc3RlciIsIlJvdXRlckNvbnRyb2xsZXIiLCJhdXRoQ29ubmVjdG9yIiwiQ29ubmVjdG9yQ29udHJvbGxlciIsIkFjY291bnRDb250cm9sbGVyIiwidXJsIiwiQ2hhaW5Db250cm9sbGVyIiwiZXJyb3IiLCJTbmFja0NvbnRyb2xsZXIiLCJjb25uZWN0U29jaWFsIiwic29jaWFsUHJvdmlkZXIiLCJwb3B1cFdpbmRvdyIsInRpbWVvdXQiLCJ1cmkiLCJTdG9yYWdlVXRpbCIsInBhcnNlZFVyaSIsImV4ZWN1dGVTb2NpYWxMb2dpbiIsIkV2ZW50c0NvbnRyb2xsZXIiLCJzdHlsZXMkMSIsImNzcyIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJkIiwiaSIsIld1aUxvZ28iLCJMaXRFbGVtZW50IiwiaHRtbCIsInJlc2V0U3R5bGVzIiwic3R5bGVzIiwicHJvcGVydHkiLCJjdXN0b21FbGVtZW50IiwiV3VpTGlzdFNvY2lhbCIsImlmRGVmaW5lZCIsImVsZW1lbnRTdHlsZXMiXSwibWFwcGluZ3MiOiI4TEFTQSxTQUFTQSxHQUFpQixDQUN0QixHQUFJLENBQ0EsT0FBT0MsRUFBZSxlQUFlLEdBQUdDLEVBQWMsc0JBQXNCLFdBQVksY0FBZSxxQ0FBcUMsQ0FDcEosTUFDa0IsQ0FDVixNQUFNLElB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
