import{i as T,a as f,x as c,D as Q,F as l,G as j,H as x,A as S,O as N,M as I,e as k,t as X,f as F,W as q,R as D,d as M,b as z,B as G,k as J,S as E,T as Z}from"./index-C4QAg8YX.js";import{n as d,c as g,o as h,r as u}from"./if-defined-BYYrXBY0.js";import{D as ee,T as te}from"./index-CrY-CMJ8.js";import"./index-DQcN5B-F.js";import"./index-BRbX2CYq.js";import"./index-BTa2w2R5.js";import"./index-CCrbAl1i.js";import{O as L}from"./index-Cil4hSyZ.js";import"./index-CscqVbyP.js";import"./index-DX2qWijH.js";import"./index-9f6LuDk9.js";import"./index-DhYXixcu.js";import"./index-BH2MqK48.js";import"./index-B9RM8SMB.js";import"./ref-DqiK23uq.js";import"./ConstantsUtil-Dmg8YACJ.js";const ie=T`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
  }

  :host > wui-flex:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  .purchase-image-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: var(--wui-icon-box-size-lg);
    height: var(--wui-icon-box-size-lg);
  }

  .purchase-image-container wui-image {
    width: 100%;
    height: 100%;
    position: relative;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
  }

  .purchase-image-container wui-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  .purchase-image-container wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }
`;var w=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let p=class extends f{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="Bought",this.purchaseValue="",this.purchaseCurrency="",this.date="",this.completed=!1,this.inProgress=!1,this.failed=!1,this.onClick=null,this.symbol=""}firstUpdated(){this.icon||this.fetchTokenImage()}render(){return c`
      <wui-flex>
        ${this.imageTemplate()}
        <wui-flex flexDirection="column" gap="4xs" flexGrow="1">
          <wui-flex gap="xxs" alignItems="center" justifyContent="flex-start">
            ${this.statusIconTemplate()}
            <wui-text variant="paragraph-500" color="fg-100"> ${this.label}</wui-text>
          </wui-flex>
          <wui-text variant="small-400" color="fg-200">
            + ${this.purchaseValue} ${this.purchaseCurrency}
          </wui-text>
        </wui-flex>
        ${this.inProgress?c`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:c`<wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>`}
      </wui-flex>
    `}async fetchTokenImage(){await Q._fetchTokenImage(this.purchaseCurrency)}statusIconTemplate(){return this.inProgress?null:this.completed?this.boughtIconTemplate():this.errorIconTemplate()}errorIconTemplate(){return c`<wui-icon-box
      size="xxs"
      iconColor="error-100"
      backgroundColor="error-100"
      background="opaque"
      icon="close"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}imageTemplate(){const e=this.icon||`https://avatar.vercel.sh/andrew.svg?size=50&text=${this.symbol}`;return c`<wui-flex class="purchase-image-container">
      <wui-image src=${e}></wui-image>
    </wui-flex>`}boughtIconTemplate(){return c`<wui-icon-box
      size="xxs"
      iconColor="success-100"
      backgroundColor="success-100"
      background="opaque"
      icon="arrowBottom"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}};p.styles=[ie];w([d({type:Boolean})],p.prototype,"disabled",void 0);w([d()],p.prototype,"color",void 0);w([d()],p.prototype,"label",void 0);w([d()],p.prototype,"purchaseValue",void 0);w([d()],p.prototype,"purchaseCurrency",void 0);w([d()],p.prototype,"date",void 0);w([d({type:Boolean})],p.prototype,"completed",void 0);w([d({type:Boolean})],p.prototype,"inProgress",void 0);w([d({type:Boolean})],p.prototype,"failed",void 0);w([d()],p.prototype,"onClick",void 0);w([d()],p.prototype,"symbol",void 0);w([d()],p.prototype,"icon",void 0);p=w([g("w3m-onramp-activity-item")],p);const re=T`
  :host > wui-flex {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    padding: var(--wui-spacing-m);
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }

  :host > wui-flex > wui-flex {
    width: 100%;
  }

  wui-transaction-list-item-loader {
    width: 100%;
  }
`;var B=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};const oe=7;let O=class extends f{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=l.state.selectedProvider,this.loading=!1,this.coinbaseTransactions=j.state.coinbaseTransactions,this.tokenImages=x.state.tokenImages,this.unsubscribe.push(l.subscribeKey("selectedProvider",e=>{this.selectedOnRampProvider=e}),x.subscribeKey("tokenImages",e=>this.tokenImages=e),()=>{clearTimeout(this.refetchTimeout)},j.subscribe(e=>{this.coinbaseTransactions={...e.coinbaseTransactions}})),j.clearCursor(),this.fetchTransactions()}render(){return c`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.loading?this.templateLoading():this.templateTransactionsByYear()}
      </wui-flex>
    `}templateTransactions(e){return e?.map(i=>{const r=ee.formatDate(i?.metadata?.minedAt),o=i.transfers[0],t=o?.fungible_info;if(!t)return null;const s=t?.icon?.url||this.tokenImages?.[t.symbol||""];return c`
        <w3m-onramp-activity-item
          label="Bought"
          .completed=${i.metadata.status==="ONRAMP_TRANSACTION_STATUS_SUCCESS"}
          .inProgress=${i.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS"}
          .failed=${i.metadata.status==="ONRAMP_TRANSACTION_STATUS_FAILED"}
          purchaseCurrency=${h(t.symbol)}
          purchaseValue=${o.quantity.numeric}
          date=${r}
          icon=${h(s)}
          symbol=${h(t.symbol)}
        ></w3m-onramp-activity-item>
      `})}templateTransactionsByYear(){return Object.keys(this.coinbaseTransactions).sort().reverse().map(i=>{const r=parseInt(i,10);return new Array(12).fill(null).map((t,s)=>s).reverse().map(t=>{const s=te.getTransactionGroupTitle(r,t),a=this.coinbaseTransactions[r]?.[t];return a?c`
          <wui-flex flexDirection="column">
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200">${s}</wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(a)}
            </wui-flex>
          </wui-flex>
        `:null})})}async fetchTransactions(){await this.fetchCoinbaseTransactions()}async fetchCoinbaseTransactions(){const e=S.state.address,i=N.state.projectId;if(!e)throw new Error("No address found");if(!i)throw new Error("No projectId found");this.loading=!0,await j.fetchTransactions(e,"coinbase"),this.loading=!1,this.refetchLoadingTransactions()}refetchLoadingTransactions(){const e=new Date;if((this.coinbaseTransactions[e.getFullYear()]?.[e.getMonth()]||[]).filter(o=>o.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length===0){clearTimeout(this.refetchTimeout);return}this.refetchTimeout=setTimeout(async()=>{const o=S.state.address;await j.fetchTransactions(o,"coinbase"),this.refetchLoadingTransactions()},3e3)}templateLoading(){return Array(oe).fill(c` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(e=>e)}};O.styles=re;B([u()],O.prototype,"selectedOnRampProvider",void 0);B([u()],O.prototype,"loading",void 0);B([u()],O.prototype,"coinbaseTransactions",void 0);B([u()],O.prototype,"tokenImages",void 0);O=B([g("w3m-onramp-activity-view")],O);const se=T`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var U=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let A=class extends f{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=l.state.paymentCurrency,this.currencies=l.state.paymentCurrencies,this.currencyImages=x.state.currencyImages,this.checked=L.state.isLegalCheckboxChecked,this.unsubscribe.push(l.subscribe(e=>{this.selectedCurrency=e.paymentCurrency,this.currencies=e.paymentCurrencies}),x.subscribeKey("currencyImages",e=>this.currencyImages=e),L.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:i}=N.state,r=N.state.features?.legalCheckbox,s=!!(e||i)&&!!r&&!this.checked;return c`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","s","s","s"]}
        gap="xs"
        class=${h(s?"disabled":void 0)}
      >
        ${this.currenciesTemplate(s)}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(e=!1){return this.currencies.map(i=>c`
        <wui-list-item
          imageSrc=${h(this.currencyImages?.[i.id])}
          @click=${()=>this.selectCurrency(i)}
          variant="image"
          tabIdx=${h(e?-1:void 0)}
        >
          <wui-text variant="paragraph-500" color="fg-100">${i.id}</wui-text>
        </wui-list-item>
      `)}selectCurrency(e){e&&(l.setPaymentCurrency(e),I.close())}};A.styles=se;U([u()],A.prototype,"selectedCurrency",void 0);U([u()],A.prototype,"currencies",void 0);U([u()],A.prototype,"currencyImages",void 0);U([u()],A.prototype,"checked",void 0);A=U([g("w3m-onramp-fiat-select-view")],A);const ne=T`
  button {
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    border: none;
    outline: none;
    background-color: var(--wui-color-gray-glass-002);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .provider-image {
    width: var(--wui-spacing-3xl);
    min-width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    position: relative;
    overflow: hidden;
  }

  .provider-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  .network-icon {
    width: var(--wui-spacing-m);
    height: var(--wui-spacing-m);
    border-radius: calc(var(--wui-spacing-m) / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-002),
      0 0 0 3px var(--wui-color-modal-bg);
    transition: box-shadow var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: box-shadow;
  }

  button:hover .network-icon {
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-005),
      0 0 0 3px var(--wui-color-modal-bg);
  }
`;var R=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let y=class extends f{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="",this.feeRange="",this.loading=!1,this.onClick=null}render(){return c`
      <button ?disabled=${this.disabled} @click=${this.onClick} ontouchstart>
        <wui-visual name=${h(this.name)} class="provider-image"></wui-visual>
        <wui-flex flexDirection="column" gap="4xs">
          <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
          <wui-flex alignItems="center" justifyContent="flex-start" gap="l">
            <wui-text variant="tiny-500" color="fg-100">
              <wui-text variant="tiny-400" color="fg-200">Fees</wui-text>
              ${this.feeRange}
            </wui-text>
            <wui-flex gap="xxs">
              <wui-icon name="bank" size="xs" color="fg-150"></wui-icon>
              <wui-icon name="card" size="xs" color="fg-150"></wui-icon>
            </wui-flex>
            ${this.networksTemplate()}
          </wui-flex>
        </wui-flex>
        ${this.loading?c`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:c`<wui-icon name="chevronRight" color="fg-200" size="sm"></wui-icon>`}
      </button>
    `}networksTemplate(){const i=k.getAllRequestedCaipNetworks()?.filter(r=>r?.assets?.imageId)?.slice(0,5);return c`
      <wui-flex class="networks">
        ${i?.map(r=>c`
            <wui-flex class="network-icon">
              <wui-image src=${h(X.getNetworkImage(r))}></wui-image>
            </wui-flex>
          `)}
      </wui-flex>
    `}};y.styles=[ne];R([d({type:Boolean})],y.prototype,"disabled",void 0);R([d()],y.prototype,"color",void 0);R([d()],y.prototype,"name",void 0);R([d()],y.prototype,"label",void 0);R([d()],y.prototype,"feeRange",void 0);R([d({type:Boolean})],y.prototype,"loading",void 0);R([d()],y.prototype,"onClick",void 0);y=R([g("w3m-onramp-provider-item")],y);const ae=T`
  wui-flex {
    border-top: 1px solid var(--wui-color-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-3xs);
  }
`;var ce=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let V=class extends f{render(){const{termsConditionsUrl:e,privacyPolicyUrl:i}=N.state;return!e&&!i?null:c`
      <wui-flex
        .padding=${["m","s","s","s"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="s"
      >
        <wui-text color="fg-250" variant="small-400" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return c` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){const e=k.state.activeChain;F.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:S.state.preferredAccountTypes?.[e]===q.ACCOUNT_TYPES.SMART_ACCOUNT}}),D.push("WhatIsABuy")}};V.styles=[ae];V=ce([g("w3m-onramp-providers-footer")],V);var H=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let K=class extends f{constructor(){super(),this.unsubscribe=[],this.providers=l.state.providers,this.unsubscribe.push(l.subscribeKey("providers",e=>{this.providers=e}))}firstUpdated(){const e=this.providers.map(async i=>i.name==="coinbase"?await this.getCoinbaseOnRampURL():Promise.resolve(i?.url));Promise.all(e).then(i=>{this.providers=this.providers.map((r,o)=>({...r,url:i[o]||""}))})}render(){return c`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.onRampProvidersTemplate()}
      </wui-flex>
      <w3m-onramp-providers-footer></w3m-onramp-providers-footer>
    `}onRampProvidersTemplate(){return this.providers.filter(e=>e.supportedChains.includes(k.state.activeChain??"eip155")).map(e=>c`
          <w3m-onramp-provider-item
            label=${e.label}
            name=${e.name}
            feeRange=${e.feeRange}
            @click=${()=>{this.onClickProvider(e)}}
            ?disabled=${!e.url}
            data-testid=${`onramp-provider-${e.name}`}
          ></w3m-onramp-provider-item>
        `)}onClickProvider(e){const i=k.state.activeChain;l.setSelectedProvider(e),D.push("BuyInProgress"),M.openHref(e.url,"popupWindow","width=600,height=800,scrollbars=yes"),F.sendEvent({type:"track",event:"SELECT_BUY_PROVIDER",properties:{provider:e.name,isSmartAccount:S.state.preferredAccountTypes?.[i]===q.ACCOUNT_TYPES.SMART_ACCOUNT}})}async getCoinbaseOnRampURL(){const e=S.state.address,i=k.state.activeCaipNetwork;if(!e)throw new Error("No address found");if(!i?.name)throw new Error("No network found");const r=z.WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP[i.name]??z.WC_COINBASE_PAY_SDK_FALLBACK_CHAIN,o=l.state.purchaseCurrency,t=o?[o.symbol]:l.state.purchaseCurrencies.map(s=>s.symbol);return await G.generateOnRampURL({defaultNetwork:r,destinationWallets:[{address:e,blockchains:z.WC_COINBASE_PAY_SDK_CHAINS,assets:t}],partnerUserId:e,purchaseAmount:l.state.purchaseAmount})}};H([u()],K.prototype,"providers",void 0);K=H([g("w3m-onramp-providers-view")],K);const le=T`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var W=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let P=class extends f{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=l.state.purchaseCurrencies,this.tokens=l.state.purchaseCurrencies,this.tokenImages=x.state.tokenImages,this.checked=L.state.isLegalCheckboxChecked,this.unsubscribe.push(l.subscribe(e=>{this.selectedCurrency=e.purchaseCurrencies,this.tokens=e.purchaseCurrencies}),x.subscribeKey("tokenImages",e=>this.tokenImages=e),L.subscribeKey("isLegalCheckboxChecked",e=>{this.checked=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:i}=N.state,r=N.state.features?.legalCheckbox,s=!!(e||i)&&!!r&&!this.checked;return c`
      <w3m-legal-checkbox></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","s","s","s"]}
        gap="xs"
        class=${h(s?"disabled":void 0)}
      >
        ${this.currenciesTemplate(s)}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(e=!1){return this.tokens.map(i=>c`
        <wui-list-item
          imageSrc=${h(this.tokenImages?.[i.symbol])}
          @click=${()=>this.selectToken(i)}
          variant="image"
          tabIdx=${h(e?-1:void 0)}
        >
          <wui-flex gap="3xs" alignItems="center">
            <wui-text variant="paragraph-500" color="fg-100">${i.name}</wui-text>
            <wui-text variant="small-400" color="fg-200">${i.symbol}</wui-text>
          </wui-flex>
        </wui-list-item>
      `)}selectToken(e){e&&(l.setPurchaseCurrency(e),I.close())}};P.styles=le;W([u()],P.prototype,"selectedCurrency",void 0);W([u()],P.prototype,"tokens",void 0);W([u()],P.prototype,"tokenImages",void 0);W([u()],P.prototype,"checked",void 0);P=W([g("w3m-onramp-token-select-view")],P);const ue=T`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity var(--wui-ease-out-power-2) var(--wui-duration-lg),
      transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }
`;var b=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let m=class extends f{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=l.state.selectedProvider,this.uri=J.state.wcUri,this.ready=!1,this.showRetry=!1,this.buffering=!1,this.error=!1,this.startTime=null,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(l.subscribeKey("selectedProvider",e=>{this.selectedOnRampProvider=e})),this.watchTransactions()}disconnectedCallback(){this.intervalId&&clearInterval(this.intervalId)}render(){let e="Continue in external window";this.error?e="Buy failed":this.selectedOnRampProvider&&(e=`Buy in ${this.selectedOnRampProvider?.label}`);const i=this.error?"Buy can be declined from your side or due to and error on the provider app":"We’ll notify you once your Buy is processed";return c`
      <wui-flex
        data-error=${h(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-visual
            name=${h(this.selectedOnRampProvider?.name)}
            size="lg"
            class="provider-image"
          >
          </wui-visual>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${e}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${i}</wui-text>
        </wui-flex>

        ${this.error?this.tryAgainTemplate():null}
      </wui-flex>

      <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
        <wui-link @click=${this.onCopyUri} color="fg-200">
          <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
          Copy link
        </wui-link>
      </wui-flex>
    `}watchTransactions(){if(this.selectedOnRampProvider)switch(this.selectedOnRampProvider.name){case"coinbase":this.startTime=Date.now(),this.initializeCoinbaseTransactions();break}}async initializeCoinbaseTransactions(){await this.watchCoinbaseTransactions(),this.intervalId=setInterval(()=>this.watchCoinbaseTransactions(),4e3)}async watchCoinbaseTransactions(){try{const e=S.state.address;if(!e)throw new Error("No address found");(await G.fetchTransactions({account:e,onramp:"coinbase"})).data.filter(o=>new Date(o.metadata.minedAt)>new Date(this.startTime)||o.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length?(clearInterval(this.intervalId),D.replace("OnRampActivity")):this.startTime&&Date.now()-this.startTime>=18e4&&(clearInterval(this.intervalId),this.error=!0)}catch(e){E.showError(e)}}onTryAgain(){this.selectedOnRampProvider&&(this.error=!1,M.openHref(this.selectedOnRampProvider.url,"popupWindow","width=600,height=800,scrollbars=yes"))}tryAgainTemplate(){return this.selectedOnRampProvider?.url?c`<wui-button size="md" variant="accent" @click=${this.onTryAgain.bind(this)}>
      <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
      Try again
    </wui-button>`:null}loaderTemplate(){const e=Z.state.themeVariables["--w3m-border-radius-master"],i=e?parseInt(e.replace("px",""),10):4;return c`<wui-loading-thumbnail radius=${i*9}></wui-loading-thumbnail>`}onCopyUri(){if(!this.selectedOnRampProvider?.url){E.showError("No link found"),D.goBack();return}try{M.copyToClopboard(this.selectedOnRampProvider.url),E.showSuccess("Link copied")}catch{E.showError("Failed to copy")}}};m.styles=ue;b([u()],m.prototype,"intervalId",void 0);b([u()],m.prototype,"selectedOnRampProvider",void 0);b([u()],m.prototype,"uri",void 0);b([u()],m.prototype,"ready",void 0);b([u()],m.prototype,"showRetry",void 0);b([u()],m.prototype,"buffering",void 0);b([u()],m.prototype,"error",void 0);b([u()],m.prototype,"startTime",void 0);b([d({type:Boolean})],m.prototype,"isMobile",void 0);b([d()],m.prototype,"onRetry",void 0);m=b([g("w3m-buy-in-progress-view")],m);var de=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let Y=class extends f{render(){return c`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","3xl","xl","3xl"]}
        alignItems="center"
        gap="xl"
      >
        <wui-visual name="onrampCard"></wui-visual>
        <wui-flex flexDirection="column" gap="xs" alignItems="center">
          <wui-text align="center" variant="paragraph-500" color="fg-100">
            Quickly and easily buy digital assets!
          </wui-text>
          <wui-text align="center" variant="small-400" color="fg-200">
            Simply select your preferred onramp provider and add digital assets to your account
            using your credit card or bank transfer
          </wui-text>
        </wui-flex>
        <wui-button @click=${D.goBack}>
          <wui-icon size="sm" color="inherit" name="add" slot="iconLeft"></wui-icon>
          Buy
        </wui-button>
      </wui-flex>
    `}};Y=de([g("w3m-what-is-a-buy-view")],Y);const pe=T`
  :host {
    width: 100%;
  }

  wui-loading-spinner {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
  }

  .currency-container {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: var(--wui-spacing-1xs);
    height: 40px;
    padding: var(--wui-spacing-xs) var(--wui-spacing-1xs) var(--wui-spacing-xs)
      var(--wui-spacing-xs);
    min-width: 95px;
    border-radius: var(--FULL, 1000px);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    cursor: pointer;
  }

  .currency-container > wui-image {
    height: 24px;
    width: 24px;
    border-radius: 50%;
  }
`;var _=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};let C=class extends f{constructor(){super(),this.unsubscribe=[],this.type="Token",this.value=0,this.currencies=[],this.selectedCurrency=this.currencies?.[0],this.currencyImages=x.state.currencyImages,this.tokenImages=x.state.tokenImages,this.unsubscribe.push(l.subscribeKey("purchaseCurrency",e=>{!e||this.type==="Fiat"||(this.selectedCurrency=this.formatPurchaseCurrency(e))}),l.subscribeKey("paymentCurrency",e=>{!e||this.type==="Token"||(this.selectedCurrency=this.formatPaymentCurrency(e))}),l.subscribe(e=>{this.type==="Fiat"?this.currencies=e.purchaseCurrencies.map(this.formatPurchaseCurrency):this.currencies=e.paymentCurrencies.map(this.formatPaymentCurrency)}),x.subscribe(e=>{this.currencyImages={...e.currencyImages},this.tokenImages={...e.tokenImages}}))}firstUpdated(){l.getAvailableCurrencies()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.selectedCurrency?.symbol||"",i=this.currencyImages[e]||this.tokenImages[e];return c`<wui-input-text type="number" size="lg" value=${this.value}>
      ${this.selectedCurrency?c` <wui-flex
            class="currency-container"
            justifyContent="space-between"
            alignItems="center"
            gap="xxs"
            @click=${()=>I.open({view:`OnRamp${this.type}Select`})}
          >
            <wui-image src=${h(i)}></wui-image>
            <wui-text color="fg-100">${this.selectedCurrency.symbol}</wui-text>
          </wui-flex>`:c`<wui-loading-spinner></wui-loading-spinner>`}
    </wui-input-text>`}formatPaymentCurrency(e){return{name:e.id,symbol:e.id}}formatPurchaseCurrency(e){return{name:e.name,symbol:e.symbol}}};C.styles=pe;_([d({type:String})],C.prototype,"type",void 0);_([d({type:Number})],C.prototype,"value",void 0);_([u()],C.prototype,"currencies",void 0);_([u()],C.prototype,"selectedCurrency",void 0);_([u()],C.prototype,"currencyImages",void 0);_([u()],C.prototype,"tokenImages",void 0);C=_([g("w3m-onramp-input")],C);const he=T`
  :host > wui-flex {
    width: 100%;
    max-width: 360px;
  }

  :host > wui-flex > wui-flex {
    border-radius: var(--wui-border-radius-l);
    width: 100%;
  }

  .amounts-container {
    width: 100%;
  }
`;var $=function(n,e,i,r){var o=arguments.length,t=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(n,e,i,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(t=(o<3?s(t):o>3?s(e,i,t):s(e,i))||t);return o>3&&t&&Object.defineProperty(e,i,t),t};const me={USD:"$",EUR:"€",GBP:"£"},we=[100,250,500,1e3];let v=class extends f{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.caipAddress=k.state.activeCaipAddress,this.loading=I.state.loading,this.paymentCurrency=l.state.paymentCurrency,this.paymentAmount=l.state.paymentAmount,this.purchaseAmount=l.state.purchaseAmount,this.quoteLoading=l.state.quotesLoading,this.unsubscribe.push(k.subscribeKey("activeCaipAddress",e=>this.caipAddress=e),I.subscribeKey("loading",e=>{this.loading=e}),l.subscribe(e=>{this.paymentCurrency=e.paymentCurrency,this.paymentAmount=e.paymentAmount,this.purchaseAmount=e.purchaseAmount,this.quoteLoading=e.quotesLoading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return c`
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center">
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <w3m-onramp-input
            type="Fiat"
            @inputChange=${this.onPaymentAmountChange.bind(this)}
            .value=${this.paymentAmount||0}
          ></w3m-onramp-input>
          <w3m-onramp-input
            type="Token"
            .value=${this.purchaseAmount||0}
            .loading=${this.quoteLoading}
          ></w3m-onramp-input>
          <wui-flex justifyContent="space-evenly" class="amounts-container" gap="xs">
            ${we.map(e=>c`<wui-button
                  variant=${this.paymentAmount===e?"accent":"neutral"}
                  size="md"
                  textVariant="paragraph-600"
                  fullWidth
                  @click=${()=>this.selectPresetAmount(e)}
                  >${`${me[this.paymentCurrency?.id||"USD"]} ${e}`}</wui-button
                >`)}
          </wui-flex>
          ${this.templateButton()}
        </wui-flex>
      </wui-flex>
    `}templateButton(){return this.caipAddress?c`<wui-button
          @click=${this.getQuotes.bind(this)}
          variant="main"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Get quotes
        </wui-button>`:c`<wui-button
          @click=${this.openModal.bind(this)}
          variant="accent"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Connect wallet
        </wui-button>`}getQuotes(){this.loading||I.open({view:"OnRampProviders"})}openModal(){I.open({view:"Connect"})}async onPaymentAmountChange(e){l.setPaymentAmount(Number(e.detail)),await l.getQuote()}async selectPresetAmount(e){l.setPaymentAmount(e),await l.getQuote()}};v.styles=he;$([d({type:Boolean})],v.prototype,"disabled",void 0);$([u()],v.prototype,"caipAddress",void 0);$([u()],v.prototype,"loading",void 0);$([u()],v.prototype,"paymentCurrency",void 0);$([u()],v.prototype,"paymentAmount",void 0);$([u()],v.prototype,"purchaseAmount",void 0);$([u()],v.prototype,"quoteLoading",void 0);v=$([g("w3m-onramp-widget")],v);export{m as W3mBuyInProgressView,O as W3mOnRampActivityView,K as W3mOnRampProvidersView,A as W3mOnrampFiatSelectView,P as W3mOnrampTokensView,v as W3mOnrampWidget,Y as W3mWhatIsABuyView};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib25yYW1wLUR1N3NRQ3hTLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvcGFydGlhbHMvdzNtLW9ucmFtcC1hY3Rpdml0eS1pdGVtL3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy9wYXJ0aWFscy93M20tb25yYW1wLWFjdGl2aXR5LWl0ZW0vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLW9ucmFtcC1hY3Rpdml0eS12aWV3L3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tb25yYW1wLWFjdGl2aXR5LXZpZXcvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLW9ucmFtcC1maWF0LXNlbGVjdC12aWV3L3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tb25yYW1wLWZpYXQtc2VsZWN0LXZpZXcvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvcGFydGlhbHMvdzNtLW9ucmFtcC1wcm92aWRlci1pdGVtL3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy9wYXJ0aWFscy93M20tb25yYW1wLXByb3ZpZGVyLWl0ZW0vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvcGFydGlhbHMvdzNtLW9ucmFtcC1wcm92aWRlcnMtZm9vdGVyL3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy9wYXJ0aWFscy93M20tb25yYW1wLXByb3ZpZGVycy1mb290ZXIvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLW9ucmFtcC1wcm92aWRlcnMtdmlldy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tb25yYW1wLXRva2Vucy1zZWxlY3Qtdmlldy9zdHlsZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLW9ucmFtcC10b2tlbnMtc2VsZWN0LXZpZXcvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLWJ1eS1pbi1wcm9ncmVzcy12aWV3L3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy92aWV3cy93M20tYnV5LWluLXByb2dyZXNzLXZpZXcvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1zY2FmZm9sZC11aS9kaXN0L2VzbS9zcmMvdmlld3MvdzNtLXdoYXQtaXMtYS1idXktdmlldy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy9wYXJ0aWFscy93M20tb25yYW1wLWlucHV0L3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy9wYXJ0aWFscy93M20tb25yYW1wLWlucHV0L2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtc2NhZmZvbGQtdWkvZGlzdC9lc20vc3JjL21vZGFsL3czbS1vbnJhbXAtd2lkZ2V0L3N0eWxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LXNjYWZmb2xkLXVpL2Rpc3QvZXNtL3NyYy9tb2RhbC93M20tb25yYW1wLXdpZGdldC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3Qge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgOmhvc3QgPiB3dWktZmxleCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogdmFyKC0td3VpLXNwYWNpbmctcyk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0td3VpLWJvcmRlci1yYWRpdXMteHMpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgZ2FwOiB2YXIoLS13dWktc3BhY2luZy1zKTtcbiAgfVxuXG4gIDpob3N0ID4gd3VpLWZsZXg6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwMik7XG4gIH1cblxuICAucHVyY2hhc2UtaW1hZ2UtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiB2YXIoLS13dWktaWNvbi1ib3gtc2l6ZS1sZyk7XG4gICAgaGVpZ2h0OiB2YXIoLS13dWktaWNvbi1ib3gtc2l6ZS1sZyk7XG4gIH1cblxuICAucHVyY2hhc2UtaW1hZ2UtY29udGFpbmVyIHd1aS1pbWFnZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLXd1aS1pY29uLWJveC1zaXplLWxnKSAvIDIpO1xuICB9XG5cbiAgLnB1cmNoYXNlLWltYWdlLWNvbnRhaW5lciB3dWktaW1hZ2U6OmFmdGVyIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGluc2V0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0td3VpLWljb24tYm94LXNpemUtbGcpIC8gMik7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMXB4IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwNSk7XG4gIH1cblxuICAucHVyY2hhc2UtaW1hZ2UtY29udGFpbmVyIHd1aS1pY29uLWJveCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgyMCUsIDIwJSk7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdAcmVvd24vYXBwa2l0LXVpJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktZmxleCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWljb24tYm94JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktaW1hZ2UnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1sb2FkaW5nLXNwaW5uZXInO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xubGV0IFczbU9uUmFtcEFjdGl2aXR5SXRlbSA9IGNsYXNzIFczbU9uUmFtcEFjdGl2aXR5SXRlbSBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sb3IgPSAnaW5oZXJpdCc7XG4gICAgICAgIHRoaXMubGFiZWwgPSAnQm91Z2h0JztcbiAgICAgICAgdGhpcy5wdXJjaGFzZVZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMucHVyY2hhc2VDdXJyZW5jeSA9ICcnO1xuICAgICAgICB0aGlzLmRhdGUgPSAnJztcbiAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmFpbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25DbGljayA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gJyc7XG4gICAgfVxuICAgIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmljb24pIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hUb2tlbkltYWdlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWZsZXg+XG4gICAgICAgICR7dGhpcy5pbWFnZVRlbXBsYXRlKCl9XG4gICAgICAgIDx3dWktZmxleCBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwiNHhzXCIgZmxleEdyb3c9XCIxXCI+XG4gICAgICAgICAgPHd1aS1mbGV4IGdhcD1cInh4c1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtc3RhcnRcIj5cbiAgICAgICAgICAgICR7dGhpcy5zdGF0dXNJY29uVGVtcGxhdGUoKX1cbiAgICAgICAgICAgIDx3dWktdGV4dCB2YXJpYW50PVwicGFyYWdyYXBoLTUwMFwiIGNvbG9yPVwiZmctMTAwXCI+ICR7dGhpcy5sYWJlbH08L3d1aS10ZXh0PlxuICAgICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgICAgPHd1aS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC00MDBcIiBjb2xvcj1cImZnLTIwMFwiPlxuICAgICAgICAgICAgKyAke3RoaXMucHVyY2hhc2VWYWx1ZX0gJHt0aGlzLnB1cmNoYXNlQ3VycmVuY3l9XG4gICAgICAgICAgPC93dWktdGV4dD5cbiAgICAgICAgPC93dWktZmxleD5cbiAgICAgICAgJHt0aGlzLmluUHJvZ3Jlc3NcbiAgICAgICAgICAgID8gaHRtbCBgPHd1aS1sb2FkaW5nLXNwaW5uZXIgY29sb3I9XCJmZy0yMDBcIiBzaXplPVwibWRcIj48L3d1aS1sb2FkaW5nLXNwaW5uZXI+YFxuICAgICAgICAgICAgOiBodG1sIGA8d3VpLXRleHQgdmFyaWFudD1cIm1pY3JvLTcwMFwiIGNvbG9yPVwiZmctMzAwXCI+PHNwYW4+JHt0aGlzLmRhdGV9PC9zcGFuPjwvd3VpLXRleHQ+YH1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgYDtcbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hUb2tlbkltYWdlKCkge1xuICAgICAgICBhd2FpdCBBcGlDb250cm9sbGVyLl9mZXRjaFRva2VuSW1hZ2UodGhpcy5wdXJjaGFzZUN1cnJlbmN5KTtcbiAgICB9XG4gICAgc3RhdHVzSWNvblRlbXBsYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pblByb2dyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZWQgPyB0aGlzLmJvdWdodEljb25UZW1wbGF0ZSgpIDogdGhpcy5lcnJvckljb25UZW1wbGF0ZSgpO1xuICAgIH1cbiAgICBlcnJvckljb25UZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaWNvbi1ib3hcbiAgICAgIHNpemU9XCJ4eHNcIlxuICAgICAgaWNvbkNvbG9yPVwiZXJyb3ItMTAwXCJcbiAgICAgIGJhY2tncm91bmRDb2xvcj1cImVycm9yLTEwMFwiXG4gICAgICBiYWNrZ3JvdW5kPVwib3BhcXVlXCJcbiAgICAgIGljb249XCJjbG9zZVwiXG4gICAgICBib3JkZXJDb2xvcj1cInd1aS1jb2xvci1iZy0xMjVcIlxuICAgID48L3d1aS1pY29uLWJveD5gO1xuICAgIH1cbiAgICBpbWFnZVRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5pY29uIHx8IGBodHRwczovL2F2YXRhci52ZXJjZWwuc2gvYW5kcmV3LnN2Zz9zaXplPTUwJnRleHQ9JHt0aGlzLnN5bWJvbH1gO1xuICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1mbGV4IGNsYXNzPVwicHVyY2hhc2UtaW1hZ2UtY29udGFpbmVyXCI+XG4gICAgICA8d3VpLWltYWdlIHNyYz0ke2ljb259Pjwvd3VpLWltYWdlPlxuICAgIDwvd3VpLWZsZXg+YDtcbiAgICB9XG4gICAgYm91Z2h0SWNvblRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1pY29uLWJveFxuICAgICAgc2l6ZT1cInh4c1wiXG4gICAgICBpY29uQ29sb3I9XCJzdWNjZXNzLTEwMFwiXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJzdWNjZXNzLTEwMFwiXG4gICAgICBiYWNrZ3JvdW5kPVwib3BhcXVlXCJcbiAgICAgIGljb249XCJhcnJvd0JvdHRvbVwiXG4gICAgICBib3JkZXJDb2xvcj1cInd1aS1jb2xvci1iZy0xMjVcIlxuICAgID48L3d1aS1pY29uLWJveD5gO1xuICAgIH1cbn07XG5XM21PblJhbXBBY3Rpdml0eUl0ZW0uc3R5bGVzID0gW3N0eWxlc107XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFczbU9uUmFtcEFjdGl2aXR5SXRlbS5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcEFjdGl2aXR5SXRlbS5wcm90b3R5cGUsIFwiY29sb3JcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcEFjdGl2aXR5SXRlbS5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcEFjdGl2aXR5SXRlbS5wcm90b3R5cGUsIFwicHVyY2hhc2VWYWx1ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgVzNtT25SYW1wQWN0aXZpdHlJdGVtLnByb3RvdHlwZSwgXCJwdXJjaGFzZUN1cnJlbmN5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXM21PblJhbXBBY3Rpdml0eUl0ZW0ucHJvdG90eXBlLCBcImRhdGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgVzNtT25SYW1wQWN0aXZpdHlJdGVtLnByb3RvdHlwZSwgXCJjb21wbGV0ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgVzNtT25SYW1wQWN0aXZpdHlJdGVtLnByb3RvdHlwZSwgXCJpblByb2dyZXNzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFczbU9uUmFtcEFjdGl2aXR5SXRlbS5wcm90b3R5cGUsIFwiZmFpbGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXM21PblJhbXBBY3Rpdml0eUl0ZW0ucHJvdG90eXBlLCBcIm9uQ2xpY2tcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcEFjdGl2aXR5SXRlbS5wcm90b3R5cGUsIFwic3ltYm9sXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXM21PblJhbXBBY3Rpdml0eUl0ZW0ucHJvdG90eXBlLCBcImljb25cIiwgdm9pZCAwKTtcblczbU9uUmFtcEFjdGl2aXR5SXRlbSA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS1vbnJhbXAtYWN0aXZpdHktaXRlbScpXG5dLCBXM21PblJhbXBBY3Rpdml0eUl0ZW0pO1xuZXhwb3J0IHsgVzNtT25SYW1wQWN0aXZpdHlJdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3QgPiB3dWktZmxleCB7XG4gICAgaGVpZ2h0OiA1MDBweDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7XG4gICAgcGFkZGluZzogdmFyKC0td3VpLXNwYWNpbmctbSk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICB9XG5cbiAgOmhvc3QgPiB3dWktZmxleDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICA6aG9zdCA+IHd1aS1mbGV4ID4gd3VpLWZsZXgge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgd3VpLXRyYW5zYWN0aW9uLWxpc3QtaXRlbS1sb2FkZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVzLmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzJztcbmltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQWNjb3VudENvbnRyb2xsZXIsIEFzc2V0Q29udHJvbGxlciwgT25SYW1wQ29udHJvbGxlciwgT3B0aW9uc0NvbnRyb2xsZXIsIFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uVXRpbCwgY3VzdG9tRWxlbWVudCB9IGZyb20gJ0ByZW93bi9hcHBraXQtdWknO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1mbGV4JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktdGV4dCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXRyYW5zYWN0aW9uLWxpc3QtaXRlbS1sb2FkZXInO1xuaW1wb3J0ICcuLi8uLi9wYXJ0aWFscy93M20tb25yYW1wLWFjdGl2aXR5LWl0ZW0vaW5kZXguanMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5jb25zdCBMT0FESU5HX0lURU1fQ09VTlQgPSA3O1xubGV0IFczbU9uUmFtcEFjdGl2aXR5VmlldyA9IGNsYXNzIFczbU9uUmFtcEFjdGl2aXR5VmlldyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gW107XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlciA9IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUuc2VsZWN0ZWRQcm92aWRlcjtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29pbmJhc2VUcmFuc2FjdGlvbnMgPSBUcmFuc2FjdGlvbnNDb250cm9sbGVyLnN0YXRlLmNvaW5iYXNlVHJhbnNhY3Rpb25zO1xuICAgICAgICB0aGlzLnRva2VuSW1hZ2VzID0gQXNzZXRDb250cm9sbGVyLnN0YXRlLnRva2VuSW1hZ2VzO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goLi4uW1xuICAgICAgICAgICAgT25SYW1wQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ3NlbGVjdGVkUHJvdmlkZXInLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlciA9IHZhbDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgQXNzZXRDb250cm9sbGVyLnN1YnNjcmliZUtleSgndG9rZW5JbWFnZXMnLCB2YWwgPT4gKHRoaXMudG9rZW5JbWFnZXMgPSB2YWwpKSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWZldGNoVGltZW91dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVHJhbnNhY3Rpb25zQ29udHJvbGxlci5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvaW5iYXNlVHJhbnNhY3Rpb25zID0geyAuLi52YWwuY29pbmJhc2VUcmFuc2FjdGlvbnMgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF0pO1xuICAgICAgICBUcmFuc2FjdGlvbnNDb250cm9sbGVyLmNsZWFyQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMuZmV0Y2hUcmFuc2FjdGlvbnMoKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWZsZXggZmxleERpcmVjdGlvbj1cImNvbHVtblwiIC5wYWRkaW5nPSR7WycwJywgJ3MnLCAncycsICdzJ119IGdhcD1cInhzXCI+XG4gICAgICAgICR7dGhpcy5sb2FkaW5nID8gdGhpcy50ZW1wbGF0ZUxvYWRpbmcoKSA6IHRoaXMudGVtcGxhdGVUcmFuc2FjdGlvbnNCeVllYXIoKX1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgYDtcbiAgICB9XG4gICAgdGVtcGxhdGVUcmFuc2FjdGlvbnModHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnM/Lm1hcCh0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gRGF0ZVV0aWwuZm9ybWF0RGF0ZSh0cmFuc2FjdGlvbj8ubWV0YWRhdGE/Lm1pbmVkQXQpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXIgPSB0cmFuc2FjdGlvbi50cmFuc2ZlcnNbMF07XG4gICAgICAgICAgICBjb25zdCBmdW5naWJsZUluZm8gPSB0cmFuc2Zlcj8uZnVuZ2libGVfaW5mbztcbiAgICAgICAgICAgIGlmICghZnVuZ2libGVJbmZvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpY29uID0gZnVuZ2libGVJbmZvPy5pY29uPy51cmwgfHwgdGhpcy50b2tlbkltYWdlcz8uW2Z1bmdpYmxlSW5mby5zeW1ib2wgfHwgJyddO1xuICAgICAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgICA8dzNtLW9ucmFtcC1hY3Rpdml0eS1pdGVtXG4gICAgICAgICAgbGFiZWw9XCJCb3VnaHRcIlxuICAgICAgICAgIC5jb21wbGV0ZWQ9JHt0cmFuc2FjdGlvbi5tZXRhZGF0YS5zdGF0dXMgPT09ICdPTlJBTVBfVFJBTlNBQ1RJT05fU1RBVFVTX1NVQ0NFU1MnfVxuICAgICAgICAgIC5pblByb2dyZXNzPSR7dHJhbnNhY3Rpb24ubWV0YWRhdGEuc3RhdHVzID09PSAnT05SQU1QX1RSQU5TQUNUSU9OX1NUQVRVU19JTl9QUk9HUkVTUyd9XG4gICAgICAgICAgLmZhaWxlZD0ke3RyYW5zYWN0aW9uLm1ldGFkYXRhLnN0YXR1cyA9PT0gJ09OUkFNUF9UUkFOU0FDVElPTl9TVEFUVVNfRkFJTEVEJ31cbiAgICAgICAgICBwdXJjaGFzZUN1cnJlbmN5PSR7aWZEZWZpbmVkKGZ1bmdpYmxlSW5mby5zeW1ib2wpfVxuICAgICAgICAgIHB1cmNoYXNlVmFsdWU9JHt0cmFuc2Zlci5xdWFudGl0eS5udW1lcmljfVxuICAgICAgICAgIGRhdGU9JHtkYXRlfVxuICAgICAgICAgIGljb249JHtpZkRlZmluZWQoaWNvbil9XG4gICAgICAgICAgc3ltYm9sPSR7aWZEZWZpbmVkKGZ1bmdpYmxlSW5mby5zeW1ib2wpfVxuICAgICAgICA+PC93M20tb25yYW1wLWFjdGl2aXR5LWl0ZW0+XG4gICAgICBgO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGVtcGxhdGVUcmFuc2FjdGlvbnNCeVllYXIoKSB7XG4gICAgICAgIGNvbnN0IHNvcnRlZFllYXJLZXlzID0gT2JqZWN0LmtleXModGhpcy5jb2luYmFzZVRyYW5zYWN0aW9ucykuc29ydCgpLnJldmVyc2UoKTtcbiAgICAgICAgcmV0dXJuIHNvcnRlZFllYXJLZXlzLm1hcCh5ZWFyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHllYXJJbnQgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRNb250aEluZGV4ZXMgPSBuZXcgQXJyYXkoMTIpXG4gICAgICAgICAgICAgICAgLmZpbGwobnVsbClcbiAgICAgICAgICAgICAgICAubWFwKChfLCBpZHgpID0+IGlkeClcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHNvcnRlZE1vbnRoSW5kZXhlcy5tYXAobW9udGggPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwVGl0bGUgPSBUcmFuc2FjdGlvblV0aWwuZ2V0VHJhbnNhY3Rpb25Hcm91cFRpdGxlKHllYXJJbnQsIG1vbnRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSB0aGlzLmNvaW5iYXNlVHJhbnNhY3Rpb25zW3llYXJJbnRdPy5bbW9udGhdO1xuICAgICAgICAgICAgICAgIGlmICghdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICAgICAgPHd1aS1mbGV4IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIj5cbiAgICAgICAgICAgIDx3dWktZmxleFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgICAgICAgZmxleERpcmVjdGlvbj1cInJvd1wiXG4gICAgICAgICAgICAgIC5wYWRkaW5nPSR7Wyd4cycsICdzJywgJ3MnLCAncyddfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8d3VpLXRleHQgdmFyaWFudD1cInBhcmFncmFwaC01MDBcIiBjb2xvcj1cImZnLTIwMFwiPiR7Z3JvdXBUaXRsZX08L3d1aS10ZXh0PlxuICAgICAgICAgICAgPC93dWktZmxleD5cbiAgICAgICAgICAgIDx3dWktZmxleCBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwieHNcIj5cbiAgICAgICAgICAgICAgJHt0aGlzLnRlbXBsYXRlVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9ucyl9XG4gICAgICAgICAgICA8L3d1aS1mbGV4PlxuICAgICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgIGA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoVHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBjb25zdCBwcm92aWRlciA9ICdjb2luYmFzZSc7XG4gICAgICAgIGlmIChwcm92aWRlciA9PT0gJ2NvaW5iYXNlJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaENvaW5iYXNlVHJhbnNhY3Rpb25zKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hDb2luYmFzZVRyYW5zYWN0aW9ucygpIHtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IEFjY291bnRDb250cm9sbGVyLnN0YXRlLmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZDtcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFkZHJlc3MgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByb2plY3RJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwcm9qZWN0SWQgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICBhd2FpdCBUcmFuc2FjdGlvbnNDb250cm9sbGVyLmZldGNoVHJhbnNhY3Rpb25zKGFkZHJlc3MsICdjb2luYmFzZScpO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWZldGNoTG9hZGluZ1RyYW5zYWN0aW9ucygpO1xuICAgIH1cbiAgICByZWZldGNoTG9hZGluZ1RyYW5zYWN0aW9ucygpIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50TW9udGhUeHMgPSB0aGlzLmNvaW5iYXNlVHJhbnNhY3Rpb25zW3RvZGF5LmdldEZ1bGxZZWFyKCldPy5bdG9kYXkuZ2V0TW9udGgoKV0gfHwgW107XG4gICAgICAgIGNvbnN0IGxvYWRpbmdUcmFuc2FjdGlvbnMgPSBjdXJyZW50TW9udGhUeHMuZmlsdGVyKHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLm1ldGFkYXRhLnN0YXR1cyA9PT0gJ09OUkFNUF9UUkFOU0FDVElPTl9TVEFUVVNfSU5fUFJPR1JFU1MnKTtcbiAgICAgICAgaWYgKGxvYWRpbmdUcmFuc2FjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWZldGNoVGltZW91dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZldGNoVGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IEFjY291bnRDb250cm9sbGVyLnN0YXRlLmFkZHJlc3M7XG4gICAgICAgICAgICBhd2FpdCBUcmFuc2FjdGlvbnNDb250cm9sbGVyLmZldGNoVHJhbnNhY3Rpb25zKGFkZHJlc3MsICdjb2luYmFzZScpO1xuICAgICAgICAgICAgdGhpcy5yZWZldGNoTG9hZGluZ1RyYW5zYWN0aW9ucygpO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG4gICAgdGVtcGxhdGVMb2FkaW5nKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkoTE9BRElOR19JVEVNX0NPVU5UKVxuICAgICAgICAgICAgLmZpbGwoaHRtbCBgIDx3dWktdHJhbnNhY3Rpb24tbGlzdC1pdGVtLWxvYWRlcj48L3d1aS10cmFuc2FjdGlvbi1saXN0LWl0ZW0tbG9hZGVyPiBgKVxuICAgICAgICAgICAgLm1hcChpdGVtID0+IGl0ZW0pO1xuICAgIH1cbn07XG5XM21PblJhbXBBY3Rpdml0eVZpZXcuc3R5bGVzID0gc3R5bGVzO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25SYW1wQWN0aXZpdHlWaWV3LnByb3RvdHlwZSwgXCJzZWxlY3RlZE9uUmFtcFByb3ZpZGVyXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21PblJhbXBBY3Rpdml0eVZpZXcucHJvdG90eXBlLCBcImxvYWRpbmdcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9uUmFtcEFjdGl2aXR5Vmlldy5wcm90b3R5cGUsIFwiY29pbmJhc2VUcmFuc2FjdGlvbnNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9uUmFtcEFjdGl2aXR5Vmlldy5wcm90b3R5cGUsIFwidG9rZW5JbWFnZXNcIiwgdm9pZCAwKTtcblczbU9uUmFtcEFjdGl2aXR5VmlldyA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS1vbnJhbXAtYWN0aXZpdHktdmlldycpXG5dLCBXM21PblJhbXBBY3Rpdml0eVZpZXcpO1xuZXhwb3J0IHsgVzNtT25SYW1wQWN0aXZpdHlWaWV3IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3QgPiB3dWktZ3JpZCB7XG4gICAgbWF4LWhlaWdodDogMzYwcHg7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gIH1cblxuICB3dWktZmxleCB7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMSkgdmFyKC0td3VpLWR1cmF0aW9uLW1kKTtcbiAgICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgfVxuXG4gIHd1aS1ncmlkOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIHd1aS1mbGV4LmRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjM7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0IHsgQXNzZXRDb250cm9sbGVyLCBNb2RhbENvbnRyb2xsZXIsIE9uUmFtcENvbnRyb2xsZXIsIE9wdGlvbnNDb250cm9sbGVyLCBPcHRpb25zU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1saXN0LWl0ZW0nO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmltcG9ydCAnLi4vLi4vcGFydGlhbHMvdzNtLWxlZ2FsLWNoZWNrYm94L2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vcGFydGlhbHMvdzNtLWxlZ2FsLWZvb3Rlci9pbmRleC5qcyc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmxldCBXM21PbnJhbXBGaWF0U2VsZWN0VmlldyA9IGNsYXNzIFczbU9ucmFtcEZpYXRTZWxlY3RWaWV3IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEN1cnJlbmN5ID0gT25SYW1wQ29udHJvbGxlci5zdGF0ZS5wYXltZW50Q3VycmVuY3k7XG4gICAgICAgIHRoaXMuY3VycmVuY2llcyA9IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucGF5bWVudEN1cnJlbmNpZXM7XG4gICAgICAgIHRoaXMuY3VycmVuY3lJbWFnZXMgPSBBc3NldENvbnRyb2xsZXIuc3RhdGUuY3VycmVuY3lJbWFnZXM7XG4gICAgICAgIHRoaXMuY2hlY2tlZCA9IE9wdGlvbnNTdGF0ZUNvbnRyb2xsZXIuc3RhdGUuaXNMZWdhbENoZWNrYm94Q2hlY2tlZDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZS5wdXNoKC4uLltcbiAgICAgICAgICAgIE9uUmFtcENvbnRyb2xsZXIuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1cnJlbmN5ID0gdmFsLnBheW1lbnRDdXJyZW5jeTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbmNpZXMgPSB2YWwucGF5bWVudEN1cnJlbmNpZXM7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIEFzc2V0Q29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2N1cnJlbmN5SW1hZ2VzJywgdmFsID0+ICh0aGlzLmN1cnJlbmN5SW1hZ2VzID0gdmFsKSksXG4gICAgICAgICAgICBPcHRpb25zU3RhdGVDb250cm9sbGVyLnN1YnNjcmliZUtleSgnaXNMZWdhbENoZWNrYm94Q2hlY2tlZCcsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdmFsO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLmZvckVhY2godW5zdWJzY3JpYmUgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyB0ZXJtc0NvbmRpdGlvbnNVcmwsIHByaXZhY3lQb2xpY3lVcmwgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCBsZWdhbENoZWNrYm94ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LmxlZ2FsQ2hlY2tib3g7XG4gICAgICAgIGNvbnN0IGxlZ2FsVXJsID0gdGVybXNDb25kaXRpb25zVXJsIHx8IHByaXZhY3lQb2xpY3lVcmw7XG4gICAgICAgIGNvbnN0IHNob3dMZWdhbENoZWNrYm94ID0gQm9vbGVhbihsZWdhbFVybCkgJiYgQm9vbGVhbihsZWdhbENoZWNrYm94KTtcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBzaG93TGVnYWxDaGVja2JveCAmJiAhdGhpcy5jaGVja2VkO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8dzNtLWxlZ2FsLWNoZWNrYm94PjwvdzNtLWxlZ2FsLWNoZWNrYm94PlxuICAgICAgPHd1aS1mbGV4XG4gICAgICAgIGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIlxuICAgICAgICAucGFkZGluZz0ke1snMCcsICdzJywgJ3MnLCAncyddfVxuICAgICAgICBnYXA9XCJ4c1wiXG4gICAgICAgIGNsYXNzPSR7aWZEZWZpbmVkKGRpc2FibGVkID8gJ2Rpc2FibGVkJyA6IHVuZGVmaW5lZCl9XG4gICAgICA+XG4gICAgICAgICR7dGhpcy5jdXJyZW5jaWVzVGVtcGxhdGUoZGlzYWJsZWQpfVxuICAgICAgPC93dWktZmxleD5cbiAgICAgIDx3M20tbGVnYWwtZm9vdGVyPjwvdzNtLWxlZ2FsLWZvb3Rlcj5cbiAgICBgO1xuICAgIH1cbiAgICBjdXJyZW5jaWVzVGVtcGxhdGUoZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW5jaWVzLm1hcChjdXJyZW5jeSA9PiBodG1sIGBcbiAgICAgICAgPHd1aS1saXN0LWl0ZW1cbiAgICAgICAgICBpbWFnZVNyYz0ke2lmRGVmaW5lZCh0aGlzLmN1cnJlbmN5SW1hZ2VzPy5bY3VycmVuY3kuaWRdKX1cbiAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB0aGlzLnNlbGVjdEN1cnJlbmN5KGN1cnJlbmN5KX1cbiAgICAgICAgICB2YXJpYW50PVwiaW1hZ2VcIlxuICAgICAgICAgIHRhYklkeD0ke2lmRGVmaW5lZChkaXNhYmxlZCA/IC0xIDogdW5kZWZpbmVkKX1cbiAgICAgICAgPlxuICAgICAgICAgIDx3dWktdGV4dCB2YXJpYW50PVwicGFyYWdyYXBoLTUwMFwiIGNvbG9yPVwiZmctMTAwXCI+JHtjdXJyZW5jeS5pZH08L3d1aS10ZXh0PlxuICAgICAgICA8L3d1aS1saXN0LWl0ZW0+XG4gICAgICBgKTtcbiAgICB9XG4gICAgc2VsZWN0Q3VycmVuY3koY3VycmVuY3kpIHtcbiAgICAgICAgaWYgKCFjdXJyZW5jeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE9uUmFtcENvbnRyb2xsZXIuc2V0UGF5bWVudEN1cnJlbmN5KGN1cnJlbmN5KTtcbiAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfVxufTtcblczbU9ucmFtcEZpYXRTZWxlY3RWaWV3LnN0eWxlcyA9IHN0eWxlcztcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9ucmFtcEZpYXRTZWxlY3RWaWV3LnByb3RvdHlwZSwgXCJzZWxlY3RlZEN1cnJlbmN5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21PbnJhbXBGaWF0U2VsZWN0Vmlldy5wcm90b3R5cGUsIFwiY3VycmVuY2llc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wRmlhdFNlbGVjdFZpZXcucHJvdG90eXBlLCBcImN1cnJlbmN5SW1hZ2VzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21PbnJhbXBGaWF0U2VsZWN0Vmlldy5wcm90b3R5cGUsIFwiY2hlY2tlZFwiLCB2b2lkIDApO1xuVzNtT25yYW1wRmlhdFNlbGVjdFZpZXcgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3M20tb25yYW1wLWZpYXQtc2VsZWN0LXZpZXcnKVxuXSwgVzNtT25yYW1wRmlhdFNlbGVjdFZpZXcpO1xuZXhwb3J0IHsgVzNtT25yYW1wRmlhdFNlbGVjdFZpZXcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBjc3MgYFxuICBidXR0b24ge1xuICAgIHBhZGRpbmc6IHZhcigtLXd1aS1zcGFjaW5nLXMpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLXhzKTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDIpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgZ2FwOiB2YXIoLS13dWktc3BhY2luZy1zKTtcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIHZhcigtLXd1aS1lYXNlLW91dC1wb3dlci0xKSB2YXIoLS13dWktZHVyYXRpb24tbWQpO1xuICAgIHdpbGwtY2hhbmdlOiBiYWNrZ3JvdW5kLWNvbG9yO1xuICB9XG5cbiAgYnV0dG9uOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDUpO1xuICB9XG5cbiAgLnByb3ZpZGVyLWltYWdlIHtcbiAgICB3aWR0aDogdmFyKC0td3VpLXNwYWNpbmctM3hsKTtcbiAgICBtaW4td2lkdGg6IHZhcigtLXd1aS1zcGFjaW5nLTN4bCk7XG4gICAgaGVpZ2h0OiB2YXIoLS13dWktc3BhY2luZy0zeGwpO1xuICAgIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0td3VpLWJvcmRlci1yYWRpdXMteHMpIC0gY2FsYyh2YXIoLS13dWktc3BhY2luZy1zKSAvIDIpKTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5wcm92aWRlci1pbWFnZTo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgaW5zZXQ6IDA7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS13dWktYm9yZGVyLXJhZGl1cy14cykgLSBjYWxjKHZhcigtLXd1aS1zcGFjaW5nLXMpIC8gMikpO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDFweCB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDUpO1xuICB9XG5cbiAgLm5ldHdvcmstaWNvbiB7XG4gICAgd2lkdGg6IHZhcigtLXd1aS1zcGFjaW5nLW0pO1xuICAgIGhlaWdodDogdmFyKC0td3VpLXNwYWNpbmctbSk7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS13dWktc3BhY2luZy1tKSAvIDIpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgYm94LXNoYWRvdzpcbiAgICAgIDAgMCAwIDNweCB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDIpLFxuICAgICAgMCAwIDAgM3B4IHZhcigtLXd1aS1jb2xvci1tb2RhbC1iZyk7XG4gICAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMSkgdmFyKC0td3VpLWR1cmF0aW9uLW1kKTtcbiAgICB3aWxsLWNoYW5nZTogYm94LXNoYWRvdztcbiAgfVxuXG4gIGJ1dHRvbjpob3ZlciAubmV0d29yay1pY29uIHtcbiAgICBib3gtc2hhZG93OlxuICAgICAgMCAwIDAgM3B4IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwNSksXG4gICAgICAwIDAgMCAzcHggdmFyKC0td3VpLWNvbG9yLW1vZGFsLWJnKTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgaWZEZWZpbmVkIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvaWYtZGVmaW5lZC5qcyc7XG5pbXBvcnQgeyBBc3NldFV0aWwsIENoYWluQ29udHJvbGxlciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ0ByZW93bi9hcHBraXQtdWknO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1mbGV4JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktaWNvbic7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWltYWdlJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktbG9hZGluZy1zcGlubmVyJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktdGV4dCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXZpc3VhbCc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmxldCBXM21PblJhbXBQcm92aWRlckl0ZW0gPSBjbGFzcyBXM21PblJhbXBQcm92aWRlckl0ZW0gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbG9yID0gJ2luaGVyaXQnO1xuICAgICAgICB0aGlzLmxhYmVsID0gJyc7XG4gICAgICAgIHRoaXMuZmVlUmFuZ2UgPSAnJztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25DbGljayA9IG51bGw7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPGJ1dHRvbiA/ZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfSBAY2xpY2s9JHt0aGlzLm9uQ2xpY2t9IG9udG91Y2hzdGFydD5cbiAgICAgICAgPHd1aS12aXN1YWwgbmFtZT0ke2lmRGVmaW5lZCh0aGlzLm5hbWUpfSBjbGFzcz1cInByb3ZpZGVyLWltYWdlXCI+PC93dWktdmlzdWFsPlxuICAgICAgICA8d3VpLWZsZXggZmxleERpcmVjdGlvbj1cImNvbHVtblwiIGdhcD1cIjR4c1wiPlxuICAgICAgICAgIDx3dWktdGV4dCB2YXJpYW50PVwicGFyYWdyYXBoLTUwMFwiIGNvbG9yPVwiZmctMTAwXCI+JHt0aGlzLmxhYmVsfTwvd3VpLXRleHQ+XG4gICAgICAgICAgPHd1aS1mbGV4IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtc3RhcnRcIiBnYXA9XCJsXCI+XG4gICAgICAgICAgICA8d3VpLXRleHQgdmFyaWFudD1cInRpbnktNTAwXCIgY29sb3I9XCJmZy0xMDBcIj5cbiAgICAgICAgICAgICAgPHd1aS10ZXh0IHZhcmlhbnQ9XCJ0aW55LTQwMFwiIGNvbG9yPVwiZmctMjAwXCI+RmVlczwvd3VpLXRleHQ+XG4gICAgICAgICAgICAgICR7dGhpcy5mZWVSYW5nZX1cbiAgICAgICAgICAgIDwvd3VpLXRleHQ+XG4gICAgICAgICAgICA8d3VpLWZsZXggZ2FwPVwieHhzXCI+XG4gICAgICAgICAgICAgIDx3dWktaWNvbiBuYW1lPVwiYmFua1wiIHNpemU9XCJ4c1wiIGNvbG9yPVwiZmctMTUwXCI+PC93dWktaWNvbj5cbiAgICAgICAgICAgICAgPHd1aS1pY29uIG5hbWU9XCJjYXJkXCIgc2l6ZT1cInhzXCIgY29sb3I9XCJmZy0xNTBcIj48L3d1aS1pY29uPlxuICAgICAgICAgICAgPC93dWktZmxleD5cbiAgICAgICAgICAgICR7dGhpcy5uZXR3b3Jrc1RlbXBsYXRlKCl9XG4gICAgICAgICAgPC93dWktZmxleD5cbiAgICAgICAgPC93dWktZmxleD5cbiAgICAgICAgJHt0aGlzLmxvYWRpbmdcbiAgICAgICAgICAgID8gaHRtbCBgPHd1aS1sb2FkaW5nLXNwaW5uZXIgY29sb3I9XCJmZy0yMDBcIiBzaXplPVwibWRcIj48L3d1aS1sb2FkaW5nLXNwaW5uZXI+YFxuICAgICAgICAgICAgOiBodG1sIGA8d3VpLWljb24gbmFtZT1cImNoZXZyb25SaWdodFwiIGNvbG9yPVwiZmctMjAwXCIgc2l6ZT1cInNtXCI+PC93dWktaWNvbj5gfVxuICAgICAgPC9idXR0b24+XG4gICAgYDtcbiAgICB9XG4gICAgbmV0d29ya3NUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBzbGljZWROZXR3b3JrcyA9IHJlcXVlc3RlZENhaXBOZXR3b3Jrc1xuICAgICAgICAgICAgPy5maWx0ZXIobmV0d29yayA9PiBuZXR3b3JrPy5hc3NldHM/LmltYWdlSWQpXG4gICAgICAgICAgICA/LnNsaWNlKDAsIDUpO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWZsZXggY2xhc3M9XCJuZXR3b3Jrc1wiPlxuICAgICAgICAke3NsaWNlZE5ldHdvcmtzPy5tYXAobmV0d29yayA9PiBodG1sIGBcbiAgICAgICAgICAgIDx3dWktZmxleCBjbGFzcz1cIm5ldHdvcmstaWNvblwiPlxuICAgICAgICAgICAgICA8d3VpLWltYWdlIHNyYz0ke2lmRGVmaW5lZChBc3NldFV0aWwuZ2V0TmV0d29ya0ltYWdlKG5ldHdvcmspKX0+PC93dWktaW1hZ2U+XG4gICAgICAgICAgICA8L3d1aS1mbGV4PlxuICAgICAgICAgIGApfVxuICAgICAgPC93dWktZmxleD5cbiAgICBgO1xuICAgIH1cbn07XG5XM21PblJhbXBQcm92aWRlckl0ZW0uc3R5bGVzID0gW3N0eWxlc107XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFczbU9uUmFtcFByb3ZpZGVySXRlbS5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcFByb3ZpZGVySXRlbS5wcm90b3R5cGUsIFwiY29sb3JcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcFByb3ZpZGVySXRlbS5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgVzNtT25SYW1wUHJvdmlkZXJJdGVtLnByb3RvdHlwZSwgXCJsYWJlbFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgVzNtT25SYW1wUHJvdmlkZXJJdGVtLnByb3RvdHlwZSwgXCJmZWVSYW5nZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXM21PblJhbXBQcm92aWRlckl0ZW0ucHJvdG90eXBlLCBcImxvYWRpbmdcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KClcbl0sIFczbU9uUmFtcFByb3ZpZGVySXRlbS5wcm90b3R5cGUsIFwib25DbGlja1wiLCB2b2lkIDApO1xuVzNtT25SYW1wUHJvdmlkZXJJdGVtID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndzNtLW9ucmFtcC1wcm92aWRlci1pdGVtJylcbl0sIFczbU9uUmFtcFByb3ZpZGVySXRlbSk7XG5leHBvcnQgeyBXM21PblJhbXBQcm92aWRlckl0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGNzcyB9IGZyb20gJ2xpdCc7XG5leHBvcnQgZGVmYXVsdCBjc3MgYFxuICB3dWktZmxleCB7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwNSk7XG4gIH1cblxuICBhIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgY29sb3I6IHZhcigtLXd1aS1jb2xvci1mZy0xNzUpO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGdhcDogdmFyKC0td3VpLXNwYWNpbmctM3hzKTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IEFjY291bnRDb250cm9sbGVyLCBDaGFpbkNvbnRyb2xsZXIsIEV2ZW50c0NvbnRyb2xsZXIsIE9wdGlvbnNDb250cm9sbGVyLCBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1pY29uJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktbGluayc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXRleHQnO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmxldCBXM21PblJhbXBQcm92aWRlcnNGb290ZXIgPSBjbGFzcyBXM21PblJhbXBQcm92aWRlcnNGb290ZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgdGVybXNDb25kaXRpb25zVXJsLCBwcml2YWN5UG9saWN5VXJsIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgaWYgKCF0ZXJtc0NvbmRpdGlvbnNVcmwgJiYgIXByaXZhY3lQb2xpY3lVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDx3dWktZmxleFxuICAgICAgICAucGFkZGluZz0ke1snbScsICdzJywgJ3MnLCAncyddfVxuICAgICAgICBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCJcbiAgICAgICAgZ2FwPVwic1wiXG4gICAgICA+XG4gICAgICAgIDx3dWktdGV4dCBjb2xvcj1cImZnLTI1MFwiIHZhcmlhbnQ9XCJzbWFsbC00MDBcIiBhbGlnbj1cImNlbnRlclwiPlxuICAgICAgICAgIFdlIHdvcmsgd2l0aCB0aGUgYmVzdCBwcm92aWRlcnMgdG8gZ2l2ZSB5b3UgdGhlIGxvd2VzdCBmZWVzIGFuZCBiZXN0IHN1cHBvcnQuIE1vcmUgb3B0aW9uc1xuICAgICAgICAgIGNvbWluZyBzb29uIVxuICAgICAgICA8L3d1aS10ZXh0PlxuXG4gICAgICAgICR7dGhpcy5ob3dEb2VzSXRXb3JrVGVtcGxhdGUoKX1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgYDtcbiAgICB9XG4gICAgaG93RG9lc0l0V29ya1RlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgIDx3dWktbGluayBAY2xpY2s9JHt0aGlzLm9uV2hhdElzQnV5LmJpbmQodGhpcyl9PlxuICAgICAgPHd1aS1pY29uIHNpemU9XCJ4c1wiIGNvbG9yPVwiYWNjZW50LTEwMFwiIHNsb3Q9XCJpY29uTGVmdFwiIG5hbWU9XCJoZWxwQ2lyY2xlXCI+PC93dWktaWNvbj5cbiAgICAgIEhvdyBkb2VzIGl0IHdvcms/XG4gICAgPC93dWktbGluaz5gO1xuICAgIH1cbiAgICBvbldoYXRJc0J1eSgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2hhaW5OYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ1NFTEVDVF9XSEFUX0lTX0FfQlVZJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogQWNjb3VudENvbnRyb2xsZXIuc3RhdGUucHJlZmVycmVkQWNjb3VudFR5cGVzPy5bYWN0aXZlQ2hhaW5OYW1lc3BhY2VdID09PVxuICAgICAgICAgICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnV2hhdElzQUJ1eScpO1xuICAgIH1cbn07XG5XM21PblJhbXBQcm92aWRlcnNGb290ZXIuc3R5bGVzID0gW3N0eWxlc107XG5XM21PblJhbXBQcm92aWRlcnNGb290ZXIgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3M20tb25yYW1wLXByb3ZpZGVycy1mb290ZXInKVxuXSwgVzNtT25SYW1wUHJvdmlkZXJzRm9vdGVyKTtcbmV4cG9ydCB7IFczbU9uUmFtcFByb3ZpZGVyc0Zvb3RlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IEFjY291bnRDb250cm9sbGVyLCBCbG9ja2NoYWluQXBpQ29udHJvbGxlciwgQ2hhaW5Db250cm9sbGVyLCBDb25zdGFudHNVdGlsLCBDb3JlSGVscGVyVXRpbCwgRXZlbnRzQ29udHJvbGxlciwgT25SYW1wQ29udHJvbGxlciwgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ0ByZW93bi9hcHBraXQtdWknO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1mbGV4JztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi9wYXJ0aWFscy93M20tb25yYW1wLXByb3ZpZGVyLWl0ZW0vaW5kZXguanMnO1xuaW1wb3J0ICcuLi8uLi9wYXJ0aWFscy93M20tb25yYW1wLXByb3ZpZGVycy1mb290ZXIvaW5kZXguanMnO1xubGV0IFczbU9uUmFtcFByb3ZpZGVyc1ZpZXcgPSBjbGFzcyBXM21PblJhbXBQcm92aWRlcnNWaWV3IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBbXTtcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBPblJhbXBDb250cm9sbGVyLnN0YXRlLnByb3ZpZGVycztcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZS5wdXNoKC4uLltcbiAgICAgICAgICAgIE9uUmFtcENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdwcm92aWRlcnMnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzID0gdmFsO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgICAgY29uc3QgdXJsUHJvbWlzZXMgPSB0aGlzLnByb3ZpZGVycy5tYXAoYXN5bmMgKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubmFtZSA9PT0gJ2NvaW5iYXNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldENvaW5iYXNlT25SYW1wVVJMKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb3ZpZGVyPy51cmwpO1xuICAgICAgICB9KTtcbiAgICAgICAgUHJvbWlzZS5hbGwodXJsUHJvbWlzZXMpLnRoZW4odXJscyA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVycyA9IHRoaXMucHJvdmlkZXJzLm1hcCgocHJvdmlkZXIsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIHVybDogdXJsc1tpbmRleF0gfHwgJydcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHd1aS1mbGV4IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIiAucGFkZGluZz0ke1snMCcsICdzJywgJ3MnLCAncyddfSBnYXA9XCJ4c1wiPlxuICAgICAgICAke3RoaXMub25SYW1wUHJvdmlkZXJzVGVtcGxhdGUoKX1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgICA8dzNtLW9ucmFtcC1wcm92aWRlcnMtZm9vdGVyPjwvdzNtLW9ucmFtcC1wcm92aWRlcnMtZm9vdGVyPlxuICAgIGA7XG4gICAgfVxuICAgIG9uUmFtcFByb3ZpZGVyc1RlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNcbiAgICAgICAgICAgIC5maWx0ZXIocHJvdmlkZXIgPT4gcHJvdmlkZXIuc3VwcG9ydGVkQ2hhaW5zLmluY2x1ZGVzKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbiA/PyAnZWlwMTU1JykpXG4gICAgICAgICAgICAubWFwKHByb3ZpZGVyID0+IGh0bWwgYFxuICAgICAgICAgIDx3M20tb25yYW1wLXByb3ZpZGVyLWl0ZW1cbiAgICAgICAgICAgIGxhYmVsPSR7cHJvdmlkZXIubGFiZWx9XG4gICAgICAgICAgICBuYW1lPSR7cHJvdmlkZXIubmFtZX1cbiAgICAgICAgICAgIGZlZVJhbmdlPSR7cHJvdmlkZXIuZmVlUmFuZ2V9XG4gICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2tQcm92aWRlcihwcm92aWRlcik7XG4gICAgICAgIH19XG4gICAgICAgICAgICA/ZGlzYWJsZWQ9JHshcHJvdmlkZXIudXJsfVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9JHtgb25yYW1wLXByb3ZpZGVyLSR7cHJvdmlkZXIubmFtZX1gfVxuICAgICAgICAgID48L3czbS1vbnJhbXAtcHJvdmlkZXItaXRlbT5cbiAgICAgICAgYCk7XG4gICAgfVxuICAgIG9uQ2xpY2tQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICBjb25zdCBhY3RpdmVDaGFpbk5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgT25SYW1wQ29udHJvbGxlci5zZXRTZWxlY3RlZFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdCdXlJblByb2dyZXNzJyk7XG4gICAgICAgIENvcmVIZWxwZXJVdGlsLm9wZW5IcmVmKHByb3ZpZGVyLnVybCwgJ3BvcHVwV2luZG93JywgJ3dpZHRoPTYwMCxoZWlnaHQ9ODAwLHNjcm9sbGJhcnM9eWVzJyk7XG4gICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICBldmVudDogJ1NFTEVDVF9CVVlfUFJPVklERVInLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlci5uYW1lLFxuICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBBY2NvdW50Q29udHJvbGxlci5zdGF0ZS5wcmVmZXJyZWRBY2NvdW50VHlwZXM/LlthY3RpdmVDaGFpbk5hbWVzcGFjZV0gPT09XG4gICAgICAgICAgICAgICAgICAgIFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q29pbmJhc2VPblJhbXBVUkwoKSB7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBBY2NvdW50Q29udHJvbGxlci5zdGF0ZS5hZGRyZXNzO1xuICAgICAgICBjb25zdCBuZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWRkcmVzcyBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV0d29yaz8ubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBuZXR3b3JrIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmYXVsdE5ldHdvcmsgPSBDb25zdGFudHNVdGlsLldDX0NPSU5CQVNFX1BBWV9TREtfQ0hBSU5fTkFNRV9NQVBbbmV0d29yay5uYW1lXSA/PyBDb25zdGFudHNVdGlsLldDX0NPSU5CQVNFX1BBWV9TREtfRkFMTEJBQ0tfQ0hBSU47XG4gICAgICAgIGNvbnN0IHB1cmNoYXNlQ3VycmVuY3kgPSBPblJhbXBDb250cm9sbGVyLnN0YXRlLnB1cmNoYXNlQ3VycmVuY3k7XG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IHB1cmNoYXNlQ3VycmVuY3lcbiAgICAgICAgICAgID8gW3B1cmNoYXNlQ3VycmVuY3kuc3ltYm9sXVxuICAgICAgICAgICAgOiBPblJhbXBDb250cm9sbGVyLnN0YXRlLnB1cmNoYXNlQ3VycmVuY2llcy5tYXAoY3VycmVuY3kgPT4gY3VycmVuY3kuc3ltYm9sKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdlbmVyYXRlT25SYW1wVVJMKHtcbiAgICAgICAgICAgIGRlZmF1bHROZXR3b3JrLFxuICAgICAgICAgICAgZGVzdGluYXRpb25XYWxsZXRzOiBbXG4gICAgICAgICAgICAgICAgeyBhZGRyZXNzLCBibG9ja2NoYWluczogQ29uc3RhbnRzVXRpbC5XQ19DT0lOQkFTRV9QQVlfU0RLX0NIQUlOUywgYXNzZXRzIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBwYXJ0bmVyVXNlcklkOiBhZGRyZXNzLFxuICAgICAgICAgICAgcHVyY2hhc2VBbW91bnQ6IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucHVyY2hhc2VBbW91bnRcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9uUmFtcFByb3ZpZGVyc1ZpZXcucHJvdG90eXBlLCBcInByb3ZpZGVyc1wiLCB2b2lkIDApO1xuVzNtT25SYW1wUHJvdmlkZXJzVmlldyA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS1vbnJhbXAtcHJvdmlkZXJzLXZpZXcnKVxuXSwgVzNtT25SYW1wUHJvdmlkZXJzVmlldyk7XG5leHBvcnQgeyBXM21PblJhbXBQcm92aWRlcnNWaWV3IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgOmhvc3QgPiB3dWktZ3JpZCB7XG4gICAgbWF4LWhlaWdodDogMzYwcHg7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gIH1cblxuICB3dWktZmxleCB7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMSkgdmFyKC0td3VpLWR1cmF0aW9uLW1kKTtcbiAgICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgfVxuXG4gIHd1aS1ncmlkOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIHd1aS1mbGV4LmRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjM7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIH1cbmA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZXMuanMubWFwIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0IHsgQXNzZXRDb250cm9sbGVyLCBNb2RhbENvbnRyb2xsZXIsIE9uUmFtcENvbnRyb2xsZXIsIE9wdGlvbnNDb250cm9sbGVyLCBPcHRpb25zU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1saXN0LWl0ZW0nO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmltcG9ydCAnLi4vLi4vcGFydGlhbHMvdzNtLWxlZ2FsLWNoZWNrYm94L2luZGV4LmpzJztcbmltcG9ydCAnLi4vLi4vcGFydGlhbHMvdzNtLWxlZ2FsLWZvb3Rlci9pbmRleC5qcyc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGVzLmpzJztcbmxldCBXM21PbnJhbXBUb2tlbnNWaWV3ID0gY2xhc3MgVzNtT25yYW1wVG9rZW5zVmlldyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gW107XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDdXJyZW5jeSA9IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucHVyY2hhc2VDdXJyZW5jaWVzO1xuICAgICAgICB0aGlzLnRva2VucyA9IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucHVyY2hhc2VDdXJyZW5jaWVzO1xuICAgICAgICB0aGlzLnRva2VuSW1hZ2VzID0gQXNzZXRDb250cm9sbGVyLnN0YXRlLnRva2VuSW1hZ2VzO1xuICAgICAgICB0aGlzLmNoZWNrZWQgPSBPcHRpb25zU3RhdGVDb250cm9sbGVyLnN0YXRlLmlzTGVnYWxDaGVja2JveENoZWNrZWQ7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUucHVzaCguLi5bXG4gICAgICAgICAgICBPblJhbXBDb250cm9sbGVyLnN1YnNjcmliZSh2YWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDdXJyZW5jeSA9IHZhbC5wdXJjaGFzZUN1cnJlbmNpZXM7XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbnMgPSB2YWwucHVyY2hhc2VDdXJyZW5jaWVzO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBBc3NldENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCd0b2tlbkltYWdlcycsIHZhbCA9PiAodGhpcy50b2tlbkltYWdlcyA9IHZhbCkpLFxuICAgICAgICAgICAgT3B0aW9uc1N0YXRlQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2lzTGVnYWxDaGVja2JveENoZWNrZWQnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHZhbDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZS5mb3JFYWNoKHVuc3Vic2NyaWJlID0+IHVuc3Vic2NyaWJlKCkpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgdGVybXNDb25kaXRpb25zVXJsLCBwcml2YWN5UG9saWN5VXJsIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgbGVnYWxDaGVja2JveCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5sZWdhbENoZWNrYm94O1xuICAgICAgICBjb25zdCBsZWdhbFVybCA9IHRlcm1zQ29uZGl0aW9uc1VybCB8fCBwcml2YWN5UG9saWN5VXJsO1xuICAgICAgICBjb25zdCBzaG93TGVnYWxDaGVja2JveCA9IEJvb2xlYW4obGVnYWxVcmwpICYmIEJvb2xlYW4obGVnYWxDaGVja2JveCk7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gc2hvd0xlZ2FsQ2hlY2tib3ggJiYgIXRoaXMuY2hlY2tlZDtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHczbS1sZWdhbC1jaGVja2JveD48L3czbS1sZWdhbC1jaGVja2JveD5cbiAgICAgIDx3dWktZmxleFxuICAgICAgICBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgLnBhZGRpbmc9JHtbJzAnLCAncycsICdzJywgJ3MnXX1cbiAgICAgICAgZ2FwPVwieHNcIlxuICAgICAgICBjbGFzcz0ke2lmRGVmaW5lZChkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiB1bmRlZmluZWQpfVxuICAgICAgPlxuICAgICAgICAke3RoaXMuY3VycmVuY2llc1RlbXBsYXRlKGRpc2FibGVkKX1cbiAgICAgIDwvd3VpLWZsZXg+XG4gICAgICA8dzNtLWxlZ2FsLWZvb3Rlcj48L3czbS1sZWdhbC1mb290ZXI+XG4gICAgYDtcbiAgICB9XG4gICAgY3VycmVuY2llc1RlbXBsYXRlKGRpc2FibGVkID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5zLm1hcCh0b2tlbiA9PiBodG1sIGBcbiAgICAgICAgPHd1aS1saXN0LWl0ZW1cbiAgICAgICAgICBpbWFnZVNyYz0ke2lmRGVmaW5lZCh0aGlzLnRva2VuSW1hZ2VzPy5bdG9rZW4uc3ltYm9sXSl9XG4gICAgICAgICAgQGNsaWNrPSR7KCkgPT4gdGhpcy5zZWxlY3RUb2tlbih0b2tlbil9XG4gICAgICAgICAgdmFyaWFudD1cImltYWdlXCJcbiAgICAgICAgICB0YWJJZHg9JHtpZkRlZmluZWQoZGlzYWJsZWQgPyAtMSA6IHVuZGVmaW5lZCl9XG4gICAgICAgID5cbiAgICAgICAgICA8d3VpLWZsZXggZ2FwPVwiM3hzXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgPHd1aS10ZXh0IHZhcmlhbnQ9XCJwYXJhZ3JhcGgtNTAwXCIgY29sb3I9XCJmZy0xMDBcIj4ke3Rva2VuLm5hbWV9PC93dWktdGV4dD5cbiAgICAgICAgICAgIDx3dWktdGV4dCB2YXJpYW50PVwic21hbGwtNDAwXCIgY29sb3I9XCJmZy0yMDBcIj4ke3Rva2VuLnN5bWJvbH08L3d1aS10ZXh0PlxuICAgICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgIDwvd3VpLWxpc3QtaXRlbT5cbiAgICAgIGApO1xuICAgIH1cbiAgICBzZWxlY3RUb2tlbihjdXJyZW5jeSkge1xuICAgICAgICBpZiAoIWN1cnJlbmN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgT25SYW1wQ29udHJvbGxlci5zZXRQdXJjaGFzZUN1cnJlbmN5KGN1cnJlbmN5KTtcbiAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfVxufTtcblczbU9ucmFtcFRva2Vuc1ZpZXcuc3R5bGVzID0gc3R5bGVzO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wVG9rZW5zVmlldy5wcm90b3R5cGUsIFwic2VsZWN0ZWRDdXJyZW5jeVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wVG9rZW5zVmlldy5wcm90b3R5cGUsIFwidG9rZW5zXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21PbnJhbXBUb2tlbnNWaWV3LnByb3RvdHlwZSwgXCJ0b2tlbkltYWdlc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wVG9rZW5zVmlldy5wcm90b3R5cGUsIFwiY2hlY2tlZFwiLCB2b2lkIDApO1xuVzNtT25yYW1wVG9rZW5zVmlldyA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS1vbnJhbXAtdG9rZW4tc2VsZWN0LXZpZXcnKVxuXSwgVzNtT25yYW1wVG9rZW5zVmlldyk7XG5leHBvcnQgeyBXM21PbnJhbXBUb2tlbnNWaWV3IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgY3NzIGBcbiAgQGtleWZyYW1lcyBzaGFrZSB7XG4gICAgMCUge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xuICAgIH1cbiAgICAyNSUge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDNweCk7XG4gICAgfVxuICAgIDUwJSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTNweCk7XG4gICAgfVxuICAgIDc1JSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoM3B4KTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7XG4gICAgfVxuICB9XG5cbiAgd3VpLWZsZXg6Zmlyc3QtY2hpbGQ6bm90KDpvbmx5LWNoaWxkKSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbiAgd3VpLWxvYWRpbmctdGh1bWJuYWlsIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIH1cblxuICB3dWktdmlzdWFsIHtcbiAgICB3aWR0aDogdmFyKC0td3VpLXdhbGxldC1pbWFnZS1zaXplLWxnKTtcbiAgICBoZWlnaHQ6IHZhcigtLXd1aS13YWxsZXQtaW1hZ2Utc2l6ZS1sZyk7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS13dWktYm9yZGVyLXJhZGl1cy01eHMpICogOSAtIHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLXh4cykpO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbiAgd3VpLXZpc3VhbDo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgaW5zZXQ6IDA7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS13dWktYm9yZGVyLXJhZGl1cy01eHMpICogOSAtIHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLXh4cykpO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDFweCB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDUpO1xuICB9XG5cbiAgd3VpLWljb24tYm94IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IGNhbGModmFyKC0td3VpLXNwYWNpbmctM3hzKSAqIC0xKTtcbiAgICBib3R0b206IGNhbGModmFyKC0td3VpLXNwYWNpbmctM3hzKSAqIC0xKTtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcbiAgICB0cmFuc2l0aW9uOlxuICAgICAgb3BhY2l0eSB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMikgdmFyKC0td3VpLWR1cmF0aW9uLWxnKSxcbiAgICAgIHRyYW5zZm9ybSB2YXIoLS13dWktZWFzZS1vdXQtcG93ZXItMikgdmFyKC0td3VpLWR1cmF0aW9uLWxnKTtcbiAgICB3aWxsLWNoYW5nZTogb3BhY2l0eSwgdHJhbnNmb3JtO1xuICB9XG5cbiAgd3VpLXRleHRbYWxpZ249J2NlbnRlciddIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAwcHggdmFyKC0td3VpLXNwYWNpbmctbCk7XG4gIH1cblxuICBbZGF0YS1lcnJvcj0ndHJ1ZSddIHd1aS1pY29uLWJveCB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICB9XG5cbiAgW2RhdGEtZXJyb3I9J3RydWUnXSA+IHd1aS1mbGV4OmZpcnN0LWNoaWxkIHtcbiAgICBhbmltYXRpb246IHNoYWtlIDI1MG1zIGN1YmljLWJlemllcigwLjM2LCAwLjA3LCAwLjE5LCAwLjk3KSBib3RoO1xuICB9XG5cbiAgW2RhdGEtcmV0cnk9J2ZhbHNlJ10gd3VpLWxpbmsge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICBbZGF0YS1yZXRyeT0ndHJ1ZSddIHd1aS1saW5rIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBvcGFjaXR5OiAxO1xuICB9XG5cbiAgd3VpLWxpbmsge1xuICAgIHBhZGRpbmc6IHZhcigtLXd1aS1zcGFjaW5nLTR4cykgdmFyKC0td3VpLXNwYWNpbmcteHhzKTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0IHsgQWNjb3VudENvbnRyb2xsZXIsIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLCBDb25uZWN0aW9uQ29udHJvbGxlciwgQ29yZUhlbHBlclV0aWwsIE9uUmFtcENvbnRyb2xsZXIsIFJvdXRlckNvbnRyb2xsZXIsIFNuYWNrQ29udHJvbGxlciwgVGhlbWVDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWJ1dHRvbic7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1pY29uJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktaWNvbi1ib3gnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1saW5rJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktbG9hZGluZy10aHVtYm5haWwnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS10ZXh0JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktdmlzdWFsJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xubGV0IFczbUJ1eUluUHJvZ3Jlc3NWaWV3ID0gY2xhc3MgVzNtQnV5SW5Qcm9ncmVzc1ZpZXcgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IFtdO1xuICAgICAgICB0aGlzLnNlbGVjdGVkT25SYW1wUHJvdmlkZXIgPSBPblJhbXBDb250cm9sbGVyLnN0YXRlLnNlbGVjdGVkUHJvdmlkZXI7XG4gICAgICAgIHRoaXMudXJpID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUud2NVcmk7XG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93UmV0cnkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idWZmZXJpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vblJldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goLi4uW1xuICAgICAgICAgICAgT25SYW1wQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ3NlbGVjdGVkUHJvdmlkZXInLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlciA9IHZhbDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLndhdGNoVHJhbnNhY3Rpb25zKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgbGFiZWwgPSAnQ29udGludWUgaW4gZXh0ZXJuYWwgd2luZG93JztcbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIGxhYmVsID0gJ0J1eSBmYWlsZWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlcikge1xuICAgICAgICAgICAgbGFiZWwgPSBgQnV5IGluICR7dGhpcy5zZWxlY3RlZE9uUmFtcFByb3ZpZGVyPy5sYWJlbH1gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1YkxhYmVsID0gdGhpcy5lcnJvclxuICAgICAgICAgICAgPyAnQnV5IGNhbiBiZSBkZWNsaW5lZCBmcm9tIHlvdXIgc2lkZSBvciBkdWUgdG8gYW5kIGVycm9yIG9uIHRoZSBwcm92aWRlciBhcHAnXG4gICAgICAgICAgICA6IGBXZeKAmWxsIG5vdGlmeSB5b3Ugb25jZSB5b3VyIEJ1eSBpcyBwcm9jZXNzZWRgO1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8d3VpLWZsZXhcbiAgICAgICAgZGF0YS1lcnJvcj0ke2lmRGVmaW5lZCh0aGlzLmVycm9yKX1cbiAgICAgICAgZGF0YS1yZXRyeT0ke3RoaXMuc2hvd1JldHJ5fVxuICAgICAgICBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIC5wYWRkaW5nPSR7WyczeGwnLCAneGwnLCAneGwnLCAneGwnXX1cbiAgICAgICAgZ2FwPVwieGxcIlxuICAgICAgPlxuICAgICAgICA8d3VpLWZsZXgganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgPHd1aS12aXN1YWxcbiAgICAgICAgICAgIG5hbWU9JHtpZkRlZmluZWQodGhpcy5zZWxlY3RlZE9uUmFtcFByb3ZpZGVyPy5uYW1lKX1cbiAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICBjbGFzcz1cInByb3ZpZGVyLWltYWdlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgPC93dWktdmlzdWFsPlxuXG4gICAgICAgICAgJHt0aGlzLmVycm9yID8gbnVsbCA6IHRoaXMubG9hZGVyVGVtcGxhdGUoKX1cblxuICAgICAgICAgIDx3dWktaWNvbi1ib3hcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcj1cImVycm9yLTEwMFwiXG4gICAgICAgICAgICBiYWNrZ3JvdW5kPVwib3BhcXVlXCJcbiAgICAgICAgICAgIGljb25Db2xvcj1cImVycm9yLTEwMFwiXG4gICAgICAgICAgICBpY29uPVwiY2xvc2VcIlxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIGJvcmRlclxuICAgICAgICAgICAgYm9yZGVyQ29sb3I9XCJ3dWktY29sb3ItYmctMTI1XCJcbiAgICAgICAgICA+PC93dWktaWNvbi1ib3g+XG4gICAgICAgIDwvd3VpLWZsZXg+XG5cbiAgICAgICAgPHd1aS1mbGV4IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgZ2FwPVwieHNcIj5cbiAgICAgICAgICA8d3VpLXRleHQgdmFyaWFudD1cInBhcmFncmFwaC01MDBcIiBjb2xvcj0ke3RoaXMuZXJyb3IgPyAnZXJyb3ItMTAwJyA6ICdmZy0xMDAnfT5cbiAgICAgICAgICAgICR7bGFiZWx9XG4gICAgICAgICAgPC93dWktdGV4dD5cbiAgICAgICAgICA8d3VpLXRleHQgYWxpZ249XCJjZW50ZXJcIiB2YXJpYW50PVwic21hbGwtNTAwXCIgY29sb3I9XCJmZy0yMDBcIj4ke3N1YkxhYmVsfTwvd3VpLXRleHQ+XG4gICAgICAgIDwvd3VpLWZsZXg+XG5cbiAgICAgICAgJHt0aGlzLmVycm9yID8gdGhpcy50cnlBZ2FpblRlbXBsYXRlKCkgOiBudWxsfVxuICAgICAgPC93dWktZmxleD5cblxuICAgICAgPHd1aS1mbGV4IC5wYWRkaW5nPSR7WycwJywgJ3hsJywgJ3hsJywgJ3hsJ119IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCI+XG4gICAgICAgIDx3dWktbGluayBAY2xpY2s9JHt0aGlzLm9uQ29weVVyaX0gY29sb3I9XCJmZy0yMDBcIj5cbiAgICAgICAgICA8d3VpLWljb24gc2l6ZT1cInhzXCIgY29sb3I9XCJmZy0yMDBcIiBzbG90PVwiaWNvbkxlZnRcIiBuYW1lPVwiY29weVwiPjwvd3VpLWljb24+XG4gICAgICAgICAgQ29weSBsaW5rXG4gICAgICAgIDwvd3VpLWxpbms+XG4gICAgICA8L3d1aS1mbGV4PlxuICAgIGA7XG4gICAgfVxuICAgIHdhdGNoVHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZE9uUmFtcFByb3ZpZGVyLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NvaW5iYXNlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29pbmJhc2VUcmFuc2FjdGlvbnMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgaW5pdGlhbGl6ZUNvaW5iYXNlVHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBhd2FpdCB0aGlzLndhdGNoQ29pbmJhc2VUcmFuc2FjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy53YXRjaENvaW5iYXNlVHJhbnNhY3Rpb25zKCksIDQwMDApO1xuICAgIH1cbiAgICBhc3luYyB3YXRjaENvaW5iYXNlVHJhbnNhY3Rpb25zKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IEFjY291bnRDb250cm9sbGVyLnN0YXRlLmFkZHJlc3M7XG4gICAgICAgICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFkZHJlc3MgZm91bmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvaW5iYXNlUmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5mZXRjaFRyYW5zYWN0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWNjb3VudDogYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBvbnJhbXA6ICdjb2luYmFzZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbmV3VHJhbnNhY3Rpb25zID0gY29pbmJhc2VSZXNwb25zZS5kYXRhLmZpbHRlcih0eCA9PiBuZXcgRGF0ZSh0eC5tZXRhZGF0YS5taW5lZEF0KSA+IG5ldyBEYXRlKHRoaXMuc3RhcnRUaW1lKSB8fFxuICAgICAgICAgICAgICAgIHR4Lm1ldGFkYXRhLnN0YXR1cyA9PT0gJ09OUkFNUF9UUkFOU0FDVElPTl9TVEFUVVNfSU5fUFJPR1JFU1MnKTtcbiAgICAgICAgICAgIGlmIChuZXdUcmFuc2FjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnT25SYW1wQWN0aXZpdHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnRUaW1lICYmIERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZSA+PSAxODBfMDAwKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25UcnlBZ2FpbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkT25SYW1wUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVycm9yID0gZmFsc2U7XG4gICAgICAgIENvcmVIZWxwZXJVdGlsLm9wZW5IcmVmKHRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlci51cmwsICdwb3B1cFdpbmRvdycsICd3aWR0aD02MDAsaGVpZ2h0PTgwMCxzY3JvbGxiYXJzPXllcycpO1xuICAgIH1cbiAgICB0cnlBZ2FpblRlbXBsYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRPblJhbXBQcm92aWRlcj8udXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1idXR0b24gc2l6ZT1cIm1kXCIgdmFyaWFudD1cImFjY2VudFwiIEBjbGljaz0ke3RoaXMub25UcnlBZ2Fpbi5iaW5kKHRoaXMpfT5cbiAgICAgIDx3dWktaWNvbiBjb2xvcj1cImluaGVyaXRcIiBzbG90PVwiaWNvbkxlZnRcIiBuYW1lPVwicmVmcmVzaFwiPjwvd3VpLWljb24+XG4gICAgICBUcnkgYWdhaW5cbiAgICA8L3d1aS1idXR0b24+YDtcbiAgICB9XG4gICAgbG9hZGVyVGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IGJvcmRlclJhZGl1c01hc3RlciA9IFRoZW1lQ29udHJvbGxlci5zdGF0ZS50aGVtZVZhcmlhYmxlc1snLS13M20tYm9yZGVyLXJhZGl1cy1tYXN0ZXInXTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gYm9yZGVyUmFkaXVzTWFzdGVyID8gcGFyc2VJbnQoYm9yZGVyUmFkaXVzTWFzdGVyLnJlcGxhY2UoJ3B4JywgJycpLCAxMCkgOiA0O1xuICAgICAgICByZXR1cm4gaHRtbCBgPHd1aS1sb2FkaW5nLXRodW1ibmFpbCByYWRpdXM9JHtyYWRpdXMgKiA5fT48L3d1aS1sb2FkaW5nLXRodW1ibmFpbD5gO1xuICAgIH1cbiAgICBvbkNvcHlVcmkoKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE9uUmFtcFByb3ZpZGVyPy51cmwpIHtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ05vIGxpbmsgZm91bmQnKTtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIENvcmVIZWxwZXJVdGlsLmNvcHlUb0Nsb3Bib2FyZCh0aGlzLnNlbGVjdGVkT25SYW1wUHJvdmlkZXIudXJsKTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93U3VjY2VzcygnTGluayBjb3BpZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gY29weScpO1xuICAgICAgICB9XG4gICAgfVxufTtcblczbUJ1eUluUHJvZ3Jlc3NWaWV3LnN0eWxlcyA9IHN0eWxlcztcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbUJ1eUluUHJvZ3Jlc3NWaWV3LnByb3RvdHlwZSwgXCJpbnRlcnZhbElkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21CdXlJblByb2dyZXNzVmlldy5wcm90b3R5cGUsIFwic2VsZWN0ZWRPblJhbXBQcm92aWRlclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtQnV5SW5Qcm9ncmVzc1ZpZXcucHJvdG90eXBlLCBcInVyaVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtQnV5SW5Qcm9ncmVzc1ZpZXcucHJvdG90eXBlLCBcInJlYWR5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21CdXlJblByb2dyZXNzVmlldy5wcm90b3R5cGUsIFwic2hvd1JldHJ5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21CdXlJblByb2dyZXNzVmlldy5wcm90b3R5cGUsIFwiYnVmZmVyaW5nXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21CdXlJblByb2dyZXNzVmlldy5wcm90b3R5cGUsIFwiZXJyb3JcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbUJ1eUluUHJvZ3Jlc3NWaWV3LnByb3RvdHlwZSwgXCJzdGFydFRpbWVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgVzNtQnV5SW5Qcm9ncmVzc1ZpZXcucHJvdG90eXBlLCBcImlzTW9iaWxlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSgpXG5dLCBXM21CdXlJblByb2dyZXNzVmlldy5wcm90b3R5cGUsIFwib25SZXRyeVwiLCB2b2lkIDApO1xuVzNtQnV5SW5Qcm9ncmVzc1ZpZXcgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3M20tYnV5LWluLXByb2dyZXNzLXZpZXcnKVxuXSwgVzNtQnV5SW5Qcm9ncmVzc1ZpZXcpO1xuZXhwb3J0IHsgVzNtQnV5SW5Qcm9ncmVzc1ZpZXcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCB9IGZyb20gJ0ByZW93bi9hcHBraXQtdWknO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1idXR0b24nO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS1mbGV4JztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktaWNvbic7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXRleHQnO1xuaW1wb3J0ICdAcmVvd24vYXBwa2l0LXVpL3d1aS12aXN1YWwnO1xubGV0IFczbVdoYXRJc0FCdXlWaWV3ID0gY2xhc3MgVzNtV2hhdElzQUJ1eVZpZXcgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDx3dWktZmxleFxuICAgICAgICBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgLnBhZGRpbmc9JHtbJ3h4bCcsICczeGwnLCAneGwnLCAnM3hsJ119XG4gICAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxuICAgICAgICBnYXA9XCJ4bFwiXG4gICAgICA+XG4gICAgICAgIDx3dWktdmlzdWFsIG5hbWU9XCJvbnJhbXBDYXJkXCI+PC93dWktdmlzdWFsPlxuICAgICAgICA8d3VpLWZsZXggZmxleERpcmVjdGlvbj1cImNvbHVtblwiIGdhcD1cInhzXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgIDx3dWktdGV4dCBhbGlnbj1cImNlbnRlclwiIHZhcmlhbnQ9XCJwYXJhZ3JhcGgtNTAwXCIgY29sb3I9XCJmZy0xMDBcIj5cbiAgICAgICAgICAgIFF1aWNrbHkgYW5kIGVhc2lseSBidXkgZGlnaXRhbCBhc3NldHMhXG4gICAgICAgICAgPC93dWktdGV4dD5cbiAgICAgICAgICA8d3VpLXRleHQgYWxpZ249XCJjZW50ZXJcIiB2YXJpYW50PVwic21hbGwtNDAwXCIgY29sb3I9XCJmZy0yMDBcIj5cbiAgICAgICAgICAgIFNpbXBseSBzZWxlY3QgeW91ciBwcmVmZXJyZWQgb25yYW1wIHByb3ZpZGVyIGFuZCBhZGQgZGlnaXRhbCBhc3NldHMgdG8geW91ciBhY2NvdW50XG4gICAgICAgICAgICB1c2luZyB5b3VyIGNyZWRpdCBjYXJkIG9yIGJhbmsgdHJhbnNmZXJcbiAgICAgICAgICA8L3d1aS10ZXh0PlxuICAgICAgICA8L3d1aS1mbGV4PlxuICAgICAgICA8d3VpLWJ1dHRvbiBAY2xpY2s9JHtSb3V0ZXJDb250cm9sbGVyLmdvQmFja30+XG4gICAgICAgICAgPHd1aS1pY29uIHNpemU9XCJzbVwiIGNvbG9yPVwiaW5oZXJpdFwiIG5hbWU9XCJhZGRcIiBzbG90PVwiaWNvbkxlZnRcIj48L3d1aS1pY29uPlxuICAgICAgICAgIEJ1eVxuICAgICAgICA8L3d1aS1idXR0b24+XG4gICAgICA8L3d1aS1mbGV4PlxuICAgIGA7XG4gICAgfVxufTtcblczbVdoYXRJc0FCdXlWaWV3ID0gX19kZWNvcmF0ZShbXG4gICAgY3VzdG9tRWxlbWVudCgndzNtLXdoYXQtaXMtYS1idXktdmlldycpXG5dLCBXM21XaGF0SXNBQnV5Vmlldyk7XG5leHBvcnQgeyBXM21XaGF0SXNBQnV5VmlldyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIDpob3N0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIHd1aS1sb2FkaW5nLXNwaW5uZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICByaWdodDogMjBweDtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIH1cblxuICAuY3VycmVuY3ktY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICAgIHJpZ2h0OiB2YXIoLS13dWktc3BhY2luZy0xeHMpO1xuICAgIGhlaWdodDogNDBweDtcbiAgICBwYWRkaW5nOiB2YXIoLS13dWktc3BhY2luZy14cykgdmFyKC0td3VpLXNwYWNpbmctMXhzKSB2YXIoLS13dWktc3BhY2luZy14cylcbiAgICAgIHZhcigtLXd1aS1zcGFjaW5nLXhzKTtcbiAgICBtaW4td2lkdGg6IDk1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tRlVMTCwgMTAwMHB4KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS13dWktY29sb3ItZ3JheS1nbGFzcy0wMDIpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXd1aS1jb2xvci1ncmF5LWdsYXNzLTAwMik7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgLmN1cnJlbmN5LWNvbnRhaW5lciA+IHd1aS1pbWFnZSB7XG4gICAgaGVpZ2h0OiAyNHB4O1xuICAgIHdpZHRoOiAyNHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMnO1xuaW1wb3J0IHsgQXNzZXRDb250cm9sbGVyLCBNb2RhbENvbnRyb2xsZXIsIE9uUmFtcENvbnRyb2xsZXIgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzJztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdAcmVvd24vYXBwa2l0LXVpJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktZmxleCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWltYWdlJztcbmltcG9ydCAnQHJlb3duL2FwcGtpdC11aS93dWktaW5wdXQtdGV4dCc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWxvYWRpbmctc3Bpbm5lcic7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLXRleHQnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5sZXQgVzNtSW5wdXRDdXJyZW5jeSA9IGNsYXNzIFczbUlucHV0Q3VycmVuY3kgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IFtdO1xuICAgICAgICB0aGlzLnR5cGUgPSAnVG9rZW4nO1xuICAgICAgICB0aGlzLnZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW5jaWVzID0gW107XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDdXJyZW5jeSA9IHRoaXMuY3VycmVuY2llcz8uWzBdO1xuICAgICAgICB0aGlzLmN1cnJlbmN5SW1hZ2VzID0gQXNzZXRDb250cm9sbGVyLnN0YXRlLmN1cnJlbmN5SW1hZ2VzO1xuICAgICAgICB0aGlzLnRva2VuSW1hZ2VzID0gQXNzZXRDb250cm9sbGVyLnN0YXRlLnRva2VuSW1hZ2VzO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goT25SYW1wQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ3B1cmNoYXNlQ3VycmVuY3knLCB2YWwgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWwgfHwgdGhpcy50eXBlID09PSAnRmlhdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ3VycmVuY3kgPSB0aGlzLmZvcm1hdFB1cmNoYXNlQ3VycmVuY3kodmFsKTtcbiAgICAgICAgfSksIE9uUmFtcENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdwYXltZW50Q3VycmVuY3knLCB2YWwgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWwgfHwgdGhpcy50eXBlID09PSAnVG9rZW4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1cnJlbmN5ID0gdGhpcy5mb3JtYXRQYXltZW50Q3VycmVuY3kodmFsKTtcbiAgICAgICAgfSksIE9uUmFtcENvbnRyb2xsZXIuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSAnRmlhdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbmNpZXMgPSB2YWwucHVyY2hhc2VDdXJyZW5jaWVzLm1hcCh0aGlzLmZvcm1hdFB1cmNoYXNlQ3VycmVuY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW5jaWVzID0gdmFsLnBheW1lbnRDdXJyZW5jaWVzLm1hcCh0aGlzLmZvcm1hdFBheW1lbnRDdXJyZW5jeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBBc3NldENvbnRyb2xsZXIuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbmN5SW1hZ2VzID0geyAuLi52YWwuY3VycmVuY3lJbWFnZXMgfTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5JbWFnZXMgPSB7IC4uLnZhbC50b2tlbkltYWdlcyB9O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgICAgT25SYW1wQ29udHJvbGxlci5nZXRBdmFpbGFibGVDdXJyZW5jaWVzKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLmZvckVhY2godW5zdWJzY3JpYmUgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gdGhpcy5zZWxlY3RlZEN1cnJlbmN5Py5zeW1ib2wgfHwgJyc7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5jdXJyZW5jeUltYWdlc1tzeW1ib2xdIHx8IHRoaXMudG9rZW5JbWFnZXNbc3ltYm9sXTtcbiAgICAgICAgcmV0dXJuIGh0bWwgYDx3dWktaW5wdXQtdGV4dCB0eXBlPVwibnVtYmVyXCIgc2l6ZT1cImxnXCIgdmFsdWU9JHt0aGlzLnZhbHVlfT5cbiAgICAgICR7dGhpcy5zZWxlY3RlZEN1cnJlbmN5XG4gICAgICAgICAgICA/IGh0bWwgYCA8d3VpLWZsZXhcbiAgICAgICAgICAgIGNsYXNzPVwiY3VycmVuY3ktY29udGFpbmVyXCJcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiXG4gICAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgICAgIGdhcD1cInh4c1wiXG4gICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiBNb2RhbENvbnRyb2xsZXIub3Blbih7IHZpZXc6IGBPblJhbXAke3RoaXMudHlwZX1TZWxlY3RgIH0pfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx3dWktaW1hZ2Ugc3JjPSR7aWZEZWZpbmVkKGltYWdlKX0+PC93dWktaW1hZ2U+XG4gICAgICAgICAgICA8d3VpLXRleHQgY29sb3I9XCJmZy0xMDBcIj4ke3RoaXMuc2VsZWN0ZWRDdXJyZW5jeS5zeW1ib2x9PC93dWktdGV4dD5cbiAgICAgICAgICA8L3d1aS1mbGV4PmBcbiAgICAgICAgICAgIDogaHRtbCBgPHd1aS1sb2FkaW5nLXNwaW5uZXI+PC93dWktbG9hZGluZy1zcGlubmVyPmB9XG4gICAgPC93dWktaW5wdXQtdGV4dD5gO1xuICAgIH1cbiAgICBmb3JtYXRQYXltZW50Q3VycmVuY3koY3VycmVuY3kpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGN1cnJlbmN5LmlkLFxuICAgICAgICAgICAgc3ltYm9sOiBjdXJyZW5jeS5pZFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3JtYXRQdXJjaGFzZUN1cnJlbmN5KGN1cnJlbmN5KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBjdXJyZW5jeS5uYW1lLFxuICAgICAgICAgICAgc3ltYm9sOiBjdXJyZW5jeS5zeW1ib2xcbiAgICAgICAgfTtcbiAgICB9XG59O1xuVzNtSW5wdXRDdXJyZW5jeS5zdHlsZXMgPSBzdHlsZXM7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuXSwgVzNtSW5wdXRDdXJyZW5jeS5wcm90b3R5cGUsIFwidHlwZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFczbUlucHV0Q3VycmVuY3kucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21JbnB1dEN1cnJlbmN5LnByb3RvdHlwZSwgXCJjdXJyZW5jaWVzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21JbnB1dEN1cnJlbmN5LnByb3RvdHlwZSwgXCJzZWxlY3RlZEN1cnJlbmN5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBzdGF0ZSgpXG5dLCBXM21JbnB1dEN1cnJlbmN5LnByb3RvdHlwZSwgXCJjdXJyZW5jeUltYWdlc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtSW5wdXRDdXJyZW5jeS5wcm90b3R5cGUsIFwidG9rZW5JbWFnZXNcIiwgdm9pZCAwKTtcblczbUlucHV0Q3VycmVuY3kgPSBfX2RlY29yYXRlKFtcbiAgICBjdXN0b21FbGVtZW50KCd3M20tb25yYW1wLWlucHV0Jylcbl0sIFczbUlucHV0Q3VycmVuY3kpO1xuZXhwb3J0IHsgVzNtSW5wdXRDdXJyZW5jeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGNzcyBgXG4gIDpob3N0ID4gd3VpLWZsZXgge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1heC13aWR0aDogMzYwcHg7XG4gIH1cblxuICA6aG9zdCA+IHd1aS1mbGV4ID4gd3VpLWZsZXgge1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXd1aS1ib3JkZXItcmFkaXVzLWwpO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLmFtb3VudHMtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlcy5qcy5tYXAiLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciwgTW9kYWxDb250cm9sbGVyLCBPblJhbXBDb250cm9sbGVyIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb250cm9sbGVycyc7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50IH0gZnJvbSAnQHJlb3duL2FwcGtpdC11aSc7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWJ1dHRvbic7XG5pbXBvcnQgJ0ByZW93bi9hcHBraXQtdWkvd3VpLWZsZXgnO1xuaW1wb3J0ICcuLi8uLi9wYXJ0aWFscy93M20tb25yYW1wLWlucHV0L2luZGV4LmpzJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMuanMnO1xuY29uc3QgUEFZTUVOVF9DVVJSRU5DWV9TWU1CT0xTID0ge1xuICAgIFVTRDogJyQnLFxuICAgIEVVUjogJ+KCrCcsXG4gICAgR0JQOiAnwqMnXG59O1xuY29uc3QgQlVZX1BSRVNFVF9BTU9VTlRTID0gWzEwMCwgMjUwLCA1MDAsIDEwMDBdO1xubGV0IFczbU9ucmFtcFdpZGdldCA9IGNsYXNzIFczbU9ucmFtcFdpZGdldCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gW107XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gTW9kYWxDb250cm9sbGVyLnN0YXRlLmxvYWRpbmc7XG4gICAgICAgIHRoaXMucGF5bWVudEN1cnJlbmN5ID0gT25SYW1wQ29udHJvbGxlci5zdGF0ZS5wYXltZW50Q3VycmVuY3k7XG4gICAgICAgIHRoaXMucGF5bWVudEFtb3VudCA9IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucGF5bWVudEFtb3VudDtcbiAgICAgICAgdGhpcy5wdXJjaGFzZUFtb3VudCA9IE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucHVyY2hhc2VBbW91bnQ7XG4gICAgICAgIHRoaXMucXVvdGVMb2FkaW5nID0gT25SYW1wQ29udHJvbGxlci5zdGF0ZS5xdW90ZXNMb2FkaW5nO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLnB1c2goLi4uW1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcEFkZHJlc3MnLCB2YWwgPT4gKHRoaXMuY2FpcEFkZHJlc3MgPSB2YWwpKSxcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2xvYWRpbmcnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHZhbDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgT25SYW1wQ29udHJvbGxlci5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBheW1lbnRDdXJyZW5jeSA9IHZhbC5wYXltZW50Q3VycmVuY3k7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXltZW50QW1vdW50ID0gdmFsLnBheW1lbnRBbW91bnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXJjaGFzZUFtb3VudCA9IHZhbC5wdXJjaGFzZUFtb3VudDtcbiAgICAgICAgICAgICAgICB0aGlzLnF1b3RlTG9hZGluZyA9IHZhbC5xdW90ZXNMb2FkaW5nO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlLmZvckVhY2godW5zdWJzY3JpYmUgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwgYFxuICAgICAgPHd1aS1mbGV4IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIiBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgPHd1aS1mbGV4IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgZ2FwPVwieHNcIj5cbiAgICAgICAgICA8dzNtLW9ucmFtcC1pbnB1dFxuICAgICAgICAgICAgdHlwZT1cIkZpYXRcIlxuICAgICAgICAgICAgQGlucHV0Q2hhbmdlPSR7dGhpcy5vblBheW1lbnRBbW91bnRDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgIC52YWx1ZT0ke3RoaXMucGF5bWVudEFtb3VudCB8fCAwfVxuICAgICAgICAgID48L3czbS1vbnJhbXAtaW5wdXQ+XG4gICAgICAgICAgPHczbS1vbnJhbXAtaW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJUb2tlblwiXG4gICAgICAgICAgICAudmFsdWU9JHt0aGlzLnB1cmNoYXNlQW1vdW50IHx8IDB9XG4gICAgICAgICAgICAubG9hZGluZz0ke3RoaXMucXVvdGVMb2FkaW5nfVxuICAgICAgICAgID48L3czbS1vbnJhbXAtaW5wdXQ+XG4gICAgICAgICAgPHd1aS1mbGV4IGp1c3RpZnlDb250ZW50PVwic3BhY2UtZXZlbmx5XCIgY2xhc3M9XCJhbW91bnRzLWNvbnRhaW5lclwiIGdhcD1cInhzXCI+XG4gICAgICAgICAgICAke0JVWV9QUkVTRVRfQU1PVU5UUy5tYXAoYW1vdW50ID0+IGh0bWwgYDx3dWktYnV0dG9uXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PSR7dGhpcy5wYXltZW50QW1vdW50ID09PSBhbW91bnQgPyAnYWNjZW50JyA6ICduZXV0cmFsJ31cbiAgICAgICAgICAgICAgICAgIHNpemU9XCJtZFwiXG4gICAgICAgICAgICAgICAgICB0ZXh0VmFyaWFudD1cInBhcmFncmFwaC02MDBcIlxuICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB0aGlzLnNlbGVjdFByZXNldEFtb3VudChhbW91bnQpfVxuICAgICAgICAgICAgICAgICAgPiR7YCR7UEFZTUVOVF9DVVJSRU5DWV9TWU1CT0xTW3RoaXMucGF5bWVudEN1cnJlbmN5Py5pZCB8fCAnVVNEJ119ICR7YW1vdW50fWB9PC93dWktYnV0dG9uXG4gICAgICAgICAgICAgICAgPmApfVxuICAgICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICAgICAgJHt0aGlzLnRlbXBsYXRlQnV0dG9uKCl9XG4gICAgICAgIDwvd3VpLWZsZXg+XG4gICAgICA8L3d1aS1mbGV4PlxuICAgIGA7XG4gICAgfVxuICAgIHRlbXBsYXRlQnV0dG9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWlwQWRkcmVzc1xuICAgICAgICAgICAgPyBodG1sIGA8d3VpLWJ1dHRvblxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuZ2V0UXVvdGVzLmJpbmQodGhpcyl9XG4gICAgICAgICAgdmFyaWFudD1cIm1haW5cIlxuICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgYm9yZGVyUmFkaXVzPVwieHNcIlxuICAgICAgICA+XG4gICAgICAgICAgR2V0IHF1b3Rlc1xuICAgICAgICA8L3d1aS1idXR0b24+YFxuICAgICAgICAgICAgOiBodG1sIGA8d3VpLWJ1dHRvblxuICAgICAgICAgIEBjbGljaz0ke3RoaXMub3Blbk1vZGFsLmJpbmQodGhpcyl9XG4gICAgICAgICAgdmFyaWFudD1cImFjY2VudFwiXG4gICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICBib3JkZXJSYWRpdXM9XCJ4c1wiXG4gICAgICAgID5cbiAgICAgICAgICBDb25uZWN0IHdhbGxldFxuICAgICAgICA8L3d1aS1idXR0b24+YDtcbiAgICB9XG4gICAgZ2V0UXVvdGVzKCkge1xuICAgICAgICBpZiAoIXRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLm9wZW4oeyB2aWV3OiAnT25SYW1wUHJvdmlkZXJzJyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcGVuTW9kYWwoKSB7XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5vcGVuKHsgdmlldzogJ0Nvbm5lY3QnIH0pO1xuICAgIH1cbiAgICBhc3luYyBvblBheW1lbnRBbW91bnRDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgT25SYW1wQ29udHJvbGxlci5zZXRQYXltZW50QW1vdW50KE51bWJlcihldmVudC5kZXRhaWwpKTtcbiAgICAgICAgYXdhaXQgT25SYW1wQ29udHJvbGxlci5nZXRRdW90ZSgpO1xuICAgIH1cbiAgICBhc3luYyBzZWxlY3RQcmVzZXRBbW91bnQoYW1vdW50KSB7XG4gICAgICAgIE9uUmFtcENvbnRyb2xsZXIuc2V0UGF5bWVudEFtb3VudChhbW91bnQpO1xuICAgICAgICBhd2FpdCBPblJhbXBDb250cm9sbGVyLmdldFF1b3RlKCk7XG4gICAgfVxufTtcblczbU9ucmFtcFdpZGdldC5zdHlsZXMgPSBzdHlsZXM7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFczbU9ucmFtcFdpZGdldC5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9ucmFtcFdpZGdldC5wcm90b3R5cGUsIFwiY2FpcEFkZHJlc3NcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9ucmFtcFdpZGdldC5wcm90b3R5cGUsIFwibG9hZGluZ1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wV2lkZ2V0LnByb3RvdHlwZSwgXCJwYXltZW50Q3VycmVuY3lcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHN0YXRlKClcbl0sIFczbU9ucmFtcFdpZGdldC5wcm90b3R5cGUsIFwicGF5bWVudEFtb3VudFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wV2lkZ2V0LnByb3RvdHlwZSwgXCJwdXJjaGFzZUFtb3VudFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoKVxuXSwgVzNtT25yYW1wV2lkZ2V0LnByb3RvdHlwZSwgXCJxdW90ZUxvYWRpbmdcIiwgdm9pZCAwKTtcblczbU9ucmFtcFdpZGdldCA9IF9fZGVjb3JhdGUoW1xuICAgIGN1c3RvbUVsZW1lbnQoJ3czbS1vbnJhbXAtd2lkZ2V0Jylcbl0sIFczbU9ucmFtcFdpZGdldCk7XG5leHBvcnQgeyBXM21PbnJhbXBXaWRnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJzdHlsZXMkOCIsImNzcyIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJyIiwiZCIsImkiLCJXM21PblJhbXBBY3Rpdml0eUl0ZW0iLCJMaXRFbGVtZW50IiwiaHRtbCIsIkFwaUNvbnRyb2xsZXIiLCJpY29uIiwic3R5bGVzIiwicHJvcGVydHkiLCJjdXN0b21FbGVtZW50Iiwic3R5bGVzJDciLCJMT0FESU5HX0lURU1fQ09VTlQiLCJXM21PblJhbXBBY3Rpdml0eVZpZXciLCJPblJhbXBDb250cm9sbGVyIiwiVHJhbnNhY3Rpb25zQ29udHJvbGxlciIsIkFzc2V0Q29udHJvbGxlciIsInZhbCIsInRyYW5zYWN0aW9ucyIsInRyYW5zYWN0aW9uIiwiZGF0ZSIsIkRhdGVVdGlsIiwidHJhbnNmZXIiLCJmdW5naWJsZUluZm8iLCJpZkRlZmluZWQiLCJ5ZWFyIiwieWVhckludCIsIl8iLCJpZHgiLCJtb250aCIsImdyb3VwVGl0bGUiLCJUcmFuc2FjdGlvblV0aWwiLCJhZGRyZXNzIiwiQWNjb3VudENvbnRyb2xsZXIiLCJwcm9qZWN0SWQiLCJPcHRpb25zQ29udHJvbGxlciIsInRvZGF5IiwiaXRlbSIsInN0YXRlIiwic3R5bGVzJDYiLCJXM21PbnJhbXBGaWF0U2VsZWN0VmlldyIsIk9wdGlvbnNTdGF0ZUNvbnRyb2xsZXIiLCJ1bnN1YnNjcmliZSIsInRlcm1zQ29uZGl0aW9uc1VybCIsInByaXZhY3lQb2xpY3lVcmwiLCJsZWdhbENoZWNrYm94IiwiZGlzYWJsZWQiLCJjdXJyZW5jeSIsIk1vZGFsQ29udHJvbGxlciIsInN0eWxlcyQ1IiwiVzNtT25SYW1wUHJvdmlkZXJJdGVtIiwic2xpY2VkTmV0d29ya3MiLCJDaGFpbkNvbnRyb2xsZXIiLCJuZXR3b3JrIiwiQXNzZXRVdGlsIiwic3R5bGVzJDQiLCJXM21PblJhbXBQcm92aWRlcnNGb290ZXIiLCJhY3RpdmVDaGFpbk5hbWVzcGFjZSIsIkV2ZW50c0NvbnRyb2xsZXIiLCJXM21GcmFtZVJwY0NvbnN0YW50cyIsIlJvdXRlckNvbnRyb2xsZXIiLCJXM21PblJhbXBQcm92aWRlcnNWaWV3IiwidXJsUHJvbWlzZXMiLCJwcm92aWRlciIsInVybHMiLCJpbmRleCIsIkNvcmVIZWxwZXJVdGlsIiwiZGVmYXVsdE5ldHdvcmsiLCJDb25zdGFudHNVdGlsIiwicHVyY2hhc2VDdXJyZW5jeSIsImFzc2V0cyIsIkJsb2NrY2hhaW5BcGlDb250cm9sbGVyIiwic3R5bGVzJDMiLCJXM21PbnJhbXBUb2tlbnNWaWV3IiwidG9rZW4iLCJzdHlsZXMkMiIsIlczbUJ1eUluUHJvZ3Jlc3NWaWV3IiwiQ29ubmVjdGlvbkNvbnRyb2xsZXIiLCJsYWJlbCIsInN1YkxhYmVsIiwidHgiLCJlcnJvciIsIlNuYWNrQ29udHJvbGxlciIsImJvcmRlclJhZGl1c01hc3RlciIsIlRoZW1lQ29udHJvbGxlciIsInJhZGl1cyIsIlczbVdoYXRJc0FCdXlWaWV3Iiwic3R5bGVzJDEiLCJXM21JbnB1dEN1cnJlbmN5Iiwic3ltYm9sIiwiaW1hZ2UiLCJQQVlNRU5UX0NVUlJFTkNZX1NZTUJPTFMiLCJCVVlfUFJFU0VUX0FNT1VOVFMiLCJXM21PbnJhbXBXaWRnZXQiLCJhbW91bnQiLCJldmVudCJdLCJtYXBwaW5ncyI6InFxQkFDQSxNQUFBQSxHQUFlQztBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFB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Q0FDSSxnQkFBaUIsQ0FDYixPQUFPLEtBQUssWUFDTnpGO0FBQUFBLG1CQUNLLEtBQUssVUFBVSxLQUFLLElBQUksQ0FBQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQVE5QkE7QUFBQUEsbUJBQ0ssS0FBSyxVQUFVLEtBQUssSUFBSSxDQUFDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBUTVDLENBQ0ksV0FBWSxDQUNILEtBQUssU0FDTjJDLEVBQWdCLEtBQUssQ0FBRSxLQUFNLGlCQUFpQixDQUFFLENBRTVELENBQ0ksV0FBWSxDQUNSQSxFQUFnQixLQUFLLENBQUUsS0FBTSxTQUFTLENBQUUsQ0FDaEQsQ0FDSSxNQUFNLHNCQUFzQitDLEVBQU8sQ0FDL0JqRixFQUFpQixpQkFBaUIsT0FBT2lGLEVBQU0sTUFBTSxDQUFDLEVBQ3RELE1BQU1qRixFQUFpQixTQUFVLENBQ3pDLENBQ0ksTUFBTSxtQkFBbUJnRixFQUFRLENBQzdCaEYsRUFBaUIsaUJBQWlCZ0YsQ0FBTSxFQUN4QyxNQUFNaEYsRUFBaUIsU0FBVSxDQUN6QyxDQUNBLEVBQ0ErRSxFQUFnQixPQUFTckYsR0FDekJkLEVBQVcsQ0FDUGUsRUFBUyxDQUFFLEtBQU0sT0FBUyxDQUFBLENBQzlCLEVBQUdvRixFQUFnQixVQUFXLFdBQVksTUFBTSxFQUNoRG5HLEVBQVcsQ0FDUDRDLEVBQUssQ0FDVCxFQUFHdUQsRUFBZ0IsVUFBVyxjQUFlLE1BQU0sRUFDbkRuRyxFQUFXLENBQ1A0QyxFQUFLLENBQ1QsRUFBR3VELEVBQWdCLFVBQVcsVUFBVyxNQUFNLEVBQy9DbkcsRUFBVyxDQUNQNEMsRUFBSyxDQUNULEVBQUd1RCxFQUFnQixVQUFXLGtCQUFtQixNQUFNLEVBQ3ZEbkcsRUFBVyxDQUNQNEMsRUFBSyxDQUNULEVBQUd1RCxFQUFnQixVQUFXLGdCQUFpQixNQUFNLEVBQ3JEbkcsRUFBVyxDQUNQNEMsRUFBSyxDQUNULEVBQUd1RCxFQUFnQixVQUFXLGlCQUFrQixNQUFNLEVBQ3REbkcsRUFBVyxDQUNQNEMsRUFBSyxDQUNULEVBQUd1RCxFQUFnQixVQUFXLGVBQWdCLE1BQU0sRUFDcERBLEVBQWtCbkcsRUFBVyxDQUN6QmdCLEVBQWMsbUJBQW1CLENBQ3JDLEVBQUdtRixDQUFlIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTldfQ==
